var Lo=Object.defineProperty;var Ii=o=>{throw TypeError(o)};var Uo=(o,c,s)=>c in o?Lo(o,c,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[c]=s;var We=(o,c,s)=>Uo(o,typeof c!="symbol"?c+"":c,s),Mr=(o,c,s)=>c.has(o)||Ii("Cannot "+s);var O=(o,c,s)=>(Mr(o,c,"read from private field"),s?s.call(o):c.get(o)),Be=(o,c,s)=>c.has(o)?Ii("Cannot add the same private member more than once"):c instanceof WeakSet?c.add(o):c.set(o,s),Oe=(o,c,s,l)=>(Mr(o,c,"write to private field"),l?l.call(o,s):c.set(o,s),s),Ae=(o,c,s)=>(Mr(o,c,"access private method"),s);var ur=(o,c,s,l)=>({set _(f){Oe(o,c,f,s)},get _(){return O(o,c,l)}});var di=Object.defineProperty,jo=Object.getOwnPropertyDescriptor,No=Object.getOwnPropertyNames,Do=Object.prototype.hasOwnProperty,tt=(o,c)=>()=>(o&&(c=o(o=0)),c),be=(o,c)=>()=>(c||o((c={exports:{}}).exports,c),c.exports),Jt=(o,c)=>{for(var s in c)di(o,s,{get:c[s],enumerable:!0})},Fo=(o,c,s,l)=>{if(c&&typeof c=="object"||typeof c=="function")for(let f of No(c))!Do.call(o,f)&&f!==s&&di(o,f,{get:()=>c[f],enumerable:!(l=jo(c,f))||l.enumerable});return o},je=o=>Fo(di({},"__esModule",{value:!0}),o),he=tt(()=>{}),Me={};Jt(Me,{_debugEnd:()=>In,_debugProcess:()=>An,_events:()=>Fn,_eventsCount:()=>Wn,_exiting:()=>hn,_fatalExceptions:()=>vn,_getActiveHandles:()=>as,_getActiveRequests:()=>os,_kill:()=>dn,_linkedBinding:()=>is,_maxListeners:()=>Dn,_preload_modules:()=>jn,_rawDebug:()=>an,_startProfilerIdleNotifier:()=>kn,_stopProfilerIdleNotifier:()=>Tn,_tickCallback:()=>Sn,abort:()=>Rn,addListener:()=>qn,allowedNodeEnvironmentFlags:()=>wn,arch:()=>Kr,argv:()=>Yr,argv0:()=>Un,assert:()=>ls,binding:()=>tn,chdir:()=>sn,config:()=>fn,cpuUsage:()=>rr,cwd:()=>nn,debugPort:()=>Ln,default:()=>gi,dlopen:()=>ss,domain:()=>un,emit:()=>Kn,emitWarning:()=>en,env:()=>Qr,execArgv:()=>Jr,execPath:()=>Mn,exit:()=>mn,features:()=>_n,hasUncaughtExceptionCaptureCallback:()=>us,hrtime:()=>gr,kill:()=>bn,listeners:()=>fs,memoryUsage:()=>gn,moduleLoadList:()=>ln,nextTick:()=>rs,off:()=>Hn,on:()=>mt,once:()=>$n,openStdin:()=>yn,pid:()=>xn,platform:()=>Gr,ppid:()=>Bn,prependListener:()=>Gn,prependOnceListener:()=>Qn,reallyExit:()=>cn,release:()=>on,removeAllListeners:()=>zn,removeListener:()=>Vn,resourceUsage:()=>pn,setSourceMapsEnabled:()=>Nn,setUncaughtExceptionCaptureCallback:()=>En,stderr:()=>Pn,stdin:()=>Cn,stdout:()=>On,title:()=>zr,umask:()=>rn,uptime:()=>hs,version:()=>Xr,versions:()=>Zr});function pi(o){throw new Error("Node.js process "+o+" is not supported by JSPM core outside of Node.js")}function Wo(){!$t||!Wt||($t=!1,Wt.length?dt=Wt.concat(dt):sr=-1,dt.length&&ts())}function ts(){if(!$t){var o=setTimeout(Wo,0);$t=!0;for(var c=dt.length;c;){for(Wt=dt,dt=[];++sr<c;)Wt&&Wt[sr].run();sr=-1,c=dt.length}Wt=null,$t=!1,clearTimeout(o)}}function rs(o){var c=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)c[s-1]=arguments[s];dt.push(new ns(o,c)),dt.length===1&&!$t&&setTimeout(ts,0)}function ns(o,c){this.fun=o,this.array=c}function Ze(){}function is(o){pi("_linkedBinding")}function ss(o){pi("dlopen")}function os(){return[]}function as(){return[]}function ls(o,c){if(!o)throw new Error(c||"assertion error")}function us(){return!1}function hs(){return vt.now()/1e3}function gr(o){var c=Math.floor((Date.now()-vt.now())*.001),s=vt.now()*.001,l=Math.floor(s)+c,f=Math.floor(s%1*1e9);return o&&(l=l-o[0],f=f-o[1],f<0&&(l--,f+=br)),[l,f]}function mt(){return gi}function fs(o){return[]}var dt,$t,Wt,sr,zr,Kr,Gr,Qr,Yr,Jr,Xr,Zr,en,tn,rn,nn,sn,on,an,ln,un,hn,fn,cn,dn,rr,pn,gn,bn,mn,yn,wn,_n,vn,En,Sn,An,In,kn,Tn,On,Pn,Cn,Rn,xn,Bn,Mn,Ln,Un,jn,Nn,vt,Lr,br,Dn,Fn,Wn,qn,$n,Hn,Vn,zn,Kn,Gn,Qn,gi,qo=tt(()=>{he(),ce(),fe(),dt=[],$t=!1,sr=-1,ns.prototype.run=function(){this.fun.apply(null,this.array)},zr="browser",Kr="x64",Gr="browser",Qr={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Yr=["/usr/bin/node"],Jr=[],Xr="v16.8.0",Zr={},en=function(o,c){console.warn((c?c+": ":"")+o)},tn=function(o){pi("binding")},rn=function(o){return 0},nn=function(){return"/"},sn=function(o){},on={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},an=Ze,ln=[],un={},hn=!1,fn={},cn=Ze,dn=Ze,rr=function(){return{}},pn=rr,gn=rr,bn=Ze,mn=Ze,yn=Ze,wn={},_n={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},vn=Ze,En=Ze,Sn=Ze,An=Ze,In=Ze,kn=Ze,Tn=Ze,On=void 0,Pn=void 0,Cn=void 0,Rn=Ze,xn=2,Bn=1,Mn="/bin/usr/node",Ln=9229,Un="node",jn=[],Nn=Ze,vt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},vt.now===void 0&&(Lr=Date.now(),vt.timing&&vt.timing.navigationStart&&(Lr=vt.timing.navigationStart),vt.now=()=>Date.now()-Lr),br=1e9,gr.bigint=function(o){var c=gr(o);return typeof BigInt>"u"?c[0]*br+c[1]:BigInt(c[0]*br)+BigInt(c[1])},Dn=10,Fn={},Wn=0,qn=mt,$n=mt,Hn=mt,Vn=mt,zn=mt,Kn=Ze,Gn=mt,Qn=mt,gi={version:Xr,versions:Zr,arch:Kr,platform:Gr,release:on,_rawDebug:an,moduleLoadList:ln,binding:tn,_linkedBinding:is,_events:Fn,_eventsCount:Wn,_maxListeners:Dn,on:mt,addListener:qn,once:$n,off:Hn,removeListener:Vn,removeAllListeners:zn,emit:Kn,prependListener:Gn,prependOnceListener:Qn,listeners:fs,domain:un,_exiting:hn,config:fn,dlopen:ss,uptime:hs,_getActiveRequests:os,_getActiveHandles:as,reallyExit:cn,_kill:dn,cpuUsage:rr,resourceUsage:pn,memoryUsage:gn,kill:bn,exit:mn,openStdin:yn,allowedNodeEnvironmentFlags:wn,assert:ls,features:_n,_fatalExceptions:vn,setUncaughtExceptionCaptureCallback:En,hasUncaughtExceptionCaptureCallback:us,emitWarning:en,nextTick:rs,_tickCallback:Sn,_debugProcess:An,_debugEnd:In,_startProfilerIdleNotifier:kn,_stopProfilerIdleNotifier:Tn,stdout:On,stdin:Cn,stderr:Pn,abort:Rn,umask:rn,chdir:sn,cwd:nn,env:Qr,title:zr,argv:Yr,execArgv:Jr,pid:xn,ppid:Bn,execPath:Mn,debugPort:Ln,hrtime:gr,argv0:Un,_preload_modules:jn,setSourceMapsEnabled:Nn}}),fe=tt(()=>{qo()}),Qe={};Jt(Qe,{Buffer:()=>Sr,INSPECT_MAX_BYTES:()=>cs,default:()=>yt,kMaxLength:()=>ds});function $o(){if(Yn)return Yt;Yn=!0,Yt.byteLength=r,Yt.toByteArray=i,Yt.fromByteArray=g;for(var o=[],c=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,n=l.length;f<n;++f)o[f]=l[f],c[l.charCodeAt(f)]=f;c[45]=62,c[95]=63;function e(b){var m=b.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=b.indexOf("=");_===-1&&(_=m);var E=_===m?0:4-_%4;return[_,E]}function r(b){var m=e(b),_=m[0],E=m[1];return(_+E)*3/4-E}function t(b,m,_){return(m+_)*3/4-_}function i(b){var m,_=e(b),E=_[0],I=_[1],y=new s(t(b,E,I)),v=0,j=I>0?E-4:E,B;for(B=0;B<j;B+=4)m=c[b.charCodeAt(B)]<<18|c[b.charCodeAt(B+1)]<<12|c[b.charCodeAt(B+2)]<<6|c[b.charCodeAt(B+3)],y[v++]=m>>16&255,y[v++]=m>>8&255,y[v++]=m&255;return I===2&&(m=c[b.charCodeAt(B)]<<2|c[b.charCodeAt(B+1)]>>4,y[v++]=m&255),I===1&&(m=c[b.charCodeAt(B)]<<10|c[b.charCodeAt(B+1)]<<4|c[b.charCodeAt(B+2)]>>2,y[v++]=m>>8&255,y[v++]=m&255),y}function h(b){return o[b>>18&63]+o[b>>12&63]+o[b>>6&63]+o[b&63]}function d(b,m,_){for(var E,I=[],y=m;y<_;y+=3)E=(b[y]<<16&16711680)+(b[y+1]<<8&65280)+(b[y+2]&255),I.push(h(E));return I.join("")}function g(b){for(var m,_=b.length,E=_%3,I=[],y=16383,v=0,j=_-E;v<j;v+=y)I.push(d(b,v,v+y>j?j:v+y));return E===1?(m=b[_-1],I.push(o[m>>2]+o[m<<4&63]+"==")):E===2&&(m=(b[_-2]<<8)+b[_-1],I.push(o[m>>10]+o[m>>4&63]+o[m<<2&63]+"=")),I.join("")}return Yt}function Ho(){return Jn?nr:(Jn=!0,nr.read=function(o,c,s,l,f){var n,e,r=f*8-l-1,t=(1<<r)-1,i=t>>1,h=-7,d=s?f-1:0,g=s?-1:1,b=o[c+d];for(d+=g,n=b&(1<<-h)-1,b>>=-h,h+=r;h>0;n=n*256+o[c+d],d+=g,h-=8);for(e=n&(1<<-h)-1,n>>=-h,h+=l;h>0;e=e*256+o[c+d],d+=g,h-=8);if(n===0)n=1-i;else{if(n===t)return e?NaN:(b?-1:1)*(1/0);e=e+Math.pow(2,l),n=n-i}return(b?-1:1)*e*Math.pow(2,n-l)},nr.write=function(o,c,s,l,f,n){var e,r,t,i=n*8-f-1,h=(1<<i)-1,d=h>>1,g=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=l?0:n-1,m=l?1:-1,_=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(r=isNaN(c)?1:0,e=h):(e=Math.floor(Math.log(c)/Math.LN2),c*(t=Math.pow(2,-e))<1&&(e--,t*=2),e+d>=1?c+=g/t:c+=g*Math.pow(2,1-d),c*t>=2&&(e++,t/=2),e+d>=h?(r=0,e=h):e+d>=1?(r=(c*t-1)*Math.pow(2,f),e=e+d):(r=c*Math.pow(2,d-1)*Math.pow(2,f),e=0));f>=8;o[s+b]=r&255,b+=m,r/=256,f-=8);for(e=e<<f|r,i+=f;i>0;o[s+b]=e&255,b+=m,e/=256,i-=8);o[s+b-m]|=_*128},nr)}function Vo(){if(Xn)return Ot;Xn=!0;let o=$o(),c=Ho(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ot.Buffer=e,Ot.SlowBuffer=I,Ot.INSPECT_MAX_BYTES=50;let l=2147483647;Ot.kMaxLength=l,e.TYPED_ARRAY_SUPPORT=f(),!e.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{let a=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(a,u),a.foo()===42}catch{return!1}}Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}});function n(a){if(a>l)throw new RangeError('The value "'+a+'" is invalid for option "size"');let u=new Uint8Array(a);return Object.setPrototypeOf(u,e.prototype),u}function e(a,u,p){if(typeof a=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(a)}return r(a,u,p)}e.poolSize=8192;function r(a,u,p){if(typeof a=="string")return d(a,u);if(ArrayBuffer.isView(a))return b(a);if(a==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(D(a,ArrayBuffer)||a&&D(a.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(D(a,SharedArrayBuffer)||a&&D(a.buffer,SharedArrayBuffer)))return m(a,u,p);if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let w=a.valueOf&&a.valueOf();if(w!=null&&w!==a)return e.from(w,u,p);let k=_(a);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]=="function")return e.from(a[Symbol.toPrimitive]("string"),u,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}e.from=function(a,u,p){return r(a,u,p)},Object.setPrototypeOf(e.prototype,Uint8Array.prototype),Object.setPrototypeOf(e,Uint8Array);function t(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function i(a,u,p){return t(a),a<=0?n(a):u!==void 0?typeof p=="string"?n(a).fill(u,p):n(a).fill(u):n(a)}e.alloc=function(a,u,p){return i(a,u,p)};function h(a){return t(a),n(a<0?0:E(a)|0)}e.allocUnsafe=function(a){return h(a)},e.allocUnsafeSlow=function(a){return h(a)};function d(a,u){if((typeof u!="string"||u==="")&&(u="utf8"),!e.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let p=y(a,u)|0,w=n(p),k=w.write(a,u);return k!==p&&(w=w.slice(0,k)),w}function g(a){let u=a.length<0?0:E(a.length)|0,p=n(u);for(let w=0;w<u;w+=1)p[w]=a[w]&255;return p}function b(a){if(D(a,Uint8Array)){let u=new Uint8Array(a);return m(u.buffer,u.byteOffset,u.byteLength)}return g(a)}function m(a,u,p){if(u<0||a.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<u+(p||0))throw new RangeError('"length" is outside of buffer bounds');let w;return u===void 0&&p===void 0?w=new Uint8Array(a):p===void 0?w=new Uint8Array(a,u):w=new Uint8Array(a,u,p),Object.setPrototypeOf(w,e.prototype),w}function _(a){if(e.isBuffer(a)){let u=E(a.length)|0,p=n(u);return p.length===0||a.copy(p,0,0,u),p}if(a.length!==void 0)return typeof a.length!="number"||se(a.length)?n(0):g(a);if(a.type==="Buffer"&&Array.isArray(a.data))return g(a.data)}function E(a){if(a>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return a|0}function I(a){return+a!=a&&(a=0),e.alloc(+a)}e.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==e.prototype},e.compare=function(a,u){if(D(a,Uint8Array)&&(a=e.from(a,a.offset,a.byteLength)),D(u,Uint8Array)&&(u=e.from(u,u.offset,u.byteLength)),!e.isBuffer(a)||!e.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===u)return 0;let p=a.length,w=u.length;for(let k=0,U=Math.min(p,w);k<U;++k)if(a[k]!==u[k]){p=a[k],w=u[k];break}return p<w?-1:w<p?1:0},e.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(a,u){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return e.alloc(0);let p;if(u===void 0)for(u=0,p=0;p<a.length;++p)u+=a[p].length;let w=e.allocUnsafe(u),k=0;for(p=0;p<a.length;++p){let U=a[p];if(D(U,Uint8Array))k+U.length>w.length?(e.isBuffer(U)||(U=e.from(U)),U.copy(w,k)):Uint8Array.prototype.set.call(w,U,k);else if(e.isBuffer(U))U.copy(w,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=U.length}return w};function y(a,u){if(e.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||D(a,ArrayBuffer))return a.byteLength;if(typeof a!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);let p=a.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&p===0)return 0;let k=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return N(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return te(a).length;default:if(k)return w?-1:N(a).length;u=(""+u).toLowerCase(),k=!0}}e.byteLength=y;function v(a,u,p){let w=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,u>>>=0,p<=u))return"";for(a||(a="utf8");;)switch(a){case"hex":return le(this,u,p);case"utf8":case"utf-8":return G(this,u,p);case"ascii":return ge(this,u,p);case"latin1":case"binary":return de(this,u,p);case"base64":return C(this,u,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,u,p);default:if(w)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),w=!0}}e.prototype._isBuffer=!0;function j(a,u,p){let w=a[u];a[u]=a[p],a[p]=w}e.prototype.swap16=function(){let a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<a;u+=2)j(this,u,u+1);return this},e.prototype.swap32=function(){let a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<a;u+=4)j(this,u,u+3),j(this,u+1,u+2);return this},e.prototype.swap64=function(){let a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<a;u+=8)j(this,u,u+7),j(this,u+1,u+6),j(this,u+2,u+5),j(this,u+3,u+4);return this},e.prototype.toString=function(){let a=this.length;return a===0?"":arguments.length===0?G(this,0,a):v.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(a){if(!e.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:e.compare(this,a)===0},e.prototype.inspect=function(){let a="",u=Ot.INSPECT_MAX_BYTES;return a=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(a+=" ... "),"<Buffer "+a+">"},s&&(e.prototype[s]=e.prototype.inspect),e.prototype.compare=function(a,u,p,w,k){if(D(a,Uint8Array)&&(a=e.from(a,a.offset,a.byteLength)),!e.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(u===void 0&&(u=0),p===void 0&&(p=a?a.length:0),w===void 0&&(w=0),k===void 0&&(k=this.length),u<0||p>a.length||w<0||k>this.length)throw new RangeError("out of range index");if(w>=k&&u>=p)return 0;if(w>=k)return-1;if(u>=p)return 1;if(u>>>=0,p>>>=0,w>>>=0,k>>>=0,this===a)return 0;let U=k-w,K=p-u,_e=Math.min(U,K),ve=this.slice(w,k),Te=a.slice(u,p);for(let xe=0;xe<_e;++xe)if(ve[xe]!==Te[xe]){U=ve[xe],K=Te[xe];break}return U<K?-1:K<U?1:0};function B(a,u,p,w,k){if(a.length===0)return-1;if(typeof p=="string"?(w=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,se(p)&&(p=k?0:a.length-1),p<0&&(p=a.length+p),p>=a.length){if(k)return-1;p=a.length-1}else if(p<0)if(k)p=0;else return-1;if(typeof u=="string"&&(u=e.from(u,w)),e.isBuffer(u))return u.length===0?-1:A(a,u,p,w,k);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(a,u,p):Uint8Array.prototype.lastIndexOf.call(a,u,p):A(a,[u],p,w,k);throw new TypeError("val must be string, number or Buffer")}function A(a,u,p,w,k){let U=1,K=a.length,_e=u.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(a.length<2||u.length<2)return-1;U=2,K/=2,_e/=2,p/=2}function ve(xe,Ce){return U===1?xe[Ce]:xe.readUInt16BE(Ce*U)}let Te;if(k){let xe=-1;for(Te=p;Te<K;Te++)if(ve(a,Te)===ve(u,xe===-1?0:Te-xe)){if(xe===-1&&(xe=Te),Te-xe+1===_e)return xe*U}else xe!==-1&&(Te-=Te-xe),xe=-1}else for(p+_e>K&&(p=K-_e),Te=p;Te>=0;Te--){let xe=!0;for(let Ce=0;Ce<_e;Ce++)if(ve(a,Te+Ce)!==ve(u,Ce)){xe=!1;break}if(xe)return Te}return-1}e.prototype.includes=function(a,u,p){return this.indexOf(a,u,p)!==-1},e.prototype.indexOf=function(a,u,p){return B(this,a,u,p,!0)},e.prototype.lastIndexOf=function(a,u,p){return B(this,a,u,p,!1)};function T(a,u,p,w){p=Number(p)||0;let k=a.length-p;w?(w=Number(w),w>k&&(w=k)):w=k;let U=u.length;w>U/2&&(w=U/2);let K;for(K=0;K<w;++K){let _e=parseInt(u.substr(K*2,2),16);if(se(_e))return K;a[p+K]=_e}return K}function M(a,u,p,w){return ue(N(u,a.length-p),a,p,w)}function Y(a,u,p,w){return ue(Q(u),a,p,w)}function X(a,u,p,w){return ue(te(u),a,p,w)}function ae(a,u,p,w){return ue(re(u,a.length-p),a,p,w)}e.prototype.write=function(a,u,p,w){if(u===void 0)w="utf8",p=this.length,u=0;else if(p===void 0&&typeof u=="string")w=u,p=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(p)?(p=p>>>0,w===void 0&&(w="utf8")):(w=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let k=this.length-u;if((p===void 0||p>k)&&(p=k),a.length>0&&(p<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");let U=!1;for(;;)switch(w){case"hex":return T(this,a,u,p);case"utf8":case"utf-8":return M(this,a,u,p);case"ascii":case"latin1":case"binary":return Y(this,a,u,p);case"base64":return X(this,a,u,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,a,u,p);default:if(U)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),U=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(a,u,p){return u===0&&p===a.length?o.fromByteArray(a):o.fromByteArray(a.slice(u,p))}function G(a,u,p){p=Math.min(a.length,p);let w=[],k=u;for(;k<p;){let U=a[k],K=null,_e=U>239?4:U>223?3:U>191?2:1;if(k+_e<=p){let ve,Te,xe,Ce;switch(_e){case 1:U<128&&(K=U);break;case 2:ve=a[k+1],(ve&192)===128&&(Ce=(U&31)<<6|ve&63,Ce>127&&(K=Ce));break;case 3:ve=a[k+1],Te=a[k+2],(ve&192)===128&&(Te&192)===128&&(Ce=(U&15)<<12|(ve&63)<<6|Te&63,Ce>2047&&(Ce<55296||Ce>57343)&&(K=Ce));break;case 4:ve=a[k+1],Te=a[k+2],xe=a[k+3],(ve&192)===128&&(Te&192)===128&&(xe&192)===128&&(Ce=(U&15)<<18|(ve&63)<<12|(Te&63)<<6|xe&63,Ce>65535&&Ce<1114112&&(K=Ce))}}K===null?(K=65533,_e=1):K>65535&&(K-=65536,w.push(K>>>10&1023|55296),K=56320|K&1023),w.push(K),k+=_e}return W(w)}let J=4096;function W(a){let u=a.length;if(u<=J)return String.fromCharCode.apply(String,a);let p="",w=0;for(;w<u;)p+=String.fromCharCode.apply(String,a.slice(w,w+=J));return p}function ge(a,u,p){let w="";p=Math.min(a.length,p);for(let k=u;k<p;++k)w+=String.fromCharCode(a[k]&127);return w}function de(a,u,p){let w="";p=Math.min(a.length,p);for(let k=u;k<p;++k)w+=String.fromCharCode(a[k]);return w}function le(a,u,p){let w=a.length;(!u||u<0)&&(u=0),(!p||p<0||p>w)&&(p=w);let k="";for(let U=u;U<p;++U)k+=me[a[U]];return k}function Ee(a,u,p){let w=a.slice(u,p),k="";for(let U=0;U<w.length-1;U+=2)k+=String.fromCharCode(w[U]+w[U+1]*256);return k}e.prototype.slice=function(a,u){let p=this.length;a=~~a,u=u===void 0?p:~~u,a<0?(a+=p,a<0&&(a=0)):a>p&&(a=p),u<0?(u+=p,u<0&&(u=0)):u>p&&(u=p),u<a&&(u=a);let w=this.subarray(a,u);return Object.setPrototypeOf(w,e.prototype),w};function z(a,u,p){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+u>p)throw new RangeError("Trying to access beyond buffer length")}e.prototype.readUintLE=e.prototype.readUIntLE=function(a,u,p){a=a>>>0,u=u>>>0,p||z(a,u,this.length);let w=this[a],k=1,U=0;for(;++U<u&&(k*=256);)w+=this[a+U]*k;return w},e.prototype.readUintBE=e.prototype.readUIntBE=function(a,u,p){a=a>>>0,u=u>>>0,p||z(a,u,this.length);let w=this[a+--u],k=1;for(;u>0&&(k*=256);)w+=this[a+--u]*k;return w},e.prototype.readUint8=e.prototype.readUInt8=function(a,u){return a=a>>>0,u||z(a,1,this.length),this[a]},e.prototype.readUint16LE=e.prototype.readUInt16LE=function(a,u){return a=a>>>0,u||z(a,2,this.length),this[a]|this[a+1]<<8},e.prototype.readUint16BE=e.prototype.readUInt16BE=function(a,u){return a=a>>>0,u||z(a,2,this.length),this[a]<<8|this[a+1]},e.prototype.readUint32LE=e.prototype.readUInt32LE=function(a,u){return a=a>>>0,u||z(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},e.prototype.readUint32BE=e.prototype.readUInt32BE=function(a,u){return a=a>>>0,u||z(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},e.prototype.readBigUInt64LE=ee(function(a){a=a>>>0,H(a,"offset");let u=this[a],p=this[a+7];(u===void 0||p===void 0)&&oe(a,this.length-8);let w=u+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24,k=this[++a]+this[++a]*2**8+this[++a]*2**16+p*2**24;return BigInt(w)+(BigInt(k)<<BigInt(32))}),e.prototype.readBigUInt64BE=ee(function(a){a=a>>>0,H(a,"offset");let u=this[a],p=this[a+7];(u===void 0||p===void 0)&&oe(a,this.length-8);let w=u*2**24+this[++a]*2**16+this[++a]*2**8+this[++a],k=this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+p;return(BigInt(w)<<BigInt(32))+BigInt(k)}),e.prototype.readIntLE=function(a,u,p){a=a>>>0,u=u>>>0,p||z(a,u,this.length);let w=this[a],k=1,U=0;for(;++U<u&&(k*=256);)w+=this[a+U]*k;return k*=128,w>=k&&(w-=Math.pow(2,8*u)),w},e.prototype.readIntBE=function(a,u,p){a=a>>>0,u=u>>>0,p||z(a,u,this.length);let w=u,k=1,U=this[a+--w];for(;w>0&&(k*=256);)U+=this[a+--w]*k;return k*=128,U>=k&&(U-=Math.pow(2,8*u)),U},e.prototype.readInt8=function(a,u){return a=a>>>0,u||z(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},e.prototype.readInt16LE=function(a,u){a=a>>>0,u||z(a,2,this.length);let p=this[a]|this[a+1]<<8;return p&32768?p|4294901760:p},e.prototype.readInt16BE=function(a,u){a=a>>>0,u||z(a,2,this.length);let p=this[a+1]|this[a]<<8;return p&32768?p|4294901760:p},e.prototype.readInt32LE=function(a,u){return a=a>>>0,u||z(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},e.prototype.readInt32BE=function(a,u){return a=a>>>0,u||z(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},e.prototype.readBigInt64LE=ee(function(a){a=a>>>0,H(a,"offset");let u=this[a],p=this[a+7];(u===void 0||p===void 0)&&oe(a,this.length-8);let w=this[a+4]+this[a+5]*2**8+this[a+6]*2**16+(p<<24);return(BigInt(w)<<BigInt(32))+BigInt(u+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24)}),e.prototype.readBigInt64BE=ee(function(a){a=a>>>0,H(a,"offset");let u=this[a],p=this[a+7];(u===void 0||p===void 0)&&oe(a,this.length-8);let w=(u<<24)+this[++a]*2**16+this[++a]*2**8+this[++a];return(BigInt(w)<<BigInt(32))+BigInt(this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+p)}),e.prototype.readFloatLE=function(a,u){return a=a>>>0,u||z(a,4,this.length),c.read(this,a,!0,23,4)},e.prototype.readFloatBE=function(a,u){return a=a>>>0,u||z(a,4,this.length),c.read(this,a,!1,23,4)},e.prototype.readDoubleLE=function(a,u){return a=a>>>0,u||z(a,8,this.length),c.read(this,a,!0,52,8)},e.prototype.readDoubleBE=function(a,u){return a=a>>>0,u||z(a,8,this.length),c.read(this,a,!1,52,8)};function pe(a,u,p,w,k,U){if(!e.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>k||u<U)throw new RangeError('"value" argument is out of bounds');if(p+w>a.length)throw new RangeError("Index out of range")}e.prototype.writeUintLE=e.prototype.writeUIntLE=function(a,u,p,w){if(a=+a,u=u>>>0,p=p>>>0,!w){let K=Math.pow(2,8*p)-1;pe(this,a,u,p,K,0)}let k=1,U=0;for(this[u]=a&255;++U<p&&(k*=256);)this[u+U]=a/k&255;return u+p},e.prototype.writeUintBE=e.prototype.writeUIntBE=function(a,u,p,w){if(a=+a,u=u>>>0,p=p>>>0,!w){let K=Math.pow(2,8*p)-1;pe(this,a,u,p,K,0)}let k=p-1,U=1;for(this[u+k]=a&255;--k>=0&&(U*=256);)this[u+k]=a/U&255;return u+p},e.prototype.writeUint8=e.prototype.writeUInt8=function(a,u,p){return a=+a,u=u>>>0,p||pe(this,a,u,1,255,0),this[u]=a&255,u+1},e.prototype.writeUint16LE=e.prototype.writeUInt16LE=function(a,u,p){return a=+a,u=u>>>0,p||pe(this,a,u,2,65535,0),this[u]=a&255,this[u+1]=a>>>8,u+2},e.prototype.writeUint16BE=e.prototype.writeUInt16BE=function(a,u,p){return a=+a,u=u>>>0,p||pe(this,a,u,2,65535,0),this[u]=a>>>8,this[u+1]=a&255,u+2},e.prototype.writeUint32LE=e.prototype.writeUInt32LE=function(a,u,p){return a=+a,u=u>>>0,p||pe(this,a,u,4,4294967295,0),this[u+3]=a>>>24,this[u+2]=a>>>16,this[u+1]=a>>>8,this[u]=a&255,u+4},e.prototype.writeUint32BE=e.prototype.writeUInt32BE=function(a,u,p){return a=+a,u=u>>>0,p||pe(this,a,u,4,4294967295,0),this[u]=a>>>24,this[u+1]=a>>>16,this[u+2]=a>>>8,this[u+3]=a&255,u+4};function R(a,u,p,w,k){$(u,w,k,a,p,7);let U=Number(u&BigInt(4294967295));a[p++]=U,U=U>>8,a[p++]=U,U=U>>8,a[p++]=U,U=U>>8,a[p++]=U;let K=Number(u>>BigInt(32)&BigInt(4294967295));return a[p++]=K,K=K>>8,a[p++]=K,K=K>>8,a[p++]=K,K=K>>8,a[p++]=K,p}function ne(a,u,p,w,k){$(u,w,k,a,p,7);let U=Number(u&BigInt(4294967295));a[p+7]=U,U=U>>8,a[p+6]=U,U=U>>8,a[p+5]=U,U=U>>8,a[p+4]=U;let K=Number(u>>BigInt(32)&BigInt(4294967295));return a[p+3]=K,K=K>>8,a[p+2]=K,K=K>>8,a[p+1]=K,K=K>>8,a[p]=K,p+8}e.prototype.writeBigUInt64LE=ee(function(a,u=0){return R(this,a,u,BigInt(0),BigInt("0xffffffffffffffff"))}),e.prototype.writeBigUInt64BE=ee(function(a,u=0){return ne(this,a,u,BigInt(0),BigInt("0xffffffffffffffff"))}),e.prototype.writeIntLE=function(a,u,p,w){if(a=+a,u=u>>>0,!w){let _e=Math.pow(2,8*p-1);pe(this,a,u,p,_e-1,-_e)}let k=0,U=1,K=0;for(this[u]=a&255;++k<p&&(U*=256);)a<0&&K===0&&this[u+k-1]!==0&&(K=1),this[u+k]=(a/U>>0)-K&255;return u+p},e.prototype.writeIntBE=function(a,u,p,w){if(a=+a,u=u>>>0,!w){let _e=Math.pow(2,8*p-1);pe(this,a,u,p,_e-1,-_e)}let k=p-1,U=1,K=0;for(this[u+k]=a&255;--k>=0&&(U*=256);)a<0&&K===0&&this[u+k+1]!==0&&(K=1),this[u+k]=(a/U>>0)-K&255;return u+p},e.prototype.writeInt8=function(a,u,p){return a=+a,u=u>>>0,p||pe(this,a,u,1,127,-128),a<0&&(a=255+a+1),this[u]=a&255,u+1},e.prototype.writeInt16LE=function(a,u,p){return a=+a,u=u>>>0,p||pe(this,a,u,2,32767,-32768),this[u]=a&255,this[u+1]=a>>>8,u+2},e.prototype.writeInt16BE=function(a,u,p){return a=+a,u=u>>>0,p||pe(this,a,u,2,32767,-32768),this[u]=a>>>8,this[u+1]=a&255,u+2},e.prototype.writeInt32LE=function(a,u,p){return a=+a,u=u>>>0,p||pe(this,a,u,4,2147483647,-2147483648),this[u]=a&255,this[u+1]=a>>>8,this[u+2]=a>>>16,this[u+3]=a>>>24,u+4},e.prototype.writeInt32BE=function(a,u,p){return a=+a,u=u>>>0,p||pe(this,a,u,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[u]=a>>>24,this[u+1]=a>>>16,this[u+2]=a>>>8,this[u+3]=a&255,u+4},e.prototype.writeBigInt64LE=ee(function(a,u=0){return R(this,a,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),e.prototype.writeBigInt64BE=ee(function(a,u=0){return ne(this,a,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ye(a,u,p,w,k,U){if(p+w>a.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function F(a,u,p,w,k){return u=+u,p=p>>>0,k||ye(a,u,p,4),c.write(a,u,p,w,23,4),p+4}e.prototype.writeFloatLE=function(a,u,p){return F(this,a,u,!0,p)},e.prototype.writeFloatBE=function(a,u,p){return F(this,a,u,!1,p)};function Ie(a,u,p,w,k){return u=+u,p=p>>>0,k||ye(a,u,p,8),c.write(a,u,p,w,52,8),p+8}e.prototype.writeDoubleLE=function(a,u,p){return Ie(this,a,u,!0,p)},e.prototype.writeDoubleBE=function(a,u,p){return Ie(this,a,u,!1,p)},e.prototype.copy=function(a,u,p,w){if(!e.isBuffer(a))throw new TypeError("argument should be a Buffer");if(p||(p=0),!w&&w!==0&&(w=this.length),u>=a.length&&(u=a.length),u||(u=0),w>0&&w<p&&(w=p),w===p||a.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),a.length-u<w-p&&(w=a.length-u+p);let k=w-p;return this===a&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,p,w):Uint8Array.prototype.set.call(a,this.subarray(p,w),u),k},e.prototype.fill=function(a,u,p,w){if(typeof a=="string"){if(typeof u=="string"?(w=u,u=0,p=this.length):typeof p=="string"&&(w=p,p=this.length),w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!e.isEncoding(w))throw new TypeError("Unknown encoding: "+w);if(a.length===1){let U=a.charCodeAt(0);(w==="utf8"&&U<128||w==="latin1")&&(a=U)}}else typeof a=="number"?a=a&255:typeof a=="boolean"&&(a=Number(a));if(u<0||this.length<u||this.length<p)throw new RangeError("Out of range index");if(p<=u)return this;u=u>>>0,p=p===void 0?this.length:p>>>0,a||(a=0);let k;if(typeof a=="number")for(k=u;k<p;++k)this[k]=a;else{let U=e.isBuffer(a)?a:e.from(a,w),K=U.length;if(K===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(k=0;k<p-u;++k)this[k+u]=U[k%K]}return this};let V={};function L(a,u,p){V[a]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(w){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:w,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}L("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),L("ERR_INVALID_ARG_TYPE",function(a,u){return`The "${a}" argument must be of type number. Received type ${typeof u}`},TypeError),L("ERR_OUT_OF_RANGE",function(a,u,p){let w=`The value of "${a}" is out of range.`,k=p;return Number.isInteger(p)&&Math.abs(p)>2**32?k=Z(String(p)):typeof p=="bigint"&&(k=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(k=Z(k)),k+="n"),w+=` It must be ${u}. Received ${k}`,w},RangeError);function Z(a){let u="",p=a.length,w=a[0]==="-"?1:0;for(;p>=w+4;p-=3)u=`_${a.slice(p-3,p)}${u}`;return`${a.slice(0,p)}${u}`}function q(a,u,p){H(u,"offset"),(a[u]===void 0||a[u+p]===void 0)&&oe(u,a.length-(p+1))}function $(a,u,p,w,k,U){if(a>p||a<u){let K=typeof u=="bigint"?"n":"",_e;throw u===0||u===BigInt(0)?_e=`>= 0${K} and < 2${K} ** ${(U+1)*8}${K}`:_e=`>= -(2${K} ** ${(U+1)*8-1}${K}) and < 2 ** ${(U+1)*8-1}${K}`,new V.ERR_OUT_OF_RANGE("value",_e,a)}q(w,k,U)}function H(a,u){if(typeof a!="number")throw new V.ERR_INVALID_ARG_TYPE(u,"number",a)}function oe(a,u,p){throw Math.floor(a)!==a?(H(a,p),new V.ERR_OUT_OF_RANGE("offset","an integer",a)):u<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,a)}let ie=/[^+/0-9A-Za-z-_]/g;function x(a){if(a=a.split("=")[0],a=a.trim().replace(ie,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function N(a,u){u=u||1/0;let p,w=a.length,k=null,U=[];for(let K=0;K<w;++K){if(p=a.charCodeAt(K),p>55295&&p<57344){if(!k){if(p>56319){(u-=3)>-1&&U.push(239,191,189);continue}else if(K+1===w){(u-=3)>-1&&U.push(239,191,189);continue}k=p;continue}if(p<56320){(u-=3)>-1&&U.push(239,191,189),k=p;continue}p=(k-55296<<10|p-56320)+65536}else k&&(u-=3)>-1&&U.push(239,191,189);if(k=null,p<128){if((u-=1)<0)break;U.push(p)}else if(p<2048){if((u-=2)<0)break;U.push(p>>6|192,p&63|128)}else if(p<65536){if((u-=3)<0)break;U.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((u-=4)<0)break;U.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return U}function Q(a){let u=[];for(let p=0;p<a.length;++p)u.push(a.charCodeAt(p)&255);return u}function re(a,u){let p,w,k,U=[];for(let K=0;K<a.length&&!((u-=2)<0);++K)p=a.charCodeAt(K),w=p>>8,k=p%256,U.push(k),U.push(w);return U}function te(a){return o.toByteArray(x(a))}function ue(a,u,p,w){let k;for(k=0;k<w&&!(k+p>=u.length||k>=a.length);++k)u[k+p]=a[k];return k}function D(a,u){return a instanceof u||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===u.name}function se(a){return a!==a}let me=function(){let a="0123456789abcdef",u=new Array(256);for(let p=0;p<16;++p){let w=p*16;for(let k=0;k<16;++k)u[w+k]=a[p]+a[k]}return u}();function ee(a){return typeof BigInt>"u"?Pe:a}function Pe(){throw new Error("BigInt not supported")}return Ot}var Yt,Yn,nr,Jn,Ot,Xn,yt,Sr,cs,ds,Ye=tt(()=>{he(),ce(),fe(),Yt={},Yn=!1,nr={},Jn=!1,Ot={},Xn=!1,yt=Vo(),yt.Buffer,yt.SlowBuffer,yt.INSPECT_MAX_BYTES,yt.kMaxLength,Sr=yt.Buffer,cs=yt.INSPECT_MAX_BYTES,ds=yt.kMaxLength}),ce=tt(()=>{Ye()}),zo=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0});var c=class{constructor(s){this.aliasToTopic={},this.max=s}put(s,l){return l===0||l>this.max?!1:(this.aliasToTopic[l]=s,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(s){return this.aliasToTopic[s]}clear(){this.aliasToTopic={}}};o.default=c}),Ve=be((o,c)=>{he(),ce(),fe();var s=class extends Error{constructor(l){if(!Array.isArray(l))throw new TypeError(`Expected input to be an Array, got ${typeof l}`);let f="";for(let n=0;n<l.length;n++)f+=`    ${l[n].stack}
`;super(f),this.name="AggregateError",this.errors=l}};c.exports={AggregateError:s,ArrayIsArray(l){return Array.isArray(l)},ArrayPrototypeIncludes(l,f){return l.includes(f)},ArrayPrototypeIndexOf(l,f){return l.indexOf(f)},ArrayPrototypeJoin(l,f){return l.join(f)},ArrayPrototypeMap(l,f){return l.map(f)},ArrayPrototypePop(l,f){return l.pop(f)},ArrayPrototypePush(l,f){return l.push(f)},ArrayPrototypeSlice(l,f,n){return l.slice(f,n)},Error,FunctionPrototypeCall(l,f,...n){return l.call(f,...n)},FunctionPrototypeSymbolHasInstance(l,f){return Function.prototype[Symbol.hasInstance].call(l,f)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(l,f){return Object.defineProperties(l,f)},ObjectDefineProperty(l,f,n){return Object.defineProperty(l,f,n)},ObjectGetOwnPropertyDescriptor(l,f){return Object.getOwnPropertyDescriptor(l,f)},ObjectKeys(l){return Object.keys(l)},ObjectSetPrototypeOf(l,f){return Object.setPrototypeOf(l,f)},Promise,PromisePrototypeCatch(l,f){return l.catch(f)},PromisePrototypeThen(l,f,n){return l.then(f,n)},PromiseReject(l){return Promise.reject(l)},PromiseResolve(l){return Promise.resolve(l)},ReflectApply:Reflect.apply,RegExpPrototypeTest(l,f){return l.test(f)},SafeSet:Set,String,StringPrototypeSlice(l,f,n){return l.slice(f,n)},StringPrototypeToLowerCase(l){return l.toLowerCase()},StringPrototypeToUpperCase(l){return l.toUpperCase()},StringPrototypeTrim(l){return l.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(l,f,n){return l.set(f,n)},Boolean,Uint8Array}}),ps=be((o,c)=>{he(),ce(),fe(),c.exports={format(s,...l){return s.replace(/%([sdifj])/g,function(...[f,n]){let e=l.shift();return n==="f"?e.toFixed(6):n==="j"?JSON.stringify(e):n==="s"&&typeof e=="object"?`${e.constructor!==Object?e.constructor.name:""} {}`.trim():e.toString()})},inspect(s){switch(typeof s){case"string":if(s.includes("'"))if(s.includes('"')){if(!s.includes("`")&&!s.includes("${"))return`\`${s}\``}else return`"${s}"`;return`'${s}'`;case"number":return isNaN(s)?"NaN":Object.is(s,-0)?String(s):s;case"bigint":return`${String(s)}n`;case"boolean":case"undefined":return String(s);case"object":return"{}"}}}}),rt=be((o,c)=>{he(),ce(),fe();var{format:s,inspect:l}=ps(),{AggregateError:f}=Ve(),n=globalThis.AggregateError||f,e=Symbol("kIsNodeError"),r=["string","function","number","object","Function","Object","boolean","bigint","symbol"],t=/^([A-Z][a-z0-9]*)+$/,i="__node_internal_",h={};function d(y,v){if(!y)throw new h.ERR_INTERNAL_ASSERTION(v)}function g(y){let v="",j=y.length,B=y[0]==="-"?1:0;for(;j>=B+4;j-=3)v=`_${y.slice(j-3,j)}${v}`;return`${y.slice(0,j)}${v}`}function b(y,v,j){if(typeof v=="function")return d(v.length<=j.length,`Code: ${y}; The provided arguments length (${j.length}) does not match the required ones (${v.length}).`),v(...j);let B=(v.match(/%[dfijoOs]/g)||[]).length;return d(B===j.length,`Code: ${y}; The provided arguments length (${j.length}) does not match the required ones (${B}).`),j.length===0?v:s(v,...j)}function m(y,v,j){j||(j=Error);class B extends j{constructor(...T){super(b(y,v,T))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(B.prototype,{name:{value:j.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),B.prototype.code=y,B.prototype[e]=!0,h[y]=B}function _(y){let v=i+y.name;return Object.defineProperty(y,"name",{value:v}),y}function E(y,v){if(y&&v&&y!==v){if(Array.isArray(v.errors))return v.errors.push(y),v;let j=new n([v,y],v.message);return j.code=v.code,j}return y||v}var I=class extends Error{constructor(y="The operation was aborted",v=void 0){if(v!==void 0&&typeof v!="object")throw new h.ERR_INVALID_ARG_TYPE("options","Object",v);super(y,v),this.code="ABORT_ERR",this.name="AbortError"}};m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(y,v,j)=>{d(typeof y=="string","'name' must be a string"),Array.isArray(v)||(v=[v]);let B="The ";y.endsWith(" argument")?B+=`${y} `:B+=`"${y}" ${y.includes(".")?"property":"argument"} `,B+="must be ";let A=[],T=[],M=[];for(let X of v)d(typeof X=="string","All expected entries have to be of type string"),r.includes(X)?A.push(X.toLowerCase()):t.test(X)?T.push(X):(d(X!=="object",'The value "object" should be written as "Object"'),M.push(X));if(T.length>0){let X=A.indexOf("object");X!==-1&&(A.splice(A,X,1),T.push("Object"))}if(A.length>0){switch(A.length){case 1:B+=`of type ${A[0]}`;break;case 2:B+=`one of type ${A[0]} or ${A[1]}`;break;default:{let X=A.pop();B+=`one of type ${A.join(", ")}, or ${X}`}}(T.length>0||M.length>0)&&(B+=" or ")}if(T.length>0){switch(T.length){case 1:B+=`an instance of ${T[0]}`;break;case 2:B+=`an instance of ${T[0]} or ${T[1]}`;break;default:{let X=T.pop();B+=`an instance of ${T.join(", ")}, or ${X}`}}M.length>0&&(B+=" or ")}switch(M.length){case 0:break;case 1:M[0].toLowerCase()!==M[0]&&(B+="an "),B+=`${M[0]}`;break;case 2:B+=`one of ${M[0]} or ${M[1]}`;break;default:{let X=M.pop();B+=`one of ${M.join(", ")}, or ${X}`}}if(j==null)B+=`. Received ${j}`;else if(typeof j=="function"&&j.name)B+=`. Received function ${j.name}`;else if(typeof j=="object"){var Y;if((Y=j.constructor)!==null&&Y!==void 0&&Y.name)B+=`. Received an instance of ${j.constructor.name}`;else{let X=l(j,{depth:-1});B+=`. Received ${X}`}}else{let X=l(j,{colors:!1});X.length>25&&(X=`${X.slice(0,25)}...`),B+=`. Received type ${typeof j} (${X})`}return B},TypeError),m("ERR_INVALID_ARG_VALUE",(y,v,j="is invalid")=>{let B=l(v);return B.length>128&&(B=B.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${j}. Received ${B}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(y,v,j)=>{var B;let A=j!=null&&(B=j.constructor)!==null&&B!==void 0&&B.name?`instance of ${j.constructor.name}`:`type ${typeof j}`;return`Expected ${y} to be returned from the "${v}" function but got ${A}.`},TypeError),m("ERR_MISSING_ARGS",(...y)=>{d(y.length>0,"At least one arg needs to be specified");let v,j=y.length;switch(y=(Array.isArray(y)?y:[y]).map(B=>`"${B}"`).join(" or "),j){case 1:v+=`The ${y[0]} argument`;break;case 2:v+=`The ${y[0]} and ${y[1]} arguments`;break;default:{let B=y.pop();v+=`The ${y.join(", ")}, and ${B} arguments`}break}return`${v} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(y,v,j)=>{d(v,'Missing "range" argument');let B;if(Number.isInteger(j)&&Math.abs(j)>2**32)B=g(String(j));else if(typeof j=="bigint"){B=String(j);let A=BigInt(2)**BigInt(32);(j>A||j<-A)&&(B=g(B)),B+="n"}else B=l(j);return`The value of "${y}" is out of range. It must be ${v}. Received ${B}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),c.exports={AbortError:I,aggregateTwoErrors:_(E),hideStackFrames:_,codes:h}}),ar=be((o,c)=>{he(),ce(),fe();var{AbortController:s,AbortSignal:l}=typeof self<"u"?self:typeof window<"u"?window:void 0;c.exports=s,c.exports.AbortSignal=l,c.exports.default=s});function Ue(){Ue.init.call(this)}function mr(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}function gs(o){return o._maxListeners===void 0?Ue.defaultMaxListeners:o._maxListeners}function ki(o,c,s,l){var f,n,e,r;if(mr(s),(n=o._events)===void 0?(n=o._events=Object.create(null),o._eventsCount=0):(n.newListener!==void 0&&(o.emit("newListener",c,s.listener?s.listener:s),n=o._events),e=n[c]),e===void 0)e=n[c]=s,++o._eventsCount;else if(typeof e=="function"?e=n[c]=l?[s,e]:[e,s]:l?e.unshift(s):e.push(s),(f=gs(o))>0&&e.length>f&&!e.warned){e.warned=!0;var t=new Error("Possible EventEmitter memory leak detected. "+e.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit");t.name="MaxListenersExceededWarning",t.emitter=o,t.type=c,t.count=e.length,r=t,console&&console.warn&&console.warn(r)}return o}function Ko(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ti(o,c,s){var l={fired:!1,wrapFn:void 0,target:o,type:c,listener:s},f=Ko.bind(l);return f.listener=s,l.wrapFn=f,f}function Oi(o,c,s){var l=o._events;if(l===void 0)return[];var f=l[c];return f===void 0?[]:typeof f=="function"?s?[f.listener||f]:[f]:s?function(n){for(var e=new Array(n.length),r=0;r<e.length;++r)e[r]=n[r].listener||n[r];return e}(f):bs(f,f.length)}function Pi(o){var c=this._events;if(c!==void 0){var s=c[o];if(typeof s=="function")return 1;if(s!==void 0)return s.length}return 0}function bs(o,c){for(var s=new Array(c),l=0;l<c;++l)s[l]=o[l];return s}var Ci,Ri,jt,Ur,jr,Nr,ot,xi=tt(()=>{he(),ce(),fe(),jt=typeof Reflect=="object"?Reflect:null,Ur=jt&&typeof jt.apply=="function"?jt.apply:function(o,c,s){return Function.prototype.apply.call(o,c,s)},Ri=jt&&typeof jt.ownKeys=="function"?jt.ownKeys:Object.getOwnPropertySymbols?function(o){return Object.getOwnPropertyNames(o).concat(Object.getOwnPropertySymbols(o))}:function(o){return Object.getOwnPropertyNames(o)},jr=Number.isNaN||function(o){return o!=o},Ci=Ue,Ue.EventEmitter=Ue,Ue.prototype._events=void 0,Ue.prototype._eventsCount=0,Ue.prototype._maxListeners=void 0,Nr=10,Object.defineProperty(Ue,"defaultMaxListeners",{enumerable:!0,get:function(){return Nr},set:function(o){if(typeof o!="number"||o<0||jr(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");Nr=o}}),Ue.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ue.prototype.setMaxListeners=function(o){if(typeof o!="number"||o<0||jr(o))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+o+".");return this._maxListeners=o,this},Ue.prototype.getMaxListeners=function(){return gs(this)},Ue.prototype.emit=function(o){for(var c=[],s=1;s<arguments.length;s++)c.push(arguments[s]);var l=o==="error",f=this._events;if(f!==void 0)l=l&&f.error===void 0;else if(!l)return!1;if(l){var n;if(c.length>0&&(n=c[0]),n instanceof Error)throw n;var e=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw e.context=n,e}var r=f[o];if(r===void 0)return!1;if(typeof r=="function")Ur(r,this,c);else{var t=r.length,i=bs(r,t);for(s=0;s<t;++s)Ur(i[s],this,c)}return!0},Ue.prototype.addListener=function(o,c){return ki(this,o,c,!1)},Ue.prototype.on=Ue.prototype.addListener,Ue.prototype.prependListener=function(o,c){return ki(this,o,c,!0)},Ue.prototype.once=function(o,c){return mr(c),this.on(o,Ti(this,o,c)),this},Ue.prototype.prependOnceListener=function(o,c){return mr(c),this.prependListener(o,Ti(this,o,c)),this},Ue.prototype.removeListener=function(o,c){var s,l,f,n,e;if(mr(c),(l=this._events)===void 0)return this;if((s=l[o])===void 0)return this;if(s===c||s.listener===c)--this._eventsCount==0?this._events=Object.create(null):(delete l[o],l.removeListener&&this.emit("removeListener",o,s.listener||c));else if(typeof s!="function"){for(f=-1,n=s.length-1;n>=0;n--)if(s[n]===c||s[n].listener===c){e=s[n].listener,f=n;break}if(f<0)return this;f===0?s.shift():function(r,t){for(;t+1<r.length;t++)r[t]=r[t+1];r.pop()}(s,f),s.length===1&&(l[o]=s[0]),l.removeListener!==void 0&&this.emit("removeListener",o,e||c)}return this},Ue.prototype.off=Ue.prototype.removeListener,Ue.prototype.removeAllListeners=function(o){var c,s,l;if((s=this._events)===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[o]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete s[o]),this;if(arguments.length===0){var f,n=Object.keys(s);for(l=0;l<n.length;++l)(f=n[l])!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(c=s[o])=="function")this.removeListener(o,c);else if(c!==void 0)for(l=c.length-1;l>=0;l--)this.removeListener(o,c[l]);return this},Ue.prototype.listeners=function(o){return Oi(this,o,!0)},Ue.prototype.rawListeners=function(o){return Oi(this,o,!1)},Ue.listenerCount=function(o,c){return typeof o.listenerCount=="function"?o.listenerCount(c):Pi.call(o,c)},Ue.prototype.listenerCount=Pi,Ue.prototype.eventNames=function(){return this._eventsCount>0?Ri(this._events):[]},ot=Ci,ot.EventEmitter,ot.defaultMaxListeners,ot.init,ot.listenerCount,ot.EventEmitter,ot.defaultMaxListeners,ot.init,ot.listenerCount}),Bt={};Jt(Bt,{EventEmitter:()=>ms,default:()=>ot,defaultMaxListeners:()=>ys,init:()=>ws,listenerCount:()=>_s,on:()=>vs,once:()=>Es});var ms,ys,ws,_s,vs,Es,zt=tt(()=>{he(),ce(),fe(),xi(),xi(),ot.once=function(o,c){return new Promise((s,l)=>{function f(...e){n!==void 0&&o.removeListener("error",n),s(e)}let n;c!=="error"&&(n=e=>{o.removeListener(name,f),l(e)},o.once("error",n)),o.once(c,f)})},ot.on=function(o,c){let s=[],l=[],f=null,n=!1,e={async next(){let i=s.shift();if(i)return createIterResult(i,!1);if(f){let h=Promise.reject(f);return f=null,h}return n?createIterResult(void 0,!0):new Promise((h,d)=>l.push({resolve:h,reject:d}))},async return(){o.removeListener(c,r),o.removeListener("error",t),n=!0;for(let i of l)i.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(i){f=i,o.removeListener(c,r),o.removeListener("error",t)},[Symbol.asyncIterator](){return this}};return o.on(c,r),o.on("error",t),e;function r(...i){let h=l.shift();h?h.resolve(createIterResult(i,!1)):s.push(i)}function t(i){n=!0;let h=l.shift();h?h.reject(i):f=i,e.return()}},{EventEmitter:ms,defaultMaxListeners:ys,init:ws,listenerCount:_s,on:vs,once:Es}=ot}),it=be((o,c)=>{he(),ce(),fe();var s=(Ye(),je(Qe)),{format:l,inspect:f}=ps(),{codes:{ERR_INVALID_ARG_TYPE:n}}=rt(),{kResistStopPropagation:e,AggregateError:r,SymbolDispose:t}=Ve(),i=globalThis.AbortSignal||ar().AbortSignal,h=globalThis.AbortController||ar().AbortController,d=Object.getPrototypeOf(async function(){}).constructor,g=globalThis.Blob||s.Blob,b=typeof g<"u"?function(E){return E instanceof g}:function(E){return!1},m=(E,I)=>{if(E!==void 0&&(E===null||typeof E!="object"||!("aborted"in E)))throw new n(I,"AbortSignal",E)},_=(E,I)=>{if(typeof E!="function")throw new n(I,"Function",E)};c.exports={AggregateError:r,kEmptyObject:Object.freeze({}),once(E){let I=!1;return function(...y){I||(I=!0,E.apply(this,y))}},createDeferredPromise:function(){let E,I;return{promise:new Promise((y,v)=>{E=y,I=v}),resolve:E,reject:I}},promisify(E){return new Promise((I,y)=>{E((v,...j)=>v?y(v):I(...j))})},debuglog(){return function(){}},format:l,inspect:f,types:{isAsyncFunction(E){return E instanceof d},isArrayBufferView(E){return ArrayBuffer.isView(E)}},isBlob:b,deprecate(E,I){return E},addAbortListener:(zt(),je(Bt)).addAbortListener||function(E,I){if(E===void 0)throw new n("signal","AbortSignal",E);m(E,"signal"),_(I,"listener");let y;return E.aborted?queueMicrotask(()=>I()):(E.addEventListener("abort",I,{__proto__:null,once:!0,[e]:!0}),y=()=>{E.removeEventListener("abort",I)}),{__proto__:null,[t](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:i.any||function(E){if(E.length===1)return E[0];let I=new h,y=()=>I.abort();return E.forEach(v=>{m(v,"signals"),v.addEventListener("abort",y,{once:!0})}),I.signal.addEventListener("abort",()=>{E.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),I.signal}},c.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),lr=be((o,c)=>{he(),ce(),fe();var{ArrayIsArray:s,ArrayPrototypeIncludes:l,ArrayPrototypeJoin:f,ArrayPrototypeMap:n,NumberIsInteger:e,NumberIsNaN:r,NumberMAX_SAFE_INTEGER:t,NumberMIN_SAFE_INTEGER:i,NumberParseInt:h,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:g,String:b,StringPrototypeToUpperCase:m,StringPrototypeTrim:_}=Ve(),{hideStackFrames:E,codes:{ERR_SOCKET_BAD_PORT:I,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:j,ERR_UNKNOWN_SIGNAL:B}}=rt(),{normalizeEncoding:A}=it(),{isAsyncFunction:T,isArrayBufferView:M}=it().types,Y={};function X(D){return D===(D|0)}function ae(D){return D===D>>>0}var C=/^[0-7]+$/,G="must be a 32-bit unsigned integer or an octal string";function J(D,se,me){if(typeof D>"u"&&(D=me),typeof D=="string"){if(g(C,D)===null)throw new v(se,D,G);D=h(D,8)}return de(D,se),D}var W=E((D,se,me=i,ee=t)=>{if(typeof D!="number")throw new y(se,"number",D);if(!e(D))throw new j(se,"an integer",D);if(D<me||D>ee)throw new j(se,`>= ${me} && <= ${ee}`,D)}),ge=E((D,se,me=-2147483648,ee=2147483647)=>{if(typeof D!="number")throw new y(se,"number",D);if(!e(D))throw new j(se,"an integer",D);if(D<me||D>ee)throw new j(se,`>= ${me} && <= ${ee}`,D)}),de=E((D,se,me=!1)=>{if(typeof D!="number")throw new y(se,"number",D);if(!e(D))throw new j(se,"an integer",D);let ee=me?1:0,Pe=4294967295;if(D<ee||D>Pe)throw new j(se,`>= ${ee} && <= ${Pe}`,D)});function le(D,se){if(typeof D!="string")throw new y(se,"string",D)}function Ee(D,se,me=void 0,ee){if(typeof D!="number")throw new y(se,"number",D);if(me!=null&&D<me||ee!=null&&D>ee||(me!=null||ee!=null)&&r(D))throw new j(se,`${me!=null?`>= ${me}`:""}${me!=null&&ee!=null?" && ":""}${ee!=null?`<= ${ee}`:""}`,D)}var z=E((D,se,me)=>{if(!l(me,D)){let ee="must be one of: "+f(n(me,Pe=>typeof Pe=="string"?`'${Pe}'`:b(Pe)),", ");throw new v(se,D,ee)}});function pe(D,se){if(typeof D!="boolean")throw new y(se,"boolean",D)}function R(D,se,me){return D==null||!d(D,se)?me:D[se]}var ne=E((D,se,me=null)=>{let ee=R(me,"allowArray",!1),Pe=R(me,"allowFunction",!1);if(!R(me,"nullable",!1)&&D===null||!ee&&s(D)||typeof D!="object"&&(!Pe||typeof D!="function"))throw new y(se,"Object",D)}),ye=E((D,se)=>{if(D!=null&&typeof D!="object"&&typeof D!="function")throw new y(se,"a dictionary",D)}),F=E((D,se,me=0)=>{if(!s(D))throw new y(se,"Array",D);if(D.length<me){let ee=`must be longer than ${me}`;throw new v(se,D,ee)}});function Ie(D,se){F(D,se);for(let me=0;me<D.length;me++)le(D[me],`${se}[${me}]`)}function V(D,se){F(D,se);for(let me=0;me<D.length;me++)pe(D[me],`${se}[${me}]`)}function L(D,se){F(D,se);for(let me=0;me<D.length;me++){let ee=D[me],Pe=`${se}[${me}]`;if(ee==null)throw new y(Pe,"AbortSignal",ee);oe(ee,Pe)}}function Z(D,se="signal"){if(le(D,se),Y[D]===void 0)throw Y[m(D)]!==void 0?new B(D+" (signals must use all capital letters)"):new B(D)}var q=E((D,se="buffer")=>{if(!M(D))throw new y(se,["Buffer","TypedArray","DataView"],D)});function $(D,se){let me=A(se),ee=D.length;if(me==="hex"&&ee%2!==0)throw new v("encoding",se,`is invalid for data of length ${ee}`)}function H(D,se="Port",me=!0){if(typeof D!="number"&&typeof D!="string"||typeof D=="string"&&_(D).length===0||+D!==+D>>>0||D>65535||D===0&&!me)throw new I(se,D,me);return D|0}var oe=E((D,se)=>{if(D!==void 0&&(D===null||typeof D!="object"||!("aborted"in D)))throw new y(se,"AbortSignal",D)}),ie=E((D,se)=>{if(typeof D!="function")throw new y(se,"Function",D)}),x=E((D,se)=>{if(typeof D!="function"||T(D))throw new y(se,"Function",D)}),N=E((D,se)=>{if(D!==void 0)throw new y(se,"undefined",D)});function Q(D,se,me){if(!l(me,D))throw new y(se,`('${f(me,"|")}')`,D)}var re=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function te(D,se){if(typeof D>"u"||!g(re,D))throw new v(se,D,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ue(D){if(typeof D=="string")return te(D,"hints"),D;if(s(D)){let se=D.length,me="";if(se===0)return me;for(let ee=0;ee<se;ee++){let Pe=D[ee];te(Pe,"hints"),me+=Pe,ee!==se-1&&(me+=", ")}return me}throw new v("hints",D,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}c.exports={isInt32:X,isUint32:ae,parseFileMode:J,validateArray:F,validateStringArray:Ie,validateBooleanArray:V,validateAbortSignalArray:L,validateBoolean:pe,validateBuffer:q,validateDictionary:ye,validateEncoding:$,validateFunction:ie,validateInt32:ge,validateInteger:W,validateNumber:Ee,validateObject:ne,validateOneOf:z,validatePlainFunction:x,validatePort:H,validateSignalName:Z,validateString:le,validateUint32:de,validateUndefined:N,validateUnion:Q,validateAbortSignal:oe,validateLinkHeaderValue:ue}}),Kt=be((o,c)=>{he(),ce(),fe();var s=c.exports={},l,f;function n(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=n}catch{l=n}try{typeof clearTimeout=="function"?f=clearTimeout:f=e}catch{f=e}})();function r(I){if(l===setTimeout)return setTimeout(I,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(I,0);try{return l(I,0)}catch{try{return l.call(null,I,0)}catch{return l.call(this,I,0)}}}function t(I){if(f===clearTimeout)return clearTimeout(I);if((f===e||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(I);try{return f(I)}catch{try{return f.call(null,I)}catch{return f.call(this,I)}}}var i=[],h=!1,d,g=-1;function b(){!h||!d||(h=!1,d.length?i=d.concat(i):g=-1,i.length&&m())}function m(){if(!h){var I=r(b);h=!0;for(var y=i.length;y;){for(d=i,i=[];++g<y;)d&&d[g].run();g=-1,y=i.length}d=null,h=!1,t(I)}}s.nextTick=function(I){var y=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)y[v-1]=arguments[v];i.push(new _(I,y)),i.length===1&&!h&&r(m)};function _(I,y){this.fun=I,this.array=y}_.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function E(){}s.on=E,s.addListener=E,s.once=E,s.off=E,s.removeListener=E,s.removeAllListeners=E,s.emit=E,s.prependListener=E,s.prependOnceListener=E,s.listeners=function(I){return[]},s.binding=function(I){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(I){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}}),At=be((o,c)=>{he(),ce(),fe();var{SymbolAsyncIterator:s,SymbolIterator:l,SymbolFor:f}=Ve(),n=f("nodejs.stream.destroyed"),e=f("nodejs.stream.errored"),r=f("nodejs.stream.readable"),t=f("nodejs.stream.writable"),i=f("nodejs.stream.disturbed"),h=f("nodejs.webstream.isClosedPromise"),d=f("nodejs.webstream.controllerErrorFunction");function g(R,ne=!1){var ye;return!!(R&&typeof R.pipe=="function"&&typeof R.on=="function"&&(!ne||typeof R.pause=="function"&&typeof R.resume=="function")&&(!R._writableState||((ye=R._readableState)===null||ye===void 0?void 0:ye.readable)!==!1)&&(!R._writableState||R._readableState))}function b(R){var ne;return!!(R&&typeof R.write=="function"&&typeof R.on=="function"&&(!R._readableState||((ne=R._writableState)===null||ne===void 0?void 0:ne.writable)!==!1))}function m(R){return!!(R&&typeof R.pipe=="function"&&R._readableState&&typeof R.on=="function"&&typeof R.write=="function")}function _(R){return R&&(R._readableState||R._writableState||typeof R.write=="function"&&typeof R.on=="function"||typeof R.pipe=="function"&&typeof R.on=="function")}function E(R){return!!(R&&!_(R)&&typeof R.pipeThrough=="function"&&typeof R.getReader=="function"&&typeof R.cancel=="function")}function I(R){return!!(R&&!_(R)&&typeof R.getWriter=="function"&&typeof R.abort=="function")}function y(R){return!!(R&&!_(R)&&typeof R.readable=="object"&&typeof R.writable=="object")}function v(R){return E(R)||I(R)||y(R)}function j(R,ne){return R==null?!1:ne===!0?typeof R[s]=="function":ne===!1?typeof R[l]=="function":typeof R[s]=="function"||typeof R[l]=="function"}function B(R){if(!_(R))return null;let ne=R._writableState,ye=R._readableState,F=ne||ye;return!!(R.destroyed||R[n]||F!=null&&F.destroyed)}function A(R){if(!b(R))return null;if(R.writableEnded===!0)return!0;let ne=R._writableState;return ne!=null&&ne.errored?!1:typeof(ne==null?void 0:ne.ended)!="boolean"?null:ne.ended}function T(R,ne){if(!b(R))return null;if(R.writableFinished===!0)return!0;let ye=R._writableState;return ye!=null&&ye.errored?!1:typeof(ye==null?void 0:ye.finished)!="boolean"?null:!!(ye.finished||ne===!1&&ye.ended===!0&&ye.length===0)}function M(R){if(!g(R))return null;if(R.readableEnded===!0)return!0;let ne=R._readableState;return!ne||ne.errored?!1:typeof(ne==null?void 0:ne.ended)!="boolean"?null:ne.ended}function Y(R,ne){if(!g(R))return null;let ye=R._readableState;return ye!=null&&ye.errored?!1:typeof(ye==null?void 0:ye.endEmitted)!="boolean"?null:!!(ye.endEmitted||ne===!1&&ye.ended===!0&&ye.length===0)}function X(R){return R&&R[r]!=null?R[r]:typeof(R==null?void 0:R.readable)!="boolean"?null:B(R)?!1:g(R)&&R.readable&&!Y(R)}function ae(R){return R&&R[t]!=null?R[t]:typeof(R==null?void 0:R.writable)!="boolean"?null:B(R)?!1:b(R)&&R.writable&&!A(R)}function C(R,ne){return _(R)?B(R)?!0:!((ne==null?void 0:ne.readable)!==!1&&X(R)||(ne==null?void 0:ne.writable)!==!1&&ae(R)):null}function G(R){var ne,ye;return _(R)?R.writableErrored?R.writableErrored:(ne=(ye=R._writableState)===null||ye===void 0?void 0:ye.errored)!==null&&ne!==void 0?ne:null:null}function J(R){var ne,ye;return _(R)?R.readableErrored?R.readableErrored:(ne=(ye=R._readableState)===null||ye===void 0?void 0:ye.errored)!==null&&ne!==void 0?ne:null:null}function W(R){if(!_(R))return null;if(typeof R.closed=="boolean")return R.closed;let ne=R._writableState,ye=R._readableState;return typeof(ne==null?void 0:ne.closed)=="boolean"||typeof(ye==null?void 0:ye.closed)=="boolean"?(ne==null?void 0:ne.closed)||(ye==null?void 0:ye.closed):typeof R._closed=="boolean"&&ge(R)?R._closed:null}function ge(R){return typeof R._closed=="boolean"&&typeof R._defaultKeepAlive=="boolean"&&typeof R._removedConnection=="boolean"&&typeof R._removedContLen=="boolean"}function de(R){return typeof R._sent100=="boolean"&&ge(R)}function le(R){var ne;return typeof R._consuming=="boolean"&&typeof R._dumped=="boolean"&&((ne=R.req)===null||ne===void 0?void 0:ne.upgradeOrConnect)===void 0}function Ee(R){if(!_(R))return null;let ne=R._writableState,ye=R._readableState,F=ne||ye;return!F&&de(R)||!!(F&&F.autoDestroy&&F.emitClose&&F.closed===!1)}function z(R){var ne;return!!(R&&((ne=R[i])!==null&&ne!==void 0?ne:R.readableDidRead||R.readableAborted))}function pe(R){var ne,ye,F,Ie,V,L,Z,q,$,H;return!!(R&&((ne=(ye=(F=(Ie=(V=(L=R[e])!==null&&L!==void 0?L:R.readableErrored)!==null&&V!==void 0?V:R.writableErrored)!==null&&Ie!==void 0?Ie:(Z=R._readableState)===null||Z===void 0?void 0:Z.errorEmitted)!==null&&F!==void 0?F:(q=R._writableState)===null||q===void 0?void 0:q.errorEmitted)!==null&&ye!==void 0?ye:($=R._readableState)===null||$===void 0?void 0:$.errored)!==null&&ne!==void 0?ne:!((H=R._writableState)===null||H===void 0)&&H.errored))}c.exports={isDestroyed:B,kIsDestroyed:n,isDisturbed:z,kIsDisturbed:i,isErrored:pe,kIsErrored:e,isReadable:X,kIsReadable:r,kIsClosedPromise:h,kControllerErrorFunction:d,kIsWritable:t,isClosed:W,isDuplexNodeStream:m,isFinished:C,isIterable:j,isReadableNodeStream:g,isReadableStream:E,isReadableEnded:M,isReadableFinished:Y,isReadableErrored:J,isNodeStream:_,isWebStream:v,isWritable:ae,isWritableNodeStream:b,isWritableStream:I,isWritableEnded:A,isWritableFinished:T,isWritableErrored:G,isServerRequest:le,isServerResponse:de,willEmitClose:Ee,isTransformStream:y}}),Mt=be((o,c)=>{he(),ce(),fe();var s=Kt(),{AbortError:l,codes:f}=rt(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:e}=f,{kEmptyObject:r,once:t}=it(),{validateAbortSignal:i,validateFunction:h,validateObject:d,validateBoolean:g}=lr(),{Promise:b,PromisePrototypeThen:m,SymbolDispose:_}=Ve(),{isClosed:E,isReadable:I,isReadableNodeStream:y,isReadableStream:v,isReadableFinished:j,isReadableErrored:B,isWritable:A,isWritableNodeStream:T,isWritableStream:M,isWritableFinished:Y,isWritableErrored:X,isNodeStream:ae,willEmitClose:C,kIsClosedPromise:G}=At(),J;function W(z){return z.setHeader&&typeof z.abort=="function"}var ge=()=>{};function de(z,pe,R){var ne,ye;if(arguments.length===2?(R=pe,pe=r):pe==null?pe=r:d(pe,"options"),h(R,"callback"),i(pe.signal,"options.signal"),R=t(R),v(z)||M(z))return le(z,pe,R);if(!ae(z))throw new n("stream",["ReadableStream","WritableStream","Stream"],z);let F=(ne=pe.readable)!==null&&ne!==void 0?ne:y(z),Ie=(ye=pe.writable)!==null&&ye!==void 0?ye:T(z),V=z._writableState,L=z._readableState,Z=()=>{z.writable||H()},q=C(z)&&y(z)===F&&T(z)===Ie,$=Y(z,!1),H=()=>{$=!0,z.destroyed&&(q=!1),!(q&&(!z.readable||F))&&(!F||oe)&&R.call(z)},oe=j(z,!1),ie=()=>{oe=!0,z.destroyed&&(q=!1),!(q&&(!z.writable||Ie))&&(!Ie||$)&&R.call(z)},x=D=>{R.call(z,D)},N=E(z),Q=()=>{N=!0;let D=X(z)||B(z);if(D&&typeof D!="boolean")return R.call(z,D);if(F&&!oe&&y(z,!0)&&!j(z,!1))return R.call(z,new e);if(Ie&&!$&&!Y(z,!1))return R.call(z,new e);R.call(z)},re=()=>{N=!0;let D=X(z)||B(z);if(D&&typeof D!="boolean")return R.call(z,D);R.call(z)},te=()=>{z.req.on("finish",H)};W(z)?(z.on("complete",H),q||z.on("abort",Q),z.req?te():z.on("request",te)):Ie&&!V&&(z.on("end",Z),z.on("close",Z)),!q&&typeof z.aborted=="boolean"&&z.on("aborted",Q),z.on("end",ie),z.on("finish",H),pe.error!==!1&&z.on("error",x),z.on("close",Q),N?s.nextTick(Q):V!=null&&V.errorEmitted||L!=null&&L.errorEmitted?q||s.nextTick(re):(!F&&(!q||I(z))&&($||A(z)===!1)||!Ie&&(!q||A(z))&&(oe||I(z)===!1)||L&&z.req&&z.aborted)&&s.nextTick(re);let ue=()=>{R=ge,z.removeListener("aborted",Q),z.removeListener("complete",H),z.removeListener("abort",Q),z.removeListener("request",te),z.req&&z.req.removeListener("finish",H),z.removeListener("end",Z),z.removeListener("close",Z),z.removeListener("finish",H),z.removeListener("end",ie),z.removeListener("error",x),z.removeListener("close",Q)};if(pe.signal&&!N){let D=()=>{let se=R;ue(),se.call(z,new l(void 0,{cause:pe.signal.reason}))};if(pe.signal.aborted)s.nextTick(D);else{J=J||it().addAbortListener;let se=J(pe.signal,D),me=R;R=t((...ee)=>{se[_](),me.apply(z,ee)})}}return ue}function le(z,pe,R){let ne=!1,ye=ge;if(pe.signal)if(ye=()=>{ne=!0,R.call(z,new l(void 0,{cause:pe.signal.reason}))},pe.signal.aborted)s.nextTick(ye);else{J=J||it().addAbortListener;let Ie=J(pe.signal,ye),V=R;R=t((...L)=>{Ie[_](),V.apply(z,L)})}let F=(...Ie)=>{ne||s.nextTick(()=>R.apply(z,Ie))};return m(z[G].promise,F,F),ge}function Ee(z,pe){var R;let ne=!1;return pe===null&&(pe=r),(R=pe)!==null&&R!==void 0&&R.cleanup&&(g(pe.cleanup,"cleanup"),ne=pe.cleanup),new b((ye,F)=>{let Ie=de(z,pe,V=>{ne&&Ie(),V?F(V):ye()})})}c.exports=de,c.exports.finished=Ee}),Xt=be((o,c)=>{he(),ce(),fe();var s=Kt(),{aggregateTwoErrors:l,codes:{ERR_MULTIPLE_CALLBACK:f},AbortError:n}=rt(),{Symbol:e}=Ve(),{kIsDestroyed:r,isDestroyed:t,isFinished:i,isServerRequest:h}=At(),d=e("kDestroy"),g=e("kConstruct");function b(C,G,J){C&&(C.stack,G&&!G.errored&&(G.errored=C),J&&!J.errored&&(J.errored=C))}function m(C,G){let J=this._readableState,W=this._writableState,ge=W||J;return W!=null&&W.destroyed||J!=null&&J.destroyed?(typeof G=="function"&&G(),this):(b(C,W,J),W&&(W.destroyed=!0),J&&(J.destroyed=!0),ge.constructed?_(this,C,G):this.once(d,function(de){_(this,l(de,C),G)}),this)}function _(C,G,J){let W=!1;function ge(de){if(W)return;W=!0;let le=C._readableState,Ee=C._writableState;b(de,Ee,le),Ee&&(Ee.closed=!0),le&&(le.closed=!0),typeof J=="function"&&J(de),de?s.nextTick(E,C,de):s.nextTick(I,C)}try{C._destroy(G||null,ge)}catch(de){ge(de)}}function E(C,G){y(C,G),I(C)}function I(C){let G=C._readableState,J=C._writableState;J&&(J.closeEmitted=!0),G&&(G.closeEmitted=!0),(J!=null&&J.emitClose||G!=null&&G.emitClose)&&C.emit("close")}function y(C,G){let J=C._readableState,W=C._writableState;W!=null&&W.errorEmitted||J!=null&&J.errorEmitted||(W&&(W.errorEmitted=!0),J&&(J.errorEmitted=!0),C.emit("error",G))}function v(){let C=this._readableState,G=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=C.readable===!1,C.endEmitted=C.readable===!1),G&&(G.constructed=!0,G.destroyed=!1,G.closed=!1,G.closeEmitted=!1,G.errored=null,G.errorEmitted=!1,G.finalCalled=!1,G.prefinished=!1,G.ended=G.writable===!1,G.ending=G.writable===!1,G.finished=G.writable===!1)}function j(C,G,J){let W=C._readableState,ge=C._writableState;if(ge!=null&&ge.destroyed||W!=null&&W.destroyed)return this;W!=null&&W.autoDestroy||ge!=null&&ge.autoDestroy?C.destroy(G):G&&(G.stack,ge&&!ge.errored&&(ge.errored=G),W&&!W.errored&&(W.errored=G),J?s.nextTick(y,C,G):y(C,G))}function B(C,G){if(typeof C._construct!="function")return;let J=C._readableState,W=C._writableState;J&&(J.constructed=!1),W&&(W.constructed=!1),C.once(g,G),!(C.listenerCount(g)>1)&&s.nextTick(A,C)}function A(C){let G=!1;function J(W){if(G){j(C,W??new f);return}G=!0;let ge=C._readableState,de=C._writableState,le=de||ge;ge&&(ge.constructed=!0),de&&(de.constructed=!0),le.destroyed?C.emit(d,W):W?j(C,W,!0):s.nextTick(T,C)}try{C._construct(W=>{s.nextTick(J,W)})}catch(W){s.nextTick(J,W)}}function T(C){C.emit(g)}function M(C){return(C==null?void 0:C.setHeader)&&typeof C.abort=="function"}function Y(C){C.emit("close")}function X(C,G){C.emit("error",G),s.nextTick(Y,C)}function ae(C,G){!C||t(C)||(!G&&!i(C)&&(G=new n),h(C)?(C.socket=null,C.destroy(G)):M(C)?C.abort():M(C.req)?C.req.abort():typeof C.destroy=="function"?C.destroy(G):typeof C.close=="function"?C.close():G?s.nextTick(X,C,G):s.nextTick(Y,C),C.destroyed||(C[r]=!0))}c.exports={construct:B,destroyer:ae,destroy:m,undestroy:v,errorOrDestroy:j}}),bi=be((o,c)=>{he(),ce(),fe();var{ArrayIsArray:s,ObjectSetPrototypeOf:l}=Ve(),{EventEmitter:f}=(zt(),je(Bt));function n(r){f.call(this,r)}l(n.prototype,f.prototype),l(n,f),n.prototype.pipe=function(r,t){let i=this;function h(I){r.writable&&r.write(I)===!1&&i.pause&&i.pause()}i.on("data",h);function d(){i.readable&&i.resume&&i.resume()}r.on("drain",d),!r._isStdio&&(!t||t.end!==!1)&&(i.on("end",b),i.on("close",m));let g=!1;function b(){g||(g=!0,r.end())}function m(){g||(g=!0,typeof r.destroy=="function"&&r.destroy())}function _(I){E(),f.listenerCount(this,"error")===0&&this.emit("error",I)}e(i,"error",_),e(r,"error",_);function E(){i.removeListener("data",h),r.removeListener("drain",d),i.removeListener("end",b),i.removeListener("close",m),i.removeListener("error",_),r.removeListener("error",_),i.removeListener("end",E),i.removeListener("close",E),r.removeListener("close",E)}return i.on("end",E),i.on("close",E),r.on("close",E),r.emit("pipe",i),r};function e(r,t,i){if(typeof r.prependListener=="function")return r.prependListener(t,i);!r._events||!r._events[t]?r.on(t,i):s(r._events[t])?r._events[t].unshift(i):r._events[t]=[i,r._events[t]]}c.exports={Stream:n,prependListener:e}}),kr=be((o,c)=>{he(),ce(),fe();var{SymbolDispose:s}=Ve(),{AbortError:l,codes:f}=rt(),{isNodeStream:n,isWebStream:e,kControllerErrorFunction:r}=At(),t=Mt(),{ERR_INVALID_ARG_TYPE:i}=f,h,d=(g,b)=>{if(typeof g!="object"||!("aborted"in g))throw new i(b,"AbortSignal",g)};c.exports.addAbortSignal=function(g,b){if(d(g,"signal"),!n(b)&&!e(b))throw new i("stream",["ReadableStream","WritableStream","Stream"],b);return c.exports.addAbortSignalNoValidate(g,b)},c.exports.addAbortSignalNoValidate=function(g,b){if(typeof g!="object"||!("aborted"in g))return b;let m=n(b)?()=>{b.destroy(new l(void 0,{cause:g.reason}))}:()=>{b[r](new l(void 0,{cause:g.reason}))};if(g.aborted)m();else{h=h||it().addAbortListener;let _=h(g,m);t(b,_[s])}return b}}),Go=be((o,c)=>{he(),ce(),fe();var{StringPrototypeSlice:s,SymbolIterator:l,TypedArrayPrototypeSet:f,Uint8Array:n}=Ve(),{Buffer:e}=(Ye(),je(Qe)),{inspect:r}=it();c.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let i={data:t,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(t){let i={data:t,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let i=this.head,h=""+i.data;for(;(i=i.next)!==null;)h+=t+i.data;return h}concat(t){if(this.length===0)return e.alloc(0);let i=e.allocUnsafe(t>>>0),h=this.head,d=0;for(;h;)f(i,h.data,d),d+=h.data.length,h=h.next;return i}consume(t,i){let h=this.head.data;if(t<h.length){let d=h.slice(0,t);return this.head.data=h.slice(t),d}return t===h.length?this.shift():i?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[l](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let i="",h=this.head,d=0;do{let g=h.data;if(t>g.length)i+=g,t-=g.length;else{t===g.length?(i+=g,++d,h.next?this.head=h.next:this.head=this.tail=null):(i+=s(g,0,t),this.head=h,h.data=s(g,t));break}++d}while((h=h.next)!==null);return this.length-=d,i}_getBuffer(t){let i=e.allocUnsafe(t),h=t,d=this.head,g=0;do{let b=d.data;if(t>b.length)f(i,b,h-t),t-=b.length;else{t===b.length?(f(i,b,h-t),++g,d.next?this.head=d.next:this.head=this.tail=null):(f(i,new n(b.buffer,b.byteOffset,t),h-t),this.head=d,d.data=b.slice(t));break}++g}while((d=d.next)!==null);return this.length-=g,i}[Symbol.for("nodejs.util.inspect.custom")](t,i){return r(this,{...i,depth:0,customInspect:!1})}}}),Tr=be((o,c)=>{he(),ce(),fe();var{MathFloor:s,NumberIsInteger:l}=Ve(),{validateInteger:f}=lr(),{ERR_INVALID_ARG_VALUE:n}=rt().codes,e=16*1024,r=16;function t(g,b,m){return g.highWaterMark!=null?g.highWaterMark:b?g[m]:null}function i(g){return g?r:e}function h(g,b){f(b,"value",0),g?r=b:e=b}function d(g,b,m,_){let E=t(b,_,m);if(E!=null){if(!l(E)||E<0){let I=_?`options.${m}`:"options.highWaterMark";throw new n(I,E)}return s(E)}return i(g.objectMode)}c.exports={getHighWaterMark:d,getDefaultHighWaterMark:i,setDefaultHighWaterMark:h}}),Qo=be((o,c)=>{he(),ce(),fe();var s=(Ye(),je(Qe)),l=s.Buffer;function f(e,r){for(var t in e)r[t]=e[t]}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?c.exports=s:(f(s,o),o.Buffer=n);function n(e,r,t){return l(e,r,t)}n.prototype=Object.create(l.prototype),f(l,n),n.from=function(e,r,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return l(e,r,t)},n.alloc=function(e,r,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=l(e);return r!==void 0?typeof t=="string"?i.fill(r,t):i.fill(r):i.fill(0),i},n.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return l(e)},n.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(e)}}),Yo=be(o=>{he(),ce(),fe();var c=Qo().Buffer,s=c.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(y){if(!y)return"utf8";for(var v;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(v)return;y=(""+y).toLowerCase(),v=!0}}function f(y){var v=l(y);if(typeof v!="string"&&(c.isEncoding===s||!s(y)))throw new Error("Unknown encoding: "+y);return v||y}o.StringDecoder=n;function n(y){this.encoding=f(y);var v;switch(this.encoding){case"utf16le":this.text=g,this.end=b,v=4;break;case"utf8":this.fillLast=i,v=4;break;case"base64":this.text=m,this.end=_,v=3;break;default:this.write=E,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(v)}n.prototype.write=function(y){if(y.length===0)return"";var v,j;if(this.lastNeed){if(v=this.fillLast(y),v===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<y.length?v?v+this.text(y,j):this.text(y,j):v||""},n.prototype.end=d,n.prototype.text=h,n.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function e(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function r(y,v,j){var B=v.length-1;if(B<j)return 0;var A=e(v[B]);return A>=0?(A>0&&(y.lastNeed=A-1),A):--B<j||A===-2?0:(A=e(v[B]),A>=0?(A>0&&(y.lastNeed=A-2),A):--B<j||A===-2?0:(A=e(v[B]),A>=0?(A>0&&(A===2?A=0:y.lastNeed=A-3),A):0))}function t(y,v,j){if((v[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return y.lastNeed=2,""}}function i(y){var v=this.lastTotal-this.lastNeed,j=t(this,y);if(j!==void 0)return j;if(this.lastNeed<=y.length)return y.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,v,0,y.length),this.lastNeed-=y.length}function h(y,v){var j=r(this,y,v);if(!this.lastNeed)return y.toString("utf8",v);this.lastTotal=j;var B=y.length-(j-this.lastNeed);return y.copy(this.lastChar,0,B),y.toString("utf8",v,B)}function d(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+"":v}function g(y,v){if((y.length-v)%2===0){var j=y.toString("utf16le",v);if(j){var B=j.charCodeAt(j.length-1);if(B>=55296&&B<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",v,y.length-1)}function b(y){var v=y&&y.length?this.write(y):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,j)}return v}function m(y,v){var j=(y.length-v)%3;return j===0?y.toString("base64",v):(this.lastNeed=3-j,this.lastTotal=3,j===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",v,y.length-j))}function _(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function E(y){return y.toString(this.encoding)}function I(y){return y&&y.length?this.write(y):""}}),Ss=be((o,c)=>{he(),ce(),fe();var s=Kt(),{PromisePrototypeThen:l,SymbolAsyncIterator:f,SymbolIterator:n}=Ve(),{Buffer:e}=(Ye(),je(Qe)),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_NULL_VALUES:t}=rt().codes;function i(h,d,g){let b;if(typeof d=="string"||d instanceof e)return new h({objectMode:!0,...g,read(){this.push(d),this.push(null)}});let m;if(d&&d[f])m=!0,b=d[f]();else if(d&&d[n])m=!1,b=d[n]();else throw new r("iterable",["Iterable"],d);let _=new h({objectMode:!0,highWaterMark:1,...g}),E=!1;_._read=function(){E||(E=!0,y())},_._destroy=function(v,j){l(I(v),()=>s.nextTick(j,v),B=>s.nextTick(j,B||v))};async function I(v){let j=v!=null,B=typeof b.throw=="function";if(j&&B){let{value:A,done:T}=await b.throw(v);if(await A,T)return}if(typeof b.return=="function"){let{value:A}=await b.return();await A}}async function y(){for(;;){try{let{value:v,done:j}=m?await b.next():b.next();if(j)_.push(null);else{let B=v&&typeof v.then=="function"?await v:v;if(B===null)throw E=!1,new t;if(_.push(B))continue;E=!1}}catch(v){_.destroy(v)}break}}return _}c.exports=i}),Or=be((o,c)=>{he(),ce(),fe();var s=Kt(),{ArrayPrototypeIndexOf:l,NumberIsInteger:f,NumberIsNaN:n,NumberParseInt:e,ObjectDefineProperties:r,ObjectKeys:t,ObjectSetPrototypeOf:i,Promise:h,SafeSet:d,SymbolAsyncDispose:g,SymbolAsyncIterator:b,Symbol:m}=Ve();c.exports=ee,ee.ReadableState=me;var{EventEmitter:_}=(zt(),je(Bt)),{Stream:E,prependListener:I}=bi(),{Buffer:y}=(Ye(),je(Qe)),{addAbortSignal:v}=kr(),j=Mt(),B=it().debuglog("stream",S=>{B=S}),A=Go(),T=Xt(),{getHighWaterMark:M,getDefaultHighWaterMark:Y}=Tr(),{aggregateTwoErrors:X,codes:{ERR_INVALID_ARG_TYPE:ae,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_OUT_OF_RANGE:G,ERR_STREAM_PUSH_AFTER_EOF:J,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:W},AbortError:ge}=rt(),{validateObject:de}=lr(),le=m("kPaused"),{StringDecoder:Ee}=Yo(),z=Ss();i(ee.prototype,E.prototype),i(ee,E);var pe=()=>{},{errorOrDestroy:R}=T,ne=1,ye=2,F=4,Ie=8,V=16,L=32,Z=64,q=128,$=256,H=512,oe=1024,ie=2048,x=4096,N=8192,Q=16384,re=32768,te=65536,ue=1<<17,D=1<<18;function se(S){return{enumerable:!1,get(){return(this.state&S)!==0},set(P){P?this.state|=S:this.state&=~S}}}r(me.prototype,{objectMode:se(ne),ended:se(ye),endEmitted:se(F),reading:se(Ie),constructed:se(V),sync:se(L),needReadable:se(Z),emittedReadable:se(q),readableListening:se($),resumeScheduled:se(H),errorEmitted:se(oe),emitClose:se(ie),autoDestroy:se(x),destroyed:se(N),closed:se(Q),closeEmitted:se(re),multiAwaitDrain:se(te),readingMore:se(ue),dataEmitted:se(D)});function me(S,P,we){typeof we!="boolean"&&(we=P instanceof Et()),this.state=ie|x|V|L,S&&S.objectMode&&(this.state|=ne),we&&S&&S.readableObjectMode&&(this.state|=ne),this.highWaterMark=S?M(this,S,"readableHighWaterMark",we):Y(!1),this.buffer=new A,this.length=0,this.pipes=[],this.flowing=null,this[le]=null,S&&S.emitClose===!1&&(this.state&=-2049),S&&S.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=S&&S.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,S&&S.encoding&&(this.decoder=new Ee(S.encoding),this.encoding=S.encoding)}function ee(S){if(!(this instanceof ee))return new ee(S);let P=this instanceof Et();this._readableState=new me(S,this,P),S&&(typeof S.read=="function"&&(this._read=S.read),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.construct=="function"&&(this._construct=S.construct),S.signal&&!P&&v(S.signal,this)),E.call(this,S),T.construct(this,()=>{this._readableState.needReadable&&_e(this,this._readableState)})}ee.prototype.destroy=T.destroy,ee.prototype._undestroy=T.undestroy,ee.prototype._destroy=function(S,P){P(S)},ee.prototype[_.captureRejectionSymbol]=function(S){this.destroy(S)},ee.prototype[g]=function(){let S;return this.destroyed||(S=this.readableEnded?null:new ge,this.destroy(S)),new h((P,we)=>j(this,Se=>Se&&Se!==S?we(Se):P(null)))},ee.prototype.push=function(S,P){return Pe(this,S,P,!1)},ee.prototype.unshift=function(S,P){return Pe(this,S,P,!0)};function Pe(S,P,we,Se){B("readableAddChunk",P);let ke=S._readableState,Xe;if(ke.state&ne||(typeof P=="string"?(we=we||ke.defaultEncoding,ke.encoding!==we&&(Se&&ke.encoding?P=y.from(P,we).toString(ke.encoding):(P=y.from(P,we),we=""))):P instanceof y?we="":E._isUint8Array(P)?(P=E._uint8ArrayToBuffer(P),we=""):P!=null&&(Xe=new ae("chunk",["string","Buffer","Uint8Array"],P))),Xe)R(S,Xe);else if(P===null)ke.state&=-9,k(S,ke);else if(ke.state&ne||P&&P.length>0)if(Se)if(ke.state&F)R(S,new W);else{if(ke.destroyed||ke.errored)return!1;a(S,ke,P,!0)}else if(ke.ended)R(S,new J);else{if(ke.destroyed||ke.errored)return!1;ke.state&=-9,ke.decoder&&!we?(P=ke.decoder.write(P),ke.objectMode||P.length!==0?a(S,ke,P,!1):_e(S,ke)):a(S,ke,P,!1)}else Se||(ke.state&=-9,_e(S,ke));return!ke.ended&&(ke.length<ke.highWaterMark||ke.length===0)}function a(S,P,we,Se){P.flowing&&P.length===0&&!P.sync&&S.listenerCount("data")>0?(P.state&te?P.awaitDrainWriters.clear():P.awaitDrainWriters=null,P.dataEmitted=!0,S.emit("data",we)):(P.length+=P.objectMode?1:we.length,Se?P.buffer.unshift(we):P.buffer.push(we),P.state&Z&&U(S)),_e(S,P)}ee.prototype.isPaused=function(){let S=this._readableState;return S[le]===!0||S.flowing===!1},ee.prototype.setEncoding=function(S){let P=new Ee(S);this._readableState.decoder=P,this._readableState.encoding=this._readableState.decoder.encoding;let we=this._readableState.buffer,Se="";for(let ke of we)Se+=P.write(ke);return we.clear(),Se!==""&&we.push(Se),this._readableState.length=Se.length,this};var u=1073741824;function p(S){if(S>u)throw new G("size","<= 1GiB",S);return S--,S|=S>>>1,S|=S>>>2,S|=S>>>4,S|=S>>>8,S|=S>>>16,S++,S}function w(S,P){return S<=0||P.length===0&&P.ended?0:P.state&ne?1:n(S)?P.flowing&&P.length?P.buffer.first().length:P.length:S<=P.length?S:P.ended?P.length:0}ee.prototype.read=function(S){B("read",S),S===void 0?S=NaN:f(S)||(S=e(S,10));let P=this._readableState,we=S;if(S>P.highWaterMark&&(P.highWaterMark=p(S)),S!==0&&(P.state&=-129),S===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return B("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?Ne(this):U(this),null;if(S=w(S,P),S===0&&P.ended)return P.length===0&&Ne(this),null;let Se=(P.state&Z)!==0;if(B("need readable",Se),(P.length===0||P.length-S<P.highWaterMark)&&(Se=!0,B("length less than watermark",Se)),P.ended||P.reading||P.destroyed||P.errored||!P.constructed)Se=!1,B("reading, ended or constructing",Se);else if(Se){B("do read"),P.state|=Ie|L,P.length===0&&(P.state|=Z);try{this._read(P.highWaterMark)}catch(Xe){R(this,Xe)}P.state&=-33,P.reading||(S=w(we,P))}let ke;return S>0?ke=Re(S,P):ke=null,ke===null?(P.needReadable=P.length<=P.highWaterMark,S=0):(P.length-=S,P.multiAwaitDrain?P.awaitDrainWriters.clear():P.awaitDrainWriters=null),P.length===0&&(P.ended||(P.needReadable=!0),we!==S&&P.ended&&Ne(this)),ke!==null&&!P.errorEmitted&&!P.closeEmitted&&(P.dataEmitted=!0,this.emit("data",ke)),ke};function k(S,P){if(B("onEofChunk"),!P.ended){if(P.decoder){let we=P.decoder.end();we&&we.length&&(P.buffer.push(we),P.length+=P.objectMode?1:we.length)}P.ended=!0,P.sync?U(S):(P.needReadable=!1,P.emittedReadable=!0,K(S))}}function U(S){let P=S._readableState;B("emitReadable",P.needReadable,P.emittedReadable),P.needReadable=!1,P.emittedReadable||(B("emitReadable",P.flowing),P.emittedReadable=!0,s.nextTick(K,S))}function K(S){let P=S._readableState;B("emitReadable_",P.destroyed,P.length,P.ended),!P.destroyed&&!P.errored&&(P.length||P.ended)&&(S.emit("readable"),P.emittedReadable=!1),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,st(S)}function _e(S,P){!P.readingMore&&P.constructed&&(P.readingMore=!0,s.nextTick(ve,S,P))}function ve(S,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){let we=P.length;if(B("maybeReadMore read 0"),S.read(0),we===P.length)break}P.readingMore=!1}ee.prototype._read=function(S){throw new C("_read()")},ee.prototype.pipe=function(S,P){let we=this,Se=this._readableState;Se.pipes.length===1&&(Se.multiAwaitDrain||(Se.multiAwaitDrain=!0,Se.awaitDrainWriters=new d(Se.awaitDrainWriters?[Se.awaitDrainWriters]:[]))),Se.pipes.push(S),B("pipe count=%d opts=%j",Se.pipes.length,P);let ke=(!P||P.end!==!1)&&S!==s.stdout&&S!==s.stderr?at:er;Se.endEmitted?s.nextTick(ke):we.once("end",ke),S.on("unpipe",Xe);function Xe(Ut,gt){B("onunpipe"),Ut===we&&gt&&gt.hasUnpiped===!1&&(gt.hasUnpiped=!0,Mo())}function at(){B("onend"),S.end()}let Lt,Ei=!1;function Mo(){B("cleanup"),S.removeListener("close",xr),S.removeListener("finish",Br),Lt&&S.removeListener("drain",Lt),S.removeListener("error",Rr),S.removeListener("unpipe",Xe),we.removeListener("end",at),we.removeListener("end",er),we.removeListener("data",Ai),Ei=!0,Lt&&Se.awaitDrainWriters&&(!S._writableState||S._writableState.needDrain)&&Lt()}function Si(){Ei||(Se.pipes.length===1&&Se.pipes[0]===S?(B("false write response, pause",0),Se.awaitDrainWriters=S,Se.multiAwaitDrain=!1):Se.pipes.length>1&&Se.pipes.includes(S)&&(B("false write response, pause",Se.awaitDrainWriters.size),Se.awaitDrainWriters.add(S)),we.pause()),Lt||(Lt=Te(we,S),S.on("drain",Lt))}we.on("data",Ai);function Ai(Ut){B("ondata");let gt=S.write(Ut);B("dest.write",gt),gt===!1&&Si()}function Rr(Ut){if(B("onerror",Ut),er(),S.removeListener("error",Rr),S.listenerCount("error")===0){let gt=S._writableState||S._readableState;gt&&!gt.errorEmitted?R(S,Ut):S.emit("error",Ut)}}I(S,"error",Rr);function xr(){S.removeListener("finish",Br),er()}S.once("close",xr);function Br(){B("onfinish"),S.removeListener("close",xr),er()}S.once("finish",Br);function er(){B("unpipe"),we.unpipe(S)}return S.emit("pipe",we),S.writableNeedDrain===!0?Si():Se.flowing||(B("pipe resume"),we.resume()),S};function Te(S,P){return function(){let we=S._readableState;we.awaitDrainWriters===P?(B("pipeOnDrain",1),we.awaitDrainWriters=null):we.multiAwaitDrain&&(B("pipeOnDrain",we.awaitDrainWriters.size),we.awaitDrainWriters.delete(P)),(!we.awaitDrainWriters||we.awaitDrainWriters.size===0)&&S.listenerCount("data")&&S.resume()}}ee.prototype.unpipe=function(S){let P=this._readableState,we={hasUnpiped:!1};if(P.pipes.length===0)return this;if(!S){let ke=P.pipes;P.pipes=[],this.pause();for(let Xe=0;Xe<ke.length;Xe++)ke[Xe].emit("unpipe",this,{hasUnpiped:!1});return this}let Se=l(P.pipes,S);return Se===-1?this:(P.pipes.splice(Se,1),P.pipes.length===0&&this.pause(),S.emit("unpipe",this,we),this)},ee.prototype.on=function(S,P){let we=E.prototype.on.call(this,S,P),Se=this._readableState;return S==="data"?(Se.readableListening=this.listenerCount("readable")>0,Se.flowing!==!1&&this.resume()):S==="readable"&&!Se.endEmitted&&!Se.readableListening&&(Se.readableListening=Se.needReadable=!0,Se.flowing=!1,Se.emittedReadable=!1,B("on readable",Se.length,Se.reading),Se.length?U(this):Se.reading||s.nextTick(Ce,this)),we},ee.prototype.addListener=ee.prototype.on,ee.prototype.removeListener=function(S,P){let we=E.prototype.removeListener.call(this,S,P);return S==="readable"&&s.nextTick(xe,this),we},ee.prototype.off=ee.prototype.removeListener,ee.prototype.removeAllListeners=function(S){let P=E.prototype.removeAllListeners.apply(this,arguments);return(S==="readable"||S===void 0)&&s.nextTick(xe,this),P};function xe(S){let P=S._readableState;P.readableListening=S.listenerCount("readable")>0,P.resumeScheduled&&P[le]===!1?P.flowing=!0:S.listenerCount("data")>0?S.resume():P.readableListening||(P.flowing=null)}function Ce(S){B("readable nexttick read 0"),S.read(0)}ee.prototype.resume=function(){let S=this._readableState;return S.flowing||(B("resume"),S.flowing=!S.readableListening,ft(this,S)),S[le]=!1,this};function ft(S,P){P.resumeScheduled||(P.resumeScheduled=!0,s.nextTick(nt,S,P))}function nt(S,P){B("resume",P.reading),P.reading||S.read(0),P.resumeScheduled=!1,S.emit("resume"),st(S),P.flowing&&!P.reading&&S.read(0)}ee.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[le]=!0,this};function st(S){let P=S._readableState;for(B("flow",P.flowing);P.flowing&&S.read()!==null;);}ee.prototype.wrap=function(S){let P=!1;S.on("data",Se=>{!this.push(Se)&&S.pause&&(P=!0,S.pause())}),S.on("end",()=>{this.push(null)}),S.on("error",Se=>{R(this,Se)}),S.on("close",()=>{this.destroy()}),S.on("destroy",()=>{this.destroy()}),this._read=()=>{P&&S.resume&&(P=!1,S.resume())};let we=t(S);for(let Se=1;Se<we.length;Se++){let ke=we[Se];this[ke]===void 0&&typeof S[ke]=="function"&&(this[ke]=S[ke].bind(S))}return this},ee.prototype[b]=function(){return Fe(this)},ee.prototype.iterator=function(S){return S!==void 0&&de(S,"options"),Fe(this,S)};function Fe(S,P){typeof S.read!="function"&&(S=ee.wrap(S,{objectMode:!0}));let we=Ge(S,P);return we.stream=S,we}async function*Ge(S,P){let we=pe;function Se(at){this===S?(we(),we=pe):we=at}S.on("readable",Se);let ke,Xe=j(S,{writable:!1},at=>{ke=at?X(ke,at):null,we(),we=pe});try{for(;;){let at=S.destroyed?null:S.read();if(at!==null)yield at;else{if(ke)throw ke;if(ke===null)return;await new h(Se)}}}catch(at){throw ke=X(ke,at),ke}finally{(ke||(P==null?void 0:P.destroyOnReturn)!==!1)&&(ke===void 0||S._readableState.autoDestroy)?T.destroyer(S,null):(S.off("readable",Se),Xe())}}r(ee.prototype,{readable:{__proto__:null,get(){let S=this._readableState;return!!S&&S.readable!==!1&&!S.destroyed&&!S.errorEmitted&&!S.endEmitted},set(S){this._readableState&&(this._readableState.readable=!!S)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(S){this._readableState&&(this._readableState.flowing=S)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(S){this._readableState&&(this._readableState.destroyed=S)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),r(me.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[le]!==!1},set(S){this[le]=!!S}}}),ee._fromList=Re;function Re(S,P){if(P.length===0)return null;let we;return P.objectMode?we=P.buffer.shift():!S||S>=P.length?(P.decoder?we=P.buffer.join(""):P.buffer.length===1?we=P.buffer.first():we=P.buffer.concat(P.length),P.buffer.clear()):we=P.buffer.consume(S,P.decoder),we}function Ne(S){let P=S._readableState;B("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,s.nextTick(Je,P,S))}function Je(S,P){if(B("endReadableNT",S.endEmitted,S.length),!S.errored&&!S.closeEmitted&&!S.endEmitted&&S.length===0){if(S.endEmitted=!0,P.emit("end"),P.writable&&P.allowHalfOpen===!1)s.nextTick(Ke,P);else if(S.autoDestroy){let we=P._writableState;(!we||we.autoDestroy&&(we.finished||we.writable===!1))&&P.destroy()}}}function Ke(S){S.writable&&!S.writableEnded&&!S.destroyed&&S.end()}ee.from=function(S,P){return z(ee,S,P)};var et;function Tt(){return et===void 0&&(et={}),et}ee.fromWeb=function(S,P){return Tt().newStreamReadableFromReadableStream(S,P)},ee.toWeb=function(S,P){return Tt().newReadableStreamFromStreamReadable(S,P)},ee.wrap=function(S,P){var we,Se;return new ee({objectMode:(we=(Se=S.readableObjectMode)!==null&&Se!==void 0?Se:S.objectMode)!==null&&we!==void 0?we:!0,...P,destroy(ke,Xe){T.destroyer(S,ke),Xe(ke)}}).wrap(S)}}),mi=be((o,c)=>{he(),ce(),fe();var s=Kt(),{ArrayPrototypeSlice:l,Error:f,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:e,ObjectDefineProperties:r,ObjectSetPrototypeOf:t,StringPrototypeToLowerCase:i,Symbol:h,SymbolHasInstance:d}=Ve();c.exports=de,de.WritableState=W;var{EventEmitter:g}=(zt(),je(Bt)),b=bi().Stream,{Buffer:m}=(Ye(),je(Qe)),_=Xt(),{addAbortSignal:E}=kr(),{getHighWaterMark:I,getDefaultHighWaterMark:y}=Tr(),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:j,ERR_MULTIPLE_CALLBACK:B,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:M,ERR_STREAM_NULL_VALUES:Y,ERR_STREAM_WRITE_AFTER_END:X,ERR_UNKNOWN_ENCODING:ae}=rt().codes,{errorOrDestroy:C}=_;t(de.prototype,b.prototype),t(de,b);function G(){}var J=h("kOnFinished");function W(x,N,Q){typeof Q!="boolean"&&(Q=N instanceof Et()),this.objectMode=!!(x&&x.objectMode),Q&&(this.objectMode=this.objectMode||!!(x&&x.writableObjectMode)),this.highWaterMark=x?I(this,x,"writableHighWaterMark",Q):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let re=!!(x&&x.decodeStrings===!1);this.decodeStrings=!re,this.defaultEncoding=x&&x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=R.bind(void 0,N),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ge(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!x||x.emitClose!==!1,this.autoDestroy=!x||x.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[J]=[]}function ge(x){x.buffered=[],x.bufferedIndex=0,x.allBuffers=!0,x.allNoop=!0}W.prototype.getBuffer=function(){return l(this.buffered,this.bufferedIndex)},e(W.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function de(x){let N=this instanceof Et();if(!N&&!n(de,this))return new de(x);this._writableState=new W(x,this,N),x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final),typeof x.construct=="function"&&(this._construct=x.construct),x.signal&&E(x.signal,this)),b.call(this,x),_.construct(this,()=>{let Q=this._writableState;Q.writing||Ie(this,Q),q(this,Q)})}e(de,d,{__proto__:null,value:function(x){return n(this,x)?!0:this!==de?!1:x&&x._writableState instanceof W}}),de.prototype.pipe=function(){C(this,new A)};function le(x,N,Q,re){let te=x._writableState;if(typeof Q=="function")re=Q,Q=te.defaultEncoding;else{if(!Q)Q=te.defaultEncoding;else if(Q!=="buffer"&&!m.isEncoding(Q))throw new ae(Q);typeof re!="function"&&(re=G)}if(N===null)throw new Y;if(!te.objectMode)if(typeof N=="string")te.decodeStrings!==!1&&(N=m.from(N,Q),Q="buffer");else if(N instanceof m)Q="buffer";else if(b._isUint8Array(N))N=b._uint8ArrayToBuffer(N),Q="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],N);let ue;return te.ending?ue=new X:te.destroyed&&(ue=new T("write")),ue?(s.nextTick(re,ue),C(x,ue,!0),ue):(te.pendingcb++,Ee(x,te,N,Q,re))}de.prototype.write=function(x,N,Q){return le(this,x,N,Q)===!0},de.prototype.cork=function(){this._writableState.corked++},de.prototype.uncork=function(){let x=this._writableState;x.corked&&(x.corked--,x.writing||Ie(this,x))},de.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=i(x)),!m.isEncoding(x))throw new ae(x);return this._writableState.defaultEncoding=x,this};function Ee(x,N,Q,re,te){let ue=N.objectMode?1:Q.length;N.length+=ue;let D=N.length<N.highWaterMark;return D||(N.needDrain=!0),N.writing||N.corked||N.errored||!N.constructed?(N.buffered.push({chunk:Q,encoding:re,callback:te}),N.allBuffers&&re!=="buffer"&&(N.allBuffers=!1),N.allNoop&&te!==G&&(N.allNoop=!1)):(N.writelen=ue,N.writecb=te,N.writing=!0,N.sync=!0,x._write(Q,re,N.onwrite),N.sync=!1),D&&!N.errored&&!N.destroyed}function z(x,N,Q,re,te,ue,D){N.writelen=re,N.writecb=D,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new T("write")):Q?x._writev(te,N.onwrite):x._write(te,ue,N.onwrite),N.sync=!1}function pe(x,N,Q,re){--N.pendingcb,re(Q),F(N),C(x,Q)}function R(x,N){let Q=x._writableState,re=Q.sync,te=Q.writecb;if(typeof te!="function"){C(x,new B);return}Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,N?(N.stack,Q.errored||(Q.errored=N),x._readableState&&!x._readableState.errored&&(x._readableState.errored=N),re?s.nextTick(pe,x,Q,N,te):pe(x,Q,N,te)):(Q.buffered.length>Q.bufferedIndex&&Ie(x,Q),re?Q.afterWriteTickInfo!==null&&Q.afterWriteTickInfo.cb===te?Q.afterWriteTickInfo.count++:(Q.afterWriteTickInfo={count:1,cb:te,stream:x,state:Q},s.nextTick(ne,Q.afterWriteTickInfo)):ye(x,Q,1,te))}function ne({stream:x,state:N,count:Q,cb:re}){return N.afterWriteTickInfo=null,ye(x,N,Q,re)}function ye(x,N,Q,re){for(!N.ending&&!x.destroyed&&N.length===0&&N.needDrain&&(N.needDrain=!1,x.emit("drain"));Q-- >0;)N.pendingcb--,re();N.destroyed&&F(N),q(x,N)}function F(x){if(x.writing)return;for(let te=x.bufferedIndex;te<x.buffered.length;++te){var N;let{chunk:ue,callback:D}=x.buffered[te],se=x.objectMode?1:ue.length;x.length-=se,D((N=x.errored)!==null&&N!==void 0?N:new T("write"))}let Q=x[J].splice(0);for(let te=0;te<Q.length;te++){var re;Q[te]((re=x.errored)!==null&&re!==void 0?re:new T("end"))}ge(x)}function Ie(x,N){if(N.corked||N.bufferProcessing||N.destroyed||!N.constructed)return;let{buffered:Q,bufferedIndex:re,objectMode:te}=N,ue=Q.length-re;if(!ue)return;let D=re;if(N.bufferProcessing=!0,ue>1&&x._writev){N.pendingcb-=ue-1;let se=N.allNoop?G:ee=>{for(let Pe=D;Pe<Q.length;++Pe)Q[Pe].callback(ee)},me=N.allNoop&&D===0?Q:l(Q,D);me.allBuffers=N.allBuffers,z(x,N,!0,N.length,me,"",se),ge(N)}else{do{let{chunk:se,encoding:me,callback:ee}=Q[D];Q[D++]=null;let Pe=te?1:se.length;z(x,N,!1,Pe,se,me,ee)}while(D<Q.length&&!N.writing);D===Q.length?ge(N):D>256?(Q.splice(0,D),N.bufferedIndex=0):N.bufferedIndex=D}N.bufferProcessing=!1}de.prototype._write=function(x,N,Q){if(this._writev)this._writev([{chunk:x,encoding:N}],Q);else throw new j("_write()")},de.prototype._writev=null,de.prototype.end=function(x,N,Q){let re=this._writableState;typeof x=="function"?(Q=x,x=null,N=null):typeof N=="function"&&(Q=N,N=null);let te;if(x!=null){let ue=le(this,x,N);ue instanceof f&&(te=ue)}return re.corked&&(re.corked=1,this.uncork()),te||(!re.errored&&!re.ending?(re.ending=!0,q(this,re,!0),re.ended=!0):re.finished?te=new M("end"):re.destroyed&&(te=new T("end"))),typeof Q=="function"&&(te||re.finished?s.nextTick(Q,te):re[J].push(Q)),this};function V(x){return x.ending&&!x.destroyed&&x.constructed&&x.length===0&&!x.errored&&x.buffered.length===0&&!x.finished&&!x.writing&&!x.errorEmitted&&!x.closeEmitted}function L(x,N){let Q=!1;function re(te){if(Q){C(x,te??B());return}if(Q=!0,N.pendingcb--,te){let ue=N[J].splice(0);for(let D=0;D<ue.length;D++)ue[D](te);C(x,te,N.sync)}else V(N)&&(N.prefinished=!0,x.emit("prefinish"),N.pendingcb++,s.nextTick($,x,N))}N.sync=!0,N.pendingcb++;try{x._final(re)}catch(te){re(te)}N.sync=!1}function Z(x,N){!N.prefinished&&!N.finalCalled&&(typeof x._final=="function"&&!N.destroyed?(N.finalCalled=!0,L(x,N)):(N.prefinished=!0,x.emit("prefinish")))}function q(x,N,Q){V(N)&&(Z(x,N),N.pendingcb===0&&(Q?(N.pendingcb++,s.nextTick((re,te)=>{V(te)?$(re,te):te.pendingcb--},x,N)):V(N)&&(N.pendingcb++,$(x,N))))}function $(x,N){N.pendingcb--,N.finished=!0;let Q=N[J].splice(0);for(let re=0;re<Q.length;re++)Q[re]();if(x.emit("finish"),N.autoDestroy){let re=x._readableState;(!re||re.autoDestroy&&(re.endEmitted||re.readable===!1))&&x.destroy()}}r(de.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(x){this._writableState&&(this._writableState.destroyed=x)}},writable:{__proto__:null,get(){let x=this._writableState;return!!x&&x.writable!==!1&&!x.destroyed&&!x.errored&&!x.ending&&!x.ended},set(x){this._writableState&&(this._writableState.writable=!!x)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let x=this._writableState;return x?!x.destroyed&&!x.ending&&x.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var H=_.destroy;de.prototype.destroy=function(x,N){let Q=this._writableState;return!Q.destroyed&&(Q.bufferedIndex<Q.buffered.length||Q[J].length)&&s.nextTick(F,Q),H.call(this,x,N),this},de.prototype._undestroy=_.undestroy,de.prototype._destroy=function(x,N){N(x)},de.prototype[g.captureRejectionSymbol]=function(x){this.destroy(x)};var oe;function ie(){return oe===void 0&&(oe={}),oe}de.fromWeb=function(x,N){return ie().newStreamWritableFromWritableStream(x,N)},de.toWeb=function(x){return ie().newWritableStreamFromStreamWritable(x)}}),Jo=be((o,c)=>{he(),ce(),fe();var s=Kt(),l=(Ye(),je(Qe)),{isReadable:f,isWritable:n,isIterable:e,isNodeStream:r,isReadableNodeStream:t,isWritableNodeStream:i,isDuplexNodeStream:h,isReadableStream:d,isWritableStream:g}=At(),b=Mt(),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:E}}=rt(),{destroyer:I}=Xt(),y=Et(),v=Or(),j=mi(),{createDeferredPromise:B}=it(),A=Ss(),T=globalThis.Blob||l.Blob,M=typeof T<"u"?function(J){return J instanceof T}:function(J){return!1},Y=globalThis.AbortController||ar().AbortController,{FunctionPrototypeCall:X}=Ve(),ae=class extends y{constructor(J){super(J),(J==null?void 0:J.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(J==null?void 0:J.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};c.exports=function J(W,ge){if(h(W))return W;if(t(W))return G({readable:W});if(i(W))return G({writable:W});if(r(W))return G({writable:!1,readable:!1});if(d(W))return G({readable:v.fromWeb(W)});if(g(W))return G({writable:j.fromWeb(W)});if(typeof W=="function"){let{value:le,write:Ee,final:z,destroy:pe}=C(W);if(e(le))return A(ae,le,{objectMode:!0,write:Ee,final:z,destroy:pe});let R=le==null?void 0:le.then;if(typeof R=="function"){let ne,ye=X(R,le,F=>{if(F!=null)throw new E("nully","body",F)},F=>{I(ne,F)});return ne=new ae({objectMode:!0,readable:!1,write:Ee,final(F){z(async()=>{try{await ye,s.nextTick(F,null)}catch(Ie){s.nextTick(F,Ie)}})},destroy:pe})}throw new E("Iterable, AsyncIterable or AsyncFunction",ge,le)}if(M(W))return J(W.arrayBuffer());if(e(W))return A(ae,W,{objectMode:!0,writable:!1});if(d(W==null?void 0:W.readable)&&g(W==null?void 0:W.writable))return ae.fromWeb(W);if(typeof(W==null?void 0:W.writable)=="object"||typeof(W==null?void 0:W.readable)=="object"){let le=W!=null&&W.readable?t(W==null?void 0:W.readable)?W==null?void 0:W.readable:J(W.readable):void 0,Ee=W!=null&&W.writable?i(W==null?void 0:W.writable)?W==null?void 0:W.writable:J(W.writable):void 0;return G({readable:le,writable:Ee})}let de=W==null?void 0:W.then;if(typeof de=="function"){let le;return X(de,W,Ee=>{Ee!=null&&le.push(Ee),le.push(null)},Ee=>{I(le,Ee)}),le=new ae({objectMode:!0,writable:!1,read(){}})}throw new _(ge,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],W)};function C(J){let{promise:W,resolve:ge}=B(),de=new Y,le=de.signal;return{value:J(async function*(){for(;;){let Ee=W;W=null;let{chunk:z,done:pe,cb:R}=await Ee;if(s.nextTick(R),pe)return;if(le.aborted)throw new m(void 0,{cause:le.reason});({promise:W,resolve:ge}=B()),yield z}}(),{signal:le}),write(Ee,z,pe){let R=ge;ge=null,R({chunk:Ee,done:!1,cb:pe})},final(Ee){let z=ge;ge=null,z({done:!0,cb:Ee})},destroy(Ee,z){de.abort(),z(Ee)}}}function G(J){let W=J.readable&&typeof J.readable.read!="function"?v.wrap(J.readable):J.readable,ge=J.writable,de=!!f(W),le=!!n(ge),Ee,z,pe,R,ne;function ye(F){let Ie=R;R=null,Ie?Ie(F):F&&ne.destroy(F)}return ne=new ae({readableObjectMode:!!(W!=null&&W.readableObjectMode),writableObjectMode:!!(ge!=null&&ge.writableObjectMode),readable:de,writable:le}),le&&(b(ge,F=>{le=!1,F&&I(W,F),ye(F)}),ne._write=function(F,Ie,V){ge.write(F,Ie)?V():Ee=V},ne._final=function(F){ge.end(),z=F},ge.on("drain",function(){if(Ee){let F=Ee;Ee=null,F()}}),ge.on("finish",function(){if(z){let F=z;z=null,F()}})),de&&(b(W,F=>{de=!1,F&&I(W,F),ye(F)}),W.on("readable",function(){if(pe){let F=pe;pe=null,F()}}),W.on("end",function(){ne.push(null)}),ne._read=function(){for(;;){let F=W.read();if(F===null){pe=ne._read;return}if(!ne.push(F))return}}),ne._destroy=function(F,Ie){!F&&R!==null&&(F=new m),pe=null,Ee=null,z=null,R===null?Ie(F):(R=Ie,I(ge,F),I(W,F))},ne}}),Et=be((o,c)=>{he(),ce(),fe();var{ObjectDefineProperties:s,ObjectGetOwnPropertyDescriptor:l,ObjectKeys:f,ObjectSetPrototypeOf:n}=Ve();c.exports=t;var e=Or(),r=mi();n(t.prototype,e.prototype),n(t,e);{let g=f(r.prototype);for(let b=0;b<g.length;b++){let m=g[b];t.prototype[m]||(t.prototype[m]=r.prototype[m])}}function t(g){if(!(this instanceof t))return new t(g);e.call(this,g),r.call(this,g),g?(this.allowHalfOpen=g.allowHalfOpen!==!1,g.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),g.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(t.prototype,{writable:{__proto__:null,...l(r.prototype,"writable")},writableHighWaterMark:{__proto__:null,...l(r.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...l(r.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...l(r.prototype,"writableBuffer")},writableLength:{__proto__:null,...l(r.prototype,"writableLength")},writableFinished:{__proto__:null,...l(r.prototype,"writableFinished")},writableCorked:{__proto__:null,...l(r.prototype,"writableCorked")},writableEnded:{__proto__:null,...l(r.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...l(r.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(g){this._readableState&&this._writableState&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}});var i;function h(){return i===void 0&&(i={}),i}t.fromWeb=function(g,b){return h().newStreamDuplexFromReadableWritablePair(g,b)},t.toWeb=function(g){return h().newReadableWritablePairFromDuplex(g)};var d;t.from=function(g){return d||(d=Jo()),d(g,"body")}}),As=be((o,c)=>{he(),ce(),fe();var{ObjectSetPrototypeOf:s,Symbol:l}=Ve();c.exports=t;var{ERR_METHOD_NOT_IMPLEMENTED:f}=rt().codes,n=Et(),{getHighWaterMark:e}=Tr();s(t.prototype,n.prototype),s(t,n);var r=l("kCallback");function t(d){if(!(this instanceof t))return new t(d);let g=d?e(this,d,"readableHighWaterMark",!0):null;g===0&&(d={...d,highWaterMark:null,readableHighWaterMark:g,writableHighWaterMark:d.writableHighWaterMark||0}),n.call(this,d),this._readableState.sync=!1,this[r]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",h)}function i(d){typeof this._flush=="function"&&!this.destroyed?this._flush((g,b)=>{if(g){d?d(g):this.destroy(g);return}b!=null&&this.push(b),this.push(null),d&&d()}):(this.push(null),d&&d())}function h(){this._final!==i&&i.call(this)}t.prototype._final=i,t.prototype._transform=function(d,g,b){throw new f("_transform()")},t.prototype._write=function(d,g,b){let m=this._readableState,_=this._writableState,E=m.length;this._transform(d,g,(I,y)=>{if(I){b(I);return}y!=null&&this.push(y),_.ended||E===m.length||m.length<m.highWaterMark?b():this[r]=b})},t.prototype._read=function(){if(this[r]){let d=this[r];this[r]=null,d()}}}),Is=be((o,c)=>{he(),ce(),fe();var{ObjectSetPrototypeOf:s}=Ve();c.exports=f;var l=As();s(f.prototype,l.prototype),s(f,l);function f(n){if(!(this instanceof f))return new f(n);l.call(this,n)}f.prototype._transform=function(n,e,r){r(null,n)}}),yi=be((o,c)=>{he(),ce(),fe();var s=Kt(),{ArrayIsArray:l,Promise:f,SymbolAsyncIterator:n,SymbolDispose:e}=Ve(),r=Mt(),{once:t}=it(),i=Xt(),h=Et(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:_,ERR_STREAM_PREMATURE_CLOSE:E},AbortError:I}=rt(),{validateFunction:y,validateAbortSignal:v}=lr(),{isIterable:j,isReadable:B,isReadableNodeStream:A,isNodeStream:T,isTransformStream:M,isWebStream:Y,isReadableStream:X,isReadableFinished:ae}=At(),C=globalThis.AbortController||ar().AbortController,G,J,W;function ge(F,Ie,V){let L=!1;F.on("close",()=>{L=!0});let Z=r(F,{readable:Ie,writable:V},q=>{L=!q});return{destroy:q=>{L||(L=!0,i.destroyer(F,q||new _("pipe")))},cleanup:Z}}function de(F){return y(F[F.length-1],"streams[stream.length - 1]"),F.pop()}function le(F){if(j(F))return F;if(A(F))return Ee(F);throw new g("val",["Readable","Iterable","AsyncIterable"],F)}async function*Ee(F){J||(J=Or()),yield*J.prototype[n].call(F)}async function z(F,Ie,V,{end:L}){let Z,q=null,$=ie=>{if(ie&&(Z=ie),q){let x=q;q=null,x()}},H=()=>new f((ie,x)=>{Z?x(Z):q=()=>{Z?x(Z):ie()}});Ie.on("drain",$);let oe=r(Ie,{readable:!1},$);try{Ie.writableNeedDrain&&await H();for await(let ie of F)Ie.write(ie)||await H();L&&(Ie.end(),await H()),V()}catch(ie){V(Z!==ie?d(Z,ie):ie)}finally{oe(),Ie.off("drain",$)}}async function pe(F,Ie,V,{end:L}){M(Ie)&&(Ie=Ie.writable);let Z=Ie.getWriter();try{for await(let q of F)await Z.ready,Z.write(q).catch(()=>{});await Z.ready,L&&await Z.close(),V()}catch(q){try{await Z.abort(q),V(q)}catch($){V($)}}}function R(...F){return ne(F,t(de(F)))}function ne(F,Ie,V){if(F.length===1&&l(F[0])&&(F=F[0]),F.length<2)throw new m("streams");let L=new C,Z=L.signal,q=V==null?void 0:V.signal,$=[];v(q,"options.signal");function H(){te(new I)}W=W||it().addAbortListener;let oe;q&&(oe=W(q,H));let ie,x,N=[],Q=0;function re(me){te(me,--Q===0)}function te(me,ee){var Pe;if(me&&(!ie||ie.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ie=me),!(!ie&&!ee)){for(;N.length;)N.shift()(ie);(Pe=oe)===null||Pe===void 0||Pe[e](),L.abort(),ee&&(ie||$.forEach(a=>a()),s.nextTick(Ie,ie,x))}}let ue;for(let me=0;me<F.length;me++){let ee=F[me],Pe=me<F.length-1,a=me>0,u=Pe||(V==null?void 0:V.end)!==!1,p=me===F.length-1;if(T(ee)){let w=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&re(k)};if(u){let{destroy:k,cleanup:U}=ge(ee,Pe,a);N.push(k),B(ee)&&p&&$.push(U)}ee.on("error",w),B(ee)&&p&&$.push(()=>{ee.removeListener("error",w)})}if(me===0)if(typeof ee=="function"){if(ue=ee({signal:Z}),!j(ue))throw new b("Iterable, AsyncIterable or Stream","source",ue)}else j(ee)||A(ee)||M(ee)?ue=ee:ue=h.from(ee);else if(typeof ee=="function"){if(M(ue)){var D;ue=le((D=ue)===null||D===void 0?void 0:D.readable)}else ue=le(ue);if(ue=ee(ue,{signal:Z}),Pe){if(!j(ue,!0))throw new b("AsyncIterable",`transform[${me-1}]`,ue)}else{var se;G||(G=Is());let w=new G({objectMode:!0}),k=(se=ue)===null||se===void 0?void 0:se.then;if(typeof k=="function")Q++,k.call(ue,_e=>{x=_e,_e!=null&&w.write(_e),u&&w.end(),s.nextTick(re)},_e=>{w.destroy(_e),s.nextTick(re,_e)});else if(j(ue,!0))Q++,z(ue,w,re,{end:u});else if(X(ue)||M(ue)){let _e=ue.readable||ue;Q++,z(_e,w,re,{end:u})}else throw new b("AsyncIterable or Promise","destination",ue);ue=w;let{destroy:U,cleanup:K}=ge(ue,!1,!0);N.push(U),p&&$.push(K)}}else if(T(ee)){if(A(ue)){Q+=2;let w=ye(ue,ee,re,{end:u});B(ee)&&p&&$.push(w)}else if(M(ue)||X(ue)){let w=ue.readable||ue;Q++,z(w,ee,re,{end:u})}else if(j(ue))Q++,z(ue,ee,re,{end:u});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ue);ue=ee}else if(Y(ee)){if(A(ue))Q++,pe(le(ue),ee,re,{end:u});else if(X(ue)||j(ue))Q++,pe(ue,ee,re,{end:u});else if(M(ue))Q++,pe(ue.readable,ee,re,{end:u});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ue);ue=ee}else ue=h.from(ee)}return(Z!=null&&Z.aborted||q!=null&&q.aborted)&&s.nextTick(H),ue}function ye(F,Ie,V,{end:L}){let Z=!1;if(Ie.on("close",()=>{Z||V(new E)}),F.pipe(Ie,{end:!1}),L){let q=function(){Z=!0,Ie.end()};ae(F)?s.nextTick(q):F.once("end",q)}else V();return r(F,{readable:!0,writable:!1},q=>{let $=F._readableState;q&&q.code==="ERR_STREAM_PREMATURE_CLOSE"&&$&&$.ended&&!$.errored&&!$.errorEmitted?F.once("end",V).once("error",V):V(q)}),r(Ie,{readable:!1,writable:!0},V)}c.exports={pipelineImpl:ne,pipeline:R}}),ks=be((o,c)=>{he(),ce(),fe();var{pipeline:s}=yi(),l=Et(),{destroyer:f}=Xt(),{isNodeStream:n,isReadable:e,isWritable:r,isWebStream:t,isTransformStream:i,isWritableStream:h,isReadableStream:d}=At(),{AbortError:g,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:m}}=rt(),_=Mt();c.exports=function(...E){if(E.length===0)throw new m("streams");if(E.length===1)return l.from(E[0]);let I=[...E];if(typeof E[0]=="function"&&(E[0]=l.from(E[0])),typeof E[E.length-1]=="function"){let C=E.length-1;E[C]=l.from(E[C])}for(let C=0;C<E.length;++C)if(!(!n(E[C])&&!t(E[C]))){if(C<E.length-1&&!(e(E[C])||d(E[C])||i(E[C])))throw new b(`streams[${C}]`,I[C],"must be readable");if(C>0&&!(r(E[C])||h(E[C])||i(E[C])))throw new b(`streams[${C}]`,I[C],"must be writable")}let y,v,j,B,A;function T(C){let G=B;B=null,G?G(C):C?A.destroy(C):!ae&&!X&&A.destroy()}let M=E[0],Y=s(E,T),X=!!(r(M)||h(M)||i(M)),ae=!!(e(Y)||d(Y)||i(Y));if(A=new l({writableObjectMode:!!(M!=null&&M.writableObjectMode),readableObjectMode:!!(Y!=null&&Y.readableObjectMode),writable:X,readable:ae}),X){if(n(M))A._write=function(G,J,W){M.write(G,J)?W():y=W},A._final=function(G){M.end(),v=G},M.on("drain",function(){if(y){let G=y;y=null,G()}});else if(t(M)){let G=(i(M)?M.writable:M).getWriter();A._write=async function(J,W,ge){try{await G.ready,G.write(J).catch(()=>{}),ge()}catch(de){ge(de)}},A._final=async function(J){try{await G.ready,G.close().catch(()=>{}),v=J}catch(W){J(W)}}}let C=i(Y)?Y.readable:Y;_(C,()=>{if(v){let G=v;v=null,G()}})}if(ae){if(n(Y))Y.on("readable",function(){if(j){let C=j;j=null,C()}}),Y.on("end",function(){A.push(null)}),A._read=function(){for(;;){let C=Y.read();if(C===null){j=A._read;return}if(!A.push(C))return}};else if(t(Y)){let C=(i(Y)?Y.readable:Y).getReader();A._read=async function(){for(;;)try{let{value:G,done:J}=await C.read();if(!A.push(G))return;if(J){A.push(null);return}}catch{return}}}}return A._destroy=function(C,G){!C&&B!==null&&(C=new g),j=null,y=null,v=null,B===null?G(C):(B=G,n(Y)&&f(Y,C))},A}}),Xo=be((o,c)=>{he(),ce(),fe();var s=globalThis.AbortController||ar().AbortController,{codes:{ERR_INVALID_ARG_VALUE:l,ERR_INVALID_ARG_TYPE:f,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:e},AbortError:r}=rt(),{validateAbortSignal:t,validateInteger:i,validateObject:h}=lr(),d=Ve().Symbol("kWeak"),g=Ve().Symbol("kResistStopPropagation"),{finished:b}=Mt(),m=ks(),{addAbortSignalNoValidate:_}=kr(),{isWritable:E,isNodeStream:I}=At(),{deprecate:y}=it(),{ArrayPrototypePush:v,Boolean:j,MathFloor:B,Number:A,NumberIsNaN:T,Promise:M,PromiseReject:Y,PromiseResolve:X,PromisePrototypeThen:ae,Symbol:C}=Ve(),G=C("kEmpty"),J=C("kEof");function W(q,$){if($!=null&&h($,"options"),($==null?void 0:$.signal)!=null&&t($.signal,"options.signal"),I(q)&&!E(q))throw new l("stream",q,"must be writable");let H=m(this,q);return $!=null&&$.signal&&_($.signal,H),H}function ge(q,$){if(typeof q!="function")throw new f("fn",["Function","AsyncFunction"],q);$!=null&&h($,"options"),($==null?void 0:$.signal)!=null&&t($.signal,"options.signal");let H=1;($==null?void 0:$.concurrency)!=null&&(H=B($.concurrency));let oe=H-1;return($==null?void 0:$.highWaterMark)!=null&&(oe=B($.highWaterMark)),i(H,"options.concurrency",1),i(oe,"options.highWaterMark",0),oe+=H,(async function*(){let ie=it().AbortSignalAny([$==null?void 0:$.signal].filter(j)),x=this,N=[],Q={signal:ie},re,te,ue=!1,D=0;function se(){ue=!0,me()}function me(){D-=1,ee()}function ee(){te&&!ue&&D<H&&N.length<oe&&(te(),te=null)}async function Pe(){try{for await(let a of x){if(ue)return;if(ie.aborted)throw new r;try{if(a=q(a,Q),a===G)continue;a=X(a)}catch(u){a=Y(u)}D+=1,ae(a,me,se),N.push(a),re&&(re(),re=null),!ue&&(N.length>=oe||D>=H)&&await new M(u=>{te=u})}N.push(J)}catch(a){let u=Y(a);ae(u,me,se),N.push(u)}finally{ue=!0,re&&(re(),re=null)}}Pe();try{for(;;){for(;N.length>0;){let a=await N[0];if(a===J)return;if(ie.aborted)throw new r;a!==G&&(yield a),N.shift(),ee()}await new M(a=>{re=a})}}finally{ue=!0,te&&(te(),te=null)}}).call(this)}function de(q=void 0){return q!=null&&h(q,"options"),(q==null?void 0:q.signal)!=null&&t(q.signal,"options.signal"),(async function*(){let $=0;for await(let oe of this){var H;if(q!=null&&(H=q.signal)!==null&&H!==void 0&&H.aborted)throw new r({cause:q.signal.reason});yield[$++,oe]}}).call(this)}async function le(q,$=void 0){for await(let H of R.call(this,q,$))return!0;return!1}async function Ee(q,$=void 0){if(typeof q!="function")throw new f("fn",["Function","AsyncFunction"],q);return!await le.call(this,async(...H)=>!await q(...H),$)}async function z(q,$){for await(let H of R.call(this,q,$))return H}async function pe(q,$){if(typeof q!="function")throw new f("fn",["Function","AsyncFunction"],q);async function H(oe,ie){return await q(oe,ie),G}for await(let oe of ge.call(this,H,$));}function R(q,$){if(typeof q!="function")throw new f("fn",["Function","AsyncFunction"],q);async function H(oe,ie){return await q(oe,ie)?oe:G}return ge.call(this,H,$)}var ne=class extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ye(q,$,H){var oe;if(typeof q!="function")throw new f("reducer",["Function","AsyncFunction"],q);H!=null&&h(H,"options"),(H==null?void 0:H.signal)!=null&&t(H.signal,"options.signal");let ie=arguments.length>1;if(H!=null&&(oe=H.signal)!==null&&oe!==void 0&&oe.aborted){let te=new r(void 0,{cause:H.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(te)),te}let x=new s,N=x.signal;if(H!=null&&H.signal){let te={once:!0,[d]:this,[g]:!0};H.signal.addEventListener("abort",()=>x.abort(),te)}let Q=!1;try{for await(let te of this){var re;if(Q=!0,H!=null&&(re=H.signal)!==null&&re!==void 0&&re.aborted)throw new r;ie?$=await q($,te,{signal:N}):($=te,ie=!0)}if(!Q&&!ie)throw new ne}finally{x.abort()}return $}async function F(q){q!=null&&h(q,"options"),(q==null?void 0:q.signal)!=null&&t(q.signal,"options.signal");let $=[];for await(let oe of this){var H;if(q!=null&&(H=q.signal)!==null&&H!==void 0&&H.aborted)throw new r(void 0,{cause:q.signal.reason});v($,oe)}return $}function Ie(q,$){let H=ge.call(this,q,$);return(async function*(){for await(let oe of H)yield*oe}).call(this)}function V(q){if(q=A(q),T(q))return 0;if(q<0)throw new e("number",">= 0",q);return q}function L(q,$=void 0){return $!=null&&h($,"options"),($==null?void 0:$.signal)!=null&&t($.signal,"options.signal"),q=V(q),(async function*(){var H;if($!=null&&(H=$.signal)!==null&&H!==void 0&&H.aborted)throw new r;for await(let ie of this){var oe;if($!=null&&(oe=$.signal)!==null&&oe!==void 0&&oe.aborted)throw new r;q--<=0&&(yield ie)}}).call(this)}function Z(q,$=void 0){return $!=null&&h($,"options"),($==null?void 0:$.signal)!=null&&t($.signal,"options.signal"),q=V(q),(async function*(){var H;if($!=null&&(H=$.signal)!==null&&H!==void 0&&H.aborted)throw new r;for await(let ie of this){var oe;if($!=null&&(oe=$.signal)!==null&&oe!==void 0&&oe.aborted)throw new r;if(q-- >0&&(yield ie),q<=0)return}}).call(this)}c.exports.streamReturningOperators={asIndexedPairs:y(de,"readable.asIndexedPairs will be removed in a future version."),drop:L,filter:R,flatMap:Ie,map:ge,take:Z,compose:W},c.exports.promiseReturningOperators={every:Ee,forEach:pe,reduce:ye,toArray:F,some:le,find:z}}),Ts=be((o,c)=>{he(),ce(),fe();var{ArrayPrototypePop:s,Promise:l}=Ve(),{isIterable:f,isNodeStream:n,isWebStream:e}=At(),{pipelineImpl:r}=yi(),{finished:t}=Mt();Os();function i(...h){return new l((d,g)=>{let b,m,_=h[h.length-1];if(_&&typeof _=="object"&&!n(_)&&!f(_)&&!e(_)){let E=s(h);b=E.signal,m=E.end}r(h,(E,I)=>{E?g(E):d(I)},{signal:b,end:m})})}c.exports={finished:t,pipeline:i}}),Os=be((o,c)=>{he(),ce(),fe();var{Buffer:s}=(Ye(),je(Qe)),{ObjectDefineProperty:l,ObjectKeys:f,ReflectApply:n}=Ve(),{promisify:{custom:e}}=it(),{streamReturningOperators:r,promiseReturningOperators:t}=Xo(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:i}}=rt(),h=ks(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:g}=Tr(),{pipeline:b}=yi(),{destroyer:m}=Xt(),_=Mt(),E=Ts(),I=At(),y=c.exports=bi().Stream;y.isDestroyed=I.isDestroyed,y.isDisturbed=I.isDisturbed,y.isErrored=I.isErrored,y.isReadable=I.isReadable,y.isWritable=I.isWritable,y.Readable=Or();for(let j of f(r)){let B=function(...T){if(new.target)throw i();return y.Readable.from(n(A,this,T))},A=r[j];l(B,"name",{__proto__:null,value:A.name}),l(B,"length",{__proto__:null,value:A.length}),l(y.Readable.prototype,j,{__proto__:null,value:B,enumerable:!1,configurable:!0,writable:!0})}for(let j of f(t)){let B=function(...T){if(new.target)throw i();return n(A,this,T)},A=t[j];l(B,"name",{__proto__:null,value:A.name}),l(B,"length",{__proto__:null,value:A.length}),l(y.Readable.prototype,j,{__proto__:null,value:B,enumerable:!1,configurable:!0,writable:!0})}y.Writable=mi(),y.Duplex=Et(),y.Transform=As(),y.PassThrough=Is(),y.pipeline=b;var{addAbortSignal:v}=kr();y.addAbortSignal=v,y.finished=_,y.destroy=m,y.compose=h,y.setDefaultHighWaterMark=d,y.getDefaultHighWaterMark=g,l(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return E}}),l(b,e,{__proto__:null,enumerable:!0,get(){return E.pipeline}}),l(_,e,{__proto__:null,enumerable:!0,get(){return E.finished}}),y.Stream=y,y._isUint8Array=function(j){return j instanceof Uint8Array},y._uint8ArrayToBuffer=function(j){return s.from(j.buffer,j.byteOffset,j.byteLength)}}),Gt=be((o,c)=>{he(),ce(),fe();var s=Os(),l=Ts(),f=s.Readable.destroy;c.exports=s.Readable,c.exports._uint8ArrayToBuffer=s._uint8ArrayToBuffer,c.exports._isUint8Array=s._isUint8Array,c.exports.isDisturbed=s.isDisturbed,c.exports.isErrored=s.isErrored,c.exports.isReadable=s.isReadable,c.exports.Readable=s.Readable,c.exports.Writable=s.Writable,c.exports.Duplex=s.Duplex,c.exports.Transform=s.Transform,c.exports.PassThrough=s.PassThrough,c.exports.addAbortSignal=s.addAbortSignal,c.exports.finished=s.finished,c.exports.destroy=s.destroy,c.exports.destroy=f,c.exports.pipeline=s.pipeline,c.exports.compose=s.compose,Object.defineProperty(s,"promises",{configurable:!0,enumerable:!0,get(){return l}}),c.exports.Stream=s.Stream,c.exports.default=c.exports}),Zo=be((o,c)=>{he(),ce(),fe(),typeof Object.create=="function"?c.exports=function(s,l){l&&(s.super_=l,s.prototype=Object.create(l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:c.exports=function(s,l){if(l){s.super_=l;var f=function(){};f.prototype=l.prototype,s.prototype=new f,s.prototype.constructor=s}}}),ea=be((o,c)=>{he(),ce(),fe();var{Buffer:s}=(Ye(),je(Qe)),l=Symbol.for("BufferList");function f(n){if(!(this instanceof f))return new f(n);f._init.call(this,n)}f._init=function(n){Object.defineProperty(this,l,{value:!0}),this._bufs=[],this.length=0,n&&this.append(n)},f.prototype._new=function(n){return new f(n)},f.prototype._offset=function(n){if(n===0)return[0,0];let e=0;for(let r=0;r<this._bufs.length;r++){let t=e+this._bufs[r].length;if(n<t||r===this._bufs.length-1)return[r,n-e];e=t}},f.prototype._reverseOffset=function(n){let e=n[0],r=n[1];for(let t=0;t<e;t++)r+=this._bufs[t].length;return r},f.prototype.get=function(n){if(n>this.length||n<0)return;let e=this._offset(n);return this._bufs[e[0]][e[1]]},f.prototype.slice=function(n,e){return typeof n=="number"&&n<0&&(n+=this.length),typeof e=="number"&&e<0&&(e+=this.length),this.copy(null,0,n,e)},f.prototype.copy=function(n,e,r,t){if((typeof r!="number"||r<0)&&(r=0),(typeof t!="number"||t>this.length)&&(t=this.length),r>=this.length||t<=0)return n||s.alloc(0);let i=!!n,h=this._offset(r),d=t-r,g=d,b=i&&e||0,m=h[1];if(r===0&&t===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:s.concat(this._bufs,this.length);for(let _=0;_<this._bufs.length;_++)this._bufs[_].copy(n,b),b+=this._bufs[_].length;return n}if(g<=this._bufs[h[0]].length-m)return i?this._bufs[h[0]].copy(n,e,m,m+g):this._bufs[h[0]].slice(m,m+g);i||(n=s.allocUnsafe(d));for(let _=h[0];_<this._bufs.length;_++){let E=this._bufs[_].length-m;if(g>E)this._bufs[_].copy(n,b,m),b+=E;else{this._bufs[_].copy(n,b,m,m+g),b+=E;break}g-=E,m&&(m=0)}return n.length>b?n.slice(0,b):n},f.prototype.shallowSlice=function(n,e){if(n=n||0,e=typeof e!="number"?this.length:e,n<0&&(n+=this.length),e<0&&(e+=this.length),n===e)return this._new();let r=this._offset(n),t=this._offset(e),i=this._bufs.slice(r[0],t[0]+1);return t[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,t[1]),r[1]!==0&&(i[0]=i[0].slice(r[1])),this._new(i)},f.prototype.toString=function(n,e,r){return this.slice(e,r).toString(n)},f.prototype.consume=function(n){if(n=Math.trunc(n),Number.isNaN(n)||n<=0)return this;for(;this._bufs.length;)if(n>=this._bufs[0].length)n-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(n),this.length-=n;break}return this},f.prototype.duplicate=function(){let n=this._new();for(let e=0;e<this._bufs.length;e++)n.append(this._bufs[e]);return n},f.prototype.append=function(n){if(n==null)return this;if(n.buffer)this._appendBuffer(s.from(n.buffer,n.byteOffset,n.byteLength));else if(Array.isArray(n))for(let e=0;e<n.length;e++)this.append(n[e]);else if(this._isBufferList(n))for(let e=0;e<n._bufs.length;e++)this.append(n._bufs[e]);else typeof n=="number"&&(n=n.toString()),this._appendBuffer(s.from(n));return this},f.prototype._appendBuffer=function(n){this._bufs.push(n),this.length+=n.length},f.prototype.indexOf=function(n,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof n=="function"||Array.isArray(n))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof n=="number"?n=s.from([n]):typeof n=="string"?n=s.from(n,r):this._isBufferList(n)?n=n.slice():Array.isArray(n.buffer)?n=s.from(n.buffer,n.byteOffset,n.byteLength):s.isBuffer(n)||(n=s.from(n)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),n.length===0)return e>this.length?this.length:e;let t=this._offset(e),i=t[0],h=t[1];for(;i<this._bufs.length;i++){let d=this._bufs[i];for(;h<d.length;)if(d.length-h>=n.length){let g=d.indexOf(n,h);if(g!==-1)return this._reverseOffset([i,g]);h=d.length-n.length+1}else{let g=this._reverseOffset([i,h]);if(this._match(g,n))return g;h++}h=0}return-1},f.prototype._match=function(n,e){if(this.length-n<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(n+r)!==e[r])return!1;return!0},function(){let n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in n)(function(r){n[r]===null?f.prototype[r]=function(t,i){return this.slice(t,t+i)[r](0,i)}:f.prototype[r]=function(t=0){return this.slice(t,t+n[r])[r](0)}})(e)}(),f.prototype._isBufferList=function(n){return n instanceof f||f.isBufferList(n)},f.isBufferList=function(n){return n!=null&&n[l]},c.exports=f}),ta=be((o,c)=>{he(),ce(),fe();var s=Gt().Duplex,l=Zo(),f=ea();function n(e){if(!(this instanceof n))return new n(e);if(typeof e=="function"){this._callback=e;let r=(function(t){this._callback&&(this._callback(t),this._callback=null)}).bind(this);this.on("pipe",function(t){t.on("error",r)}),this.on("unpipe",function(t){t.removeListener("error",r)}),e=null}f._init.call(this,e),s.call(this)}l(n,s),Object.assign(n.prototype,f.prototype),n.prototype._new=function(e){return new n(e)},n.prototype._write=function(e,r,t){this._appendBuffer(e),typeof t=="function"&&t()},n.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},n.prototype.end=function(e){s.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},n.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e)},n.prototype._isBufferList=function(e){return e instanceof n||e instanceof f||n.isBufferList(e)},n.isBufferList=f.isBufferList,c.exports=n,c.exports.BufferListStream=n,c.exports.BufferList=f}),ra=be((o,c)=>{he(),ce(),fe();var s=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};c.exports=s}),Ps=be((o,c)=>{he(),ce(),fe();var s=c.exports,{Buffer:l}=(Ye(),je(Qe));s.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},s.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},s.requiredHeaderFlagsErrors={};for(let n in s.requiredHeaderFlags){let e=s.requiredHeaderFlags[n];s.requiredHeaderFlagsErrors[n]="Invalid header flag bits, must be 0x"+e.toString(16)+" for "+s.types[n]+" packet"}s.codes={};for(let n in s.types){let e=s.types[n];s.codes[e]=n}s.CMD_SHIFT=4,s.CMD_MASK=240,s.DUP_MASK=8,s.QOS_MASK=3,s.QOS_SHIFT=1,s.RETAIN_MASK=1,s.VARBYTEINT_MASK=127,s.VARBYTEINT_FIN_MASK=128,s.VARBYTEINT_MAX=268435455,s.SESSIONPRESENT_MASK=1,s.SESSIONPRESENT_HEADER=l.from([s.SESSIONPRESENT_MASK]),s.CONNACK_HEADER=l.from([s.codes.connack<<s.CMD_SHIFT]),s.USERNAME_MASK=128,s.PASSWORD_MASK=64,s.WILL_RETAIN_MASK=32,s.WILL_QOS_MASK=24,s.WILL_QOS_SHIFT=3,s.WILL_FLAG_MASK=4,s.CLEAN_SESSION_MASK=2,s.CONNECT_HEADER=l.from([s.codes.connect<<s.CMD_SHIFT]),s.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},s.propertiesCodes={};for(let n in s.properties){let e=s.properties[n];s.propertiesCodes[e]=n}s.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function f(n){return[0,1,2].map(e=>[0,1].map(r=>[0,1].map(t=>{let i=l.alloc(1);return i.writeUInt8(s.codes[n]<<s.CMD_SHIFT|(r?s.DUP_MASK:0)|e<<s.QOS_SHIFT|t,0,!0),i})))}s.PUBLISH_HEADER=f("publish"),s.SUBSCRIBE_HEADER=f("subscribe"),s.SUBSCRIBE_OPTIONS_QOS_MASK=3,s.SUBSCRIBE_OPTIONS_NL_MASK=1,s.SUBSCRIBE_OPTIONS_NL_SHIFT=2,s.SUBSCRIBE_OPTIONS_RAP_MASK=1,s.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,s.SUBSCRIBE_OPTIONS_RH_MASK=3,s.SUBSCRIBE_OPTIONS_RH_SHIFT=4,s.SUBSCRIBE_OPTIONS_RH=[0,16,32],s.SUBSCRIBE_OPTIONS_NL=4,s.SUBSCRIBE_OPTIONS_RAP=8,s.SUBSCRIBE_OPTIONS_QOS=[0,1,2],s.UNSUBSCRIBE_HEADER=f("unsubscribe"),s.ACKS={unsuback:f("unsuback"),puback:f("puback"),pubcomp:f("pubcomp"),pubrel:f("pubrel"),pubrec:f("pubrec")},s.SUBACK_HEADER=l.from([s.codes.suback<<s.CMD_SHIFT]),s.VERSION3=l.from([3]),s.VERSION4=l.from([4]),s.VERSION5=l.from([5]),s.VERSION131=l.from([131]),s.VERSION132=l.from([132]),s.QOS=[0,1,2].map(n=>l.from([n])),s.EMPTY={pingreq:l.from([s.codes.pingreq<<4,0]),pingresp:l.from([s.codes.pingresp<<4,0]),disconnect:l.from([s.codes.disconnect<<4,0])},s.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},s.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},s.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},s.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),na=be((o,c)=>{he(),ce(),fe();var s=1e3,l=s*60,f=l*60,n=f*24,e=n*7,r=n*365.25;c.exports=function(g,b){b=b||{};var m=typeof g;if(m==="string"&&g.length>0)return t(g);if(m==="number"&&isFinite(g))return b.long?h(g):i(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function t(g){if(g=String(g),!(g.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(b){var m=parseFloat(b[1]),_=(b[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return m*r;case"weeks":case"week":case"w":return m*e;case"days":case"day":case"d":return m*n;case"hours":case"hour":case"hrs":case"hr":case"h":return m*f;case"minutes":case"minute":case"mins":case"min":case"m":return m*l;case"seconds":case"second":case"secs":case"sec":case"s":return m*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function i(g){var b=Math.abs(g);return b>=n?Math.round(g/n)+"d":b>=f?Math.round(g/f)+"h":b>=l?Math.round(g/l)+"m":b>=s?Math.round(g/s)+"s":g+"ms"}function h(g){var b=Math.abs(g);return b>=n?d(g,b,n,"day"):b>=f?d(g,b,f,"hour"):b>=l?d(g,b,l,"minute"):b>=s?d(g,b,s,"second"):g+" ms"}function d(g,b,m,_){var E=b>=m*1.5;return Math.round(g/m)+" "+_+(E?"s":"")}}),ia=be((o,c)=>{he(),ce(),fe();function s(l){n.debug=n,n.default=n,n.coerce=d,n.disable=i,n.enable=r,n.enabled=h,n.humanize=na(),n.destroy=g,Object.keys(l).forEach(b=>{n[b]=l[b]}),n.names=[],n.skips=[],n.formatters={};function f(b){let m=0;for(let _=0;_<b.length;_++)m=(m<<5)-m+b.charCodeAt(_),m|=0;return n.colors[Math.abs(m)%n.colors.length]}n.selectColor=f;function n(b){let m,_=null,E,I;function y(...v){if(!y.enabled)return;let j=y,B=Number(new Date),A=B-(m||B);j.diff=A,j.prev=m,j.curr=B,m=B,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let T=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(M,Y)=>{if(M==="%%")return"%";T++;let X=n.formatters[Y];if(typeof X=="function"){let ae=v[T];M=X.call(j,ae),v.splice(T,1),T--}return M}),n.formatArgs.call(j,v),(j.log||n.log).apply(j,v)}return y.namespace=b,y.useColors=n.useColors(),y.color=n.selectColor(b),y.extend=e,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(E!==n.namespaces&&(E=n.namespaces,I=n.enabled(b)),I),set:v=>{_=v}}),typeof n.init=="function"&&n.init(y),y}function e(b,m){let _=n(this.namespace+(typeof m>"u"?":":m)+b);return _.log=this.log,_}function r(b){n.save(b),n.namespaces=b,n.names=[],n.skips=[];let m=(typeof b=="string"?b:"").trim().replace(" ",",").split(",").filter(Boolean);for(let _ of m)_[0]==="-"?n.skips.push(_.slice(1)):n.names.push(_)}function t(b,m){let _=0,E=0,I=-1,y=0;for(;_<b.length;)if(E<m.length&&(m[E]===b[_]||m[E]==="*"))m[E]==="*"?(I=E,y=_,E++):(_++,E++);else if(I!==-1)E=I+1,y++,_=y;else return!1;for(;E<m.length&&m[E]==="*";)E++;return E===m.length}function i(){let b=[...n.names,...n.skips.map(m=>"-"+m)].join(",");return n.enable(""),b}function h(b){for(let m of n.skips)if(t(b,m))return!1;for(let m of n.names)if(t(b,m))return!0;return!1}function d(b){return b instanceof Error?b.stack||b.message:b}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}c.exports=s}),St=be((o,c)=>{he(),ce(),fe(),o.formatArgs=l,o.save=f,o.load=n,o.useColors=s,o.storage=e(),o.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+c.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;t.splice(1,0,i,"color: inherit");let h=0,d=0;t[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(h++,g==="%c"&&(d=h))}),t.splice(d,0,i)}o.log=console.debug||console.log||(()=>{});function f(t){try{t?o.storage.setItem("debug",t):o.storage.removeItem("debug")}catch{}}function n(){let t;try{t=o.storage.getItem("debug")}catch{}return!t&&typeof Me<"u"&&"env"in Me&&(t=Me.env.DEBUG),t}function e(){try{return localStorage}catch{}}c.exports=ia()(o);var{formatters:r}=c.exports;r.j=function(t){try{return JSON.stringify(t)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}),sa=be((o,c)=>{he(),ce(),fe();var s=ta(),{EventEmitter:l}=(zt(),je(Bt)),f=ra(),n=Ps(),e=St()("mqtt-packet:parser"),r=class Zn extends l{constructor(){super(),this.parser=this.constructor.parser}static parser(i){return this instanceof Zn?(this.settings=i||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Zn().parser(i)}_resetState(){e("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new f,this.error=null,this._list=s(),this._stateCounter=0}parse(i){for(this.error&&this._resetState(),this._list.append(i),e("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,e("parse: state complete. _stateCounter is now: %d",this._stateCounter),e("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return e("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let i=this._list.readUInt8(0),h=i>>n.CMD_SHIFT;this.packet.cmd=n.types[h];let d=i&15,g=n.requiredHeaderFlags[h];return g!=null&&d!==g?this._emitError(new Error(n.requiredHeaderFlagsErrors[h])):(this.packet.retain=(i&n.RETAIN_MASK)!==0,this.packet.qos=i>>n.QOS_SHIFT&n.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(i&n.DUP_MASK)!==0,e("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let i=this._parseVarByteNum(!0);return i&&(this.packet.length=i.value,this._list.consume(i.bytes)),e("_parseLength %d",i.value),!!i}_parsePayload(){e("_parsePayload: payload %O",this._list);let i=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}i=!0}return e("_parsePayload complete result: %s",i),i}_parseConnect(){e("_parseConnect");let i,h,d,g,b={},m=this.packet,_=this._parseString();if(_===null)return this._emitError(new Error("Cannot parse protocolId"));if(_!=="MQTT"&&_!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(m.protocolId=_,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(m.protocolVersion=this._list.readUInt8(this._pos),m.protocolVersion>=128&&(m.bridgeMode=!0,m.protocolVersion=m.protocolVersion-128),m.protocolVersion!==3&&m.protocolVersion!==4&&m.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));b.username=this._list.readUInt8(this._pos)&n.USERNAME_MASK,b.password=this._list.readUInt8(this._pos)&n.PASSWORD_MASK,b.will=this._list.readUInt8(this._pos)&n.WILL_FLAG_MASK;let E=!!(this._list.readUInt8(this._pos)&n.WILL_RETAIN_MASK),I=(this._list.readUInt8(this._pos)&n.WILL_QOS_MASK)>>n.WILL_QOS_SHIFT;if(b.will)m.will={},m.will.retain=E,m.will.qos=I;else{if(E)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(I)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(m.clean=(this._list.readUInt8(this._pos)&n.CLEAN_SESSION_MASK)!==0,this._pos++,m.keepalive=this._parseNum(),m.keepalive===-1)return this._emitError(new Error("Packet too short"));if(m.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(m.properties=v)}let y=this._parseString();if(y===null)return this._emitError(new Error("Packet too short"));if(m.clientId=y,e("_parseConnect: packet.clientId: %s",m.clientId),b.will){if(m.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(m.will.properties=v)}if(i=this._parseString(),i===null)return this._emitError(new Error("Cannot parse will topic"));if(m.will.topic=i,e("_parseConnect: packet.will.topic: %s",m.will.topic),h=this._parseBuffer(),h===null)return this._emitError(new Error("Cannot parse will payload"));m.will.payload=h,e("_parseConnect: packet.will.paylaod: %s",m.will.payload)}if(b.username){if(g=this._parseString(),g===null)return this._emitError(new Error("Cannot parse username"));m.username=g,e("_parseConnect: packet.username: %s",m.username)}if(b.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));m.password=d}return this.settings=m,e("_parseConnect: complete"),m}_parseConnack(){e("_parseConnack");let i=this.packet;if(this._list.length<1)return null;let h=this._list.readUInt8(this._pos++);if(h>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(i.sessionPresent=!!(h&n.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?i.reasonCode=this._list.readUInt8(this._pos++):i.reasonCode=0;else{if(this._list.length<2)return null;i.returnCode=this._list.readUInt8(this._pos++)}if(i.returnCode===-1||i.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(i.properties=d)}e("_parseConnack: complete")}_parsePublish(){e("_parsePublish");let i=this.packet;if(i.topic=this._parseString(),i.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(i.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(i.properties=h)}i.payload=this._list.slice(this._pos,i.length),e("_parsePublish: payload from buffer list: %o",i.payload)}}_parseSubscribe(){e("_parseSubscribe");let i=this.packet,h,d,g,b,m,_,E;if(i.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let I=this._parseProperties();Object.getOwnPropertyNames(I).length&&(i.properties=I)}if(i.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<i.length;){if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=i.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(g=d&n.SUBSCRIBE_OPTIONS_QOS_MASK,g>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(_=(d>>n.SUBSCRIBE_OPTIONS_NL_SHIFT&n.SUBSCRIBE_OPTIONS_NL_MASK)!==0,m=(d>>n.SUBSCRIBE_OPTIONS_RAP_SHIFT&n.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,b=d>>n.SUBSCRIBE_OPTIONS_RH_SHIFT&n.SUBSCRIBE_OPTIONS_RH_MASK,b>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));E={topic:h,qos:g},this.settings.protocolVersion===5?(E.nl=_,E.rap=m,E.rh=b):this.settings.bridgeMode&&(E.rh=0,E.rap=!0,E.nl=!0),e("_parseSubscribe: push subscription `%s` to subscription",E),i.subscriptions.push(E)}}}_parseSuback(){e("_parseSuback");let i=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(i.properties=h)}if(i.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let h=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!n.MQTT5_SUBACK_CODES[h])return this._emitError(new Error("Invalid suback code"))}else if(h>2&&h!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(h)}}}_parseUnsubscribe(){e("_parseUnsubscribe");let i=this.packet;if(i.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(i.properties=h)}if(i.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<i.length;){let h=this._parseString();if(h===null)return this._emitError(new Error("Cannot parse topic"));e("_parseUnsubscribe: push topic `%s` to unsubscriptions",h),i.unsubscriptions.push(h)}}}_parseUnsuback(){e("_parseUnsuback");let i=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&i.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(i.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let h=this._parseProperties();for(Object.getOwnPropertyNames(h).length&&(i.properties=h),i.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!n.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){e("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let i=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(i.length>2){switch(i.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!n.MQTT5_PUBACK_PUBREC_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!n.MQTT5_PUBREL_PUBCOMP_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}e("_parseConfirmation: packet.reasonCode `%d`",i.reasonCode)}else i.reasonCode=0;if(i.length>3){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(i.properties=h)}}return!0}_parseDisconnect(){let i=this.packet;if(e("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(i.reasonCode=this._parseByte(),n.MQTT5_DISCONNECT_CODES[i.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):i.reasonCode=0;let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(i.properties=h)}return e("_parseDisconnect result: true"),!0}_parseAuth(){e("_parseAuth");let i=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(i.reasonCode=this._parseByte(),!n.MQTT5_AUTH_CODES[i.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let h=this._parseProperties();return Object.getOwnPropertyNames(h).length&&(i.properties=h),e("_parseAuth: result: true"),!0}_parseMessageId(){let i=this.packet;return i.messageId=this._parseNum(),i.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(e("_parseMessageId: packet.messageId %d",i.messageId),!0)}_parseString(i){let h=this._parseNum(),d=h+this._pos;if(h===-1||d>this._list.length||d>this.packet.length)return null;let g=this._list.toString("utf8",this._pos,d);return this._pos+=h,e("_parseString: result: %s",g),g}_parseStringPair(){return e("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let i=this._parseNum(),h=i+this._pos;if(i===-1||h>this._list.length||h>this.packet.length)return null;let d=this._list.slice(this._pos,h);return this._pos+=i,e("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let i=this._list.readUInt16BE(this._pos);return this._pos+=2,e("_parseNum: result: %s",i),i}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let i=this._list.readUInt32BE(this._pos);return this._pos+=4,e("_parse4ByteNum: result: %s",i),i}_parseVarByteNum(i){e("_parseVarByteNum");let h=4,d=0,g=1,b=0,m=!1,_,E=this._pos?this._pos:0;for(;d<h&&E+d<this._list.length;){if(_=this._list.readUInt8(E+d++),b+=g*(_&n.VARBYTEINT_MASK),g*=128,!(_&n.VARBYTEINT_FIN_MASK)){m=!0;break}if(this._list.length<=d)break}return!m&&d===h&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),E&&(this._pos+=d),m?i?m={bytes:d,value:b}:m=b:m=!1,e("_parseVarByteNum: result: %o",m),m}_parseByte(){let i;return this._pos<this._list.length&&(i=this._list.readUInt8(this._pos),this._pos++),e("_parseByte: result: %o",i),i}_parseByType(i){switch(e("_parseByType: type: %s",i),i){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){e("_parseProperties");let i=this._parseVarByteNum(),h=this._pos+i,d={};for(;this._pos<h;){let g=this._parseByte();if(!g)return this._emitError(new Error("Cannot parse property code type")),!1;let b=n.propertiesCodes[g];if(!b)return this._emitError(new Error("Unknown property")),!1;if(b==="userProperties"){d[b]||(d[b]=Object.create(null));let m=this._parseByType(n.propertiesTypes[b]);if(d[b][m.name])if(Array.isArray(d[b][m.name]))d[b][m.name].push(m.value);else{let _=d[b][m.name];d[b][m.name]=[_],d[b][m.name].push(m.value)}else d[b][m.name]=m.value;continue}d[b]?Array.isArray(d[b])?d[b].push(this._parseByType(n.propertiesTypes[b])):(d[b]=[d[b]],d[b].push(this._parseByType(n.propertiesTypes[b]))):d[b]=this._parseByType(n.propertiesTypes[b])}return d}_newPacket(){return e("_newPacket"),this.packet&&(this._list.consume(this.packet.length),e("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),e("_newPacket: new packet"),this.packet=new f,this._pos=0,!0}_emitError(i){e("_emitError",i),this.error=i,this.emit("error",i)}};c.exports=r}),oa=be((o,c)=>{he(),ce(),fe();var{Buffer:s}=(Ye(),je(Qe)),l=65536,f={},n=s.isBuffer(s.from([1,2]).subarray(0,1));function e(h){let d=s.allocUnsafe(2);return d.writeUInt8(h>>8,0),d.writeUInt8(h&255,1),d}function r(){for(let h=0;h<l;h++)f[h]=e(h)}function t(h){let d=0,g=0,b=s.allocUnsafe(4);do d=h%128|0,h=h/128|0,h>0&&(d=d|128),b.writeUInt8(d,g++);while(h>0&&g<4);return h>0&&(g=0),n?b.subarray(0,g):b.slice(0,g)}function i(h){let d=s.allocUnsafe(4);return d.writeUInt32BE(h,0),d}c.exports={cache:f,generateCache:r,generateNumber:e,genBufVariableByteInt:t,generate4ByteBuffer:i}}),aa=be((o,c)=>{he(),ce(),fe(),typeof Me>"u"||!Me.version||Me.version.indexOf("v0.")===0||Me.version.indexOf("v1.")===0&&Me.version.indexOf("v1.8.")!==0?c.exports={nextTick:s}:c.exports=Me;function s(l,f,n,e){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var r=arguments.length,t,i;switch(r){case 0:case 1:return Me.nextTick(l);case 2:return Me.nextTick(function(){l.call(null,f)});case 3:return Me.nextTick(function(){l.call(null,f,n)});case 4:return Me.nextTick(function(){l.call(null,f,n,e)});default:for(t=new Array(r-1),i=0;i<t.length;)t[i++]=arguments[i];return Me.nextTick(function(){l.apply(null,t)})}}}),Cs=be((o,c)=>{he(),ce(),fe();var s=Ps(),{Buffer:l}=(Ye(),je(Qe)),f=l.allocUnsafe(0),n=l.from([0]),e=oa(),r=aa().nextTick,t=St()("mqtt-packet:writeToStream"),i=e.cache,h=e.generateNumber,d=e.generateCache,g=e.genBufVariableByteInt,b=e.generate4ByteBuffer,m=de,_=!0;function E(V,L,Z){switch(t("generate called"),L.cork&&(L.cork(),r(I,L)),_&&(_=!1,d()),t("generate: packet.cmd: %s",V.cmd),V.cmd){case"connect":return y(V,L);case"connack":return v(V,L,Z);case"publish":return j(V,L,Z);case"puback":case"pubrec":case"pubrel":case"pubcomp":return B(V,L,Z);case"subscribe":return A(V,L,Z);case"suback":return T(V,L,Z);case"unsubscribe":return M(V,L,Z);case"unsuback":return Y(V,L,Z);case"pingreq":case"pingresp":return X(V,L);case"disconnect":return ae(V,L,Z);case"auth":return C(V,L,Z);default:return L.destroy(new Error("Unknown command")),!1}}Object.defineProperty(E,"cacheNumbers",{get(){return m===de},set(V){V?((!i||Object.keys(i).length===0)&&(_=!0),m=de):(_=!1,m=le)}});function I(V){V.uncork()}function y(V,L,Z){let q=V||{},$=q.protocolId||"MQTT",H=q.protocolVersion||4,oe=q.will,ie=q.clean,x=q.keepalive||0,N=q.clientId||"",Q=q.username,re=q.password,te=q.properties;ie===void 0&&(ie=!0);let ue=0;if(typeof $!="string"&&!l.isBuffer($))return L.destroy(new Error("Invalid protocolId")),!1;if(ue+=$.length+2,H!==3&&H!==4&&H!==5)return L.destroy(new Error("Invalid protocol version")),!1;if(ue+=1,(typeof N=="string"||l.isBuffer(N))&&(N||H>=4)&&(N||ie))ue+=l.byteLength(N)+2;else{if(H<4)return L.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(ie*1===0)return L.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof x!="number"||x<0||x>65535||x%1!==0)return L.destroy(new Error("Invalid keepalive")),!1;ue+=2,ue+=1;let D,se;if(H===5){if(D=pe(L,te),!D)return!1;ue+=D.length}if(oe){if(typeof oe!="object")return L.destroy(new Error("Invalid will")),!1;if(!oe.topic||typeof oe.topic!="string")return L.destroy(new Error("Invalid will topic")),!1;if(ue+=l.byteLength(oe.topic)+2,ue+=2,oe.payload)if(oe.payload.length>=0)typeof oe.payload=="string"?ue+=l.byteLength(oe.payload):ue+=oe.payload.length;else return L.destroy(new Error("Invalid will payload")),!1;if(se={},H===5){if(se=pe(L,oe.properties),!se)return!1;ue+=se.length}}let me=!1;if(Q!=null)if(Ie(Q))me=!0,ue+=l.byteLength(Q)+2;else return L.destroy(new Error("Invalid username")),!1;if(re!=null){if(!me)return L.destroy(new Error("Username is required to use password")),!1;if(Ie(re))ue+=F(re)+2;else return L.destroy(new Error("Invalid password")),!1}L.write(s.CONNECT_HEADER),J(L,ue),z(L,$),q.bridgeMode&&(H+=128),L.write(H===131?s.VERSION131:H===132?s.VERSION132:H===4?s.VERSION4:H===5?s.VERSION5:s.VERSION3);let ee=0;return ee|=Q!=null?s.USERNAME_MASK:0,ee|=re!=null?s.PASSWORD_MASK:0,ee|=oe&&oe.retain?s.WILL_RETAIN_MASK:0,ee|=oe&&oe.qos?oe.qos<<s.WILL_QOS_SHIFT:0,ee|=oe?s.WILL_FLAG_MASK:0,ee|=ie?s.CLEAN_SESSION_MASK:0,L.write(l.from([ee])),m(L,x),H===5&&D.write(),z(L,N),oe&&(H===5&&se.write(),W(L,oe.topic),z(L,oe.payload)),Q!=null&&z(L,Q),re!=null&&z(L,re),!0}function v(V,L,Z){let q=Z?Z.protocolVersion:4,$=V||{},H=q===5?$.reasonCode:$.returnCode,oe=$.properties,ie=2;if(typeof H!="number")return L.destroy(new Error("Invalid return code")),!1;let x=null;if(q===5){if(x=pe(L,oe),!x)return!1;ie+=x.length}return L.write(s.CONNACK_HEADER),J(L,ie),L.write($.sessionPresent?s.SESSIONPRESENT_HEADER:n),L.write(l.from([H])),x==null||x.write(),!0}function j(V,L,Z){t("publish: packet: %o",V);let q=Z?Z.protocolVersion:4,$=V||{},H=$.qos||0,oe=$.retain?s.RETAIN_MASK:0,ie=$.topic,x=$.payload||f,N=$.messageId,Q=$.properties,re=0;if(typeof ie=="string")re+=l.byteLength(ie)+2;else if(l.isBuffer(ie))re+=ie.length+2;else return L.destroy(new Error("Invalid topic")),!1;if(l.isBuffer(x)?re+=x.length:re+=l.byteLength(x),H&&typeof N!="number")return L.destroy(new Error("Invalid messageId")),!1;H&&(re+=2);let te=null;if(q===5){if(te=pe(L,Q),!te)return!1;re+=te.length}return L.write(s.PUBLISH_HEADER[H][$.dup?1:0][oe?1:0]),J(L,re),m(L,F(ie)),L.write(ie),H>0&&m(L,N),te==null||te.write(),t("publish: payload: %o",x),L.write(x)}function B(V,L,Z){let q=Z?Z.protocolVersion:4,$=V||{},H=$.cmd||"puback",oe=$.messageId,ie=$.dup&&H==="pubrel"?s.DUP_MASK:0,x=0,N=$.reasonCode,Q=$.properties,re=q===5?3:2;if(H==="pubrel"&&(x=1),typeof oe!="number")return L.destroy(new Error("Invalid messageId")),!1;let te=null;if(q===5&&typeof Q=="object"){if(te=R(L,Q,Z,re),!te)return!1;re+=te.length}return L.write(s.ACKS[H][x][ie][0]),re===3&&(re+=N!==0?1:-1),J(L,re),m(L,oe),q===5&&re!==2&&L.write(l.from([N])),te!==null?te.write():re===4&&L.write(l.from([0])),!0}function A(V,L,Z){t("subscribe: packet: ");let q=Z?Z.protocolVersion:4,$=V||{},H=$.dup?s.DUP_MASK:0,oe=$.messageId,ie=$.subscriptions,x=$.properties,N=0;if(typeof oe!="number")return L.destroy(new Error("Invalid messageId")),!1;N+=2;let Q=null;if(q===5){if(Q=pe(L,x),!Q)return!1;N+=Q.length}if(typeof ie=="object"&&ie.length)for(let te=0;te<ie.length;te+=1){let ue=ie[te].topic,D=ie[te].qos;if(typeof ue!="string")return L.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof D!="number")return L.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(q===5){if(typeof(ie[te].nl||!1)!="boolean")return L.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(ie[te].rap||!1)!="boolean")return L.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let se=ie[te].rh||0;if(typeof se!="number"||se>2)return L.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}N+=l.byteLength(ue)+2+1}else return L.destroy(new Error("Invalid subscriptions")),!1;t("subscribe: writing to stream: %o",s.SUBSCRIBE_HEADER),L.write(s.SUBSCRIBE_HEADER[1][H?1:0][0]),J(L,N),m(L,oe),Q!==null&&Q.write();let re=!0;for(let te of ie){let ue=te.topic,D=te.qos,se=+te.nl,me=+te.rap,ee=te.rh,Pe;W(L,ue),Pe=s.SUBSCRIBE_OPTIONS_QOS[D],q===5&&(Pe|=se?s.SUBSCRIBE_OPTIONS_NL:0,Pe|=me?s.SUBSCRIBE_OPTIONS_RAP:0,Pe|=ee?s.SUBSCRIBE_OPTIONS_RH[ee]:0),re=L.write(l.from([Pe]))}return re}function T(V,L,Z){let q=Z?Z.protocolVersion:4,$=V||{},H=$.messageId,oe=$.granted,ie=$.properties,x=0;if(typeof H!="number")return L.destroy(new Error("Invalid messageId")),!1;if(x+=2,typeof oe=="object"&&oe.length)for(let Q=0;Q<oe.length;Q+=1){if(typeof oe[Q]!="number")return L.destroy(new Error("Invalid qos vector")),!1;x+=1}else return L.destroy(new Error("Invalid qos vector")),!1;let N=null;if(q===5){if(N=R(L,ie,Z,x),!N)return!1;x+=N.length}return L.write(s.SUBACK_HEADER),J(L,x),m(L,H),N!==null&&N.write(),L.write(l.from(oe))}function M(V,L,Z){let q=Z?Z.protocolVersion:4,$=V||{},H=$.messageId,oe=$.dup?s.DUP_MASK:0,ie=$.unsubscriptions,x=$.properties,N=0;if(typeof H!="number")return L.destroy(new Error("Invalid messageId")),!1;if(N+=2,typeof ie=="object"&&ie.length)for(let te=0;te<ie.length;te+=1){if(typeof ie[te]!="string")return L.destroy(new Error("Invalid unsubscriptions")),!1;N+=l.byteLength(ie[te])+2}else return L.destroy(new Error("Invalid unsubscriptions")),!1;let Q=null;if(q===5){if(Q=pe(L,x),!Q)return!1;N+=Q.length}L.write(s.UNSUBSCRIBE_HEADER[1][oe?1:0][0]),J(L,N),m(L,H),Q!==null&&Q.write();let re=!0;for(let te=0;te<ie.length;te++)re=W(L,ie[te]);return re}function Y(V,L,Z){let q=Z?Z.protocolVersion:4,$=V||{},H=$.messageId,oe=$.dup?s.DUP_MASK:0,ie=$.granted,x=$.properties,N=$.cmd,Q=0,re=2;if(typeof H!="number")return L.destroy(new Error("Invalid messageId")),!1;if(q===5)if(typeof ie=="object"&&ie.length)for(let ue=0;ue<ie.length;ue+=1){if(typeof ie[ue]!="number")return L.destroy(new Error("Invalid qos vector")),!1;re+=1}else return L.destroy(new Error("Invalid qos vector")),!1;let te=null;if(q===5){if(te=R(L,x,Z,re),!te)return!1;re+=te.length}return L.write(s.ACKS[N][Q][oe][0]),J(L,re),m(L,H),te!==null&&te.write(),q===5&&L.write(l.from(ie)),!0}function X(V,L,Z){return L.write(s.EMPTY[V.cmd])}function ae(V,L,Z){let q=Z?Z.protocolVersion:4,$=V||{},H=$.reasonCode,oe=$.properties,ie=q===5?1:0,x=null;if(q===5){if(x=R(L,oe,Z,ie),!x)return!1;ie+=x.length}return L.write(l.from([s.codes.disconnect<<4])),J(L,ie),q===5&&L.write(l.from([H])),x!==null&&x.write(),!0}function C(V,L,Z){let q=Z?Z.protocolVersion:4,$=V||{},H=$.reasonCode,oe=$.properties,ie=q===5?1:0;q!==5&&L.destroy(new Error("Invalid mqtt version for auth packet"));let x=R(L,oe,Z,ie);return x?(ie+=x.length,L.write(l.from([s.codes.auth<<4])),J(L,ie),L.write(l.from([H])),x!==null&&x.write(),!0):!1}var G={};function J(V,L){if(L>s.VARBYTEINT_MAX)return V.destroy(new Error(`Invalid variable byte integer: ${L}`)),!1;let Z=G[L];return Z||(Z=g(L),L<16384&&(G[L]=Z)),t("writeVarByteInt: writing to stream: %o",Z),V.write(Z)}function W(V,L){let Z=l.byteLength(L);return m(V,Z),t("writeString: %s",L),V.write(L,"utf8")}function ge(V,L,Z){W(V,L),W(V,Z)}function de(V,L){return t("writeNumberCached: number: %d",L),t("writeNumberCached: %o",i[L]),V.write(i[L])}function le(V,L){let Z=h(L);return t("writeNumberGenerated: %o",Z),V.write(Z)}function Ee(V,L){let Z=b(L);return t("write4ByteNumber: %o",Z),V.write(Z)}function z(V,L){typeof L=="string"?W(V,L):L?(m(V,L.length),V.write(L)):m(V,0)}function pe(V,L){if(typeof L!="object"||L.length!=null)return{length:1,write(){ye(V,{},0)}};let Z=0;function q($,H){let oe=s.propertiesTypes[$],ie=0;switch(oe){case"byte":{if(typeof H!="boolean")return V.destroy(new Error(`Invalid ${$}: ${H}`)),!1;ie+=2;break}case"int8":{if(typeof H!="number"||H<0||H>255)return V.destroy(new Error(`Invalid ${$}: ${H}`)),!1;ie+=2;break}case"binary":{if(H&&H===null)return V.destroy(new Error(`Invalid ${$}: ${H}`)),!1;ie+=1+l.byteLength(H)+2;break}case"int16":{if(typeof H!="number"||H<0||H>65535)return V.destroy(new Error(`Invalid ${$}: ${H}`)),!1;ie+=3;break}case"int32":{if(typeof H!="number"||H<0||H>4294967295)return V.destroy(new Error(`Invalid ${$}: ${H}`)),!1;ie+=5;break}case"var":{if(typeof H!="number"||H<0||H>268435455)return V.destroy(new Error(`Invalid ${$}: ${H}`)),!1;ie+=1+l.byteLength(g(H));break}case"string":{if(typeof H!="string")return V.destroy(new Error(`Invalid ${$}: ${H}`)),!1;ie+=3+l.byteLength(H.toString());break}case"pair":{if(typeof H!="object")return V.destroy(new Error(`Invalid ${$}: ${H}`)),!1;ie+=Object.getOwnPropertyNames(H).reduce((x,N)=>{let Q=H[N];return Array.isArray(Q)?x+=Q.reduce((re,te)=>(re+=3+l.byteLength(N.toString())+2+l.byteLength(te.toString()),re),0):x+=3+l.byteLength(N.toString())+2+l.byteLength(H[N].toString()),x},0);break}default:return V.destroy(new Error(`Invalid property ${$}: ${H}`)),!1}return ie}if(L)for(let $ in L){let H=0,oe=0,ie=L[$];if(Array.isArray(ie))for(let x=0;x<ie.length;x++){if(oe=q($,ie[x]),!oe)return!1;H+=oe}else{if(oe=q($,ie),!oe)return!1;H=oe}if(!H)return!1;Z+=H}return{length:l.byteLength(g(Z))+Z,write(){ye(V,L,Z)}}}function R(V,L,Z,q){let $=["reasonString","userProperties"],H=Z&&Z.properties&&Z.properties.maximumPacketSize?Z.properties.maximumPacketSize:0,oe=pe(V,L);if(H)for(;q+oe.length>H;){let ie=$.shift();if(ie&&L[ie])delete L[ie],oe=pe(V,L);else return!1}return oe}function ne(V,L,Z){switch(s.propertiesTypes[L]){case"byte":{V.write(l.from([s.properties[L]])),V.write(l.from([+Z]));break}case"int8":{V.write(l.from([s.properties[L]])),V.write(l.from([Z]));break}case"binary":{V.write(l.from([s.properties[L]])),z(V,Z);break}case"int16":{V.write(l.from([s.properties[L]])),m(V,Z);break}case"int32":{V.write(l.from([s.properties[L]])),Ee(V,Z);break}case"var":{V.write(l.from([s.properties[L]])),J(V,Z);break}case"string":{V.write(l.from([s.properties[L]])),W(V,Z);break}case"pair":{Object.getOwnPropertyNames(Z).forEach(q=>{let $=Z[q];Array.isArray($)?$.forEach(H=>{V.write(l.from([s.properties[L]])),ge(V,q.toString(),H.toString())}):(V.write(l.from([s.properties[L]])),ge(V,q.toString(),$.toString()))});break}default:return V.destroy(new Error(`Invalid property ${L} value: ${Z}`)),!1}}function ye(V,L,Z){J(V,Z);for(let q in L)if(Object.prototype.hasOwnProperty.call(L,q)&&L[q]!==null){let $=L[q];if(Array.isArray($))for(let H=0;H<$.length;H++)ne(V,q,$[H]);else ne(V,q,$)}}function F(V){return V?V instanceof l?V.length:l.byteLength(V):0}function Ie(V){return typeof V=="string"||V instanceof l}c.exports=E}),la=be((o,c)=>{he(),ce(),fe();var s=Cs(),{EventEmitter:l}=(zt(),je(Bt)),{Buffer:f}=(Ye(),je(Qe));function n(r,t){let i=new e;return s(r,i,t),i.concat()}var e=class extends l{constructor(){super(),this._array=new Array(20),this._i=0}write(r){return this._array[this._i++]=r,!0}concat(){let r=0,t=new Array(this._array.length),i=this._array,h=0,d;for(d=0;d<i.length&&i[d]!==void 0;d++)typeof i[d]!="string"?t[d]=i[d].length:t[d]=f.byteLength(i[d]),r+=t[d];let g=f.allocUnsafe(r);for(d=0;d<i.length&&i[d]!==void 0;d++)typeof i[d]!="string"?(i[d].copy(g,h),h+=t[d]):(g.write(i[d],h),h+=t[d]);return g}destroy(r){r&&this.emit("error",r)}};c.exports=n}),ua=be(o=>{he(),ce(),fe(),o.parser=sa().parser,o.generate=la(),o.writeToStream=Cs()}),Rs=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0});var c=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let s=this.nextId++;return this.nextId===65536&&(this.nextId=1),s}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(s){return!0}deallocate(s){}clear(){}};o.default=c}),ha=be((o,c)=>{he(),ce(),fe(),c.exports=l;function s(n){return n instanceof Sr?Sr.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function l(n){if(n=n||{},n.circles)return f(n);let e=new Map;if(e.set(Date,d=>new Date(d)),e.set(Map,(d,g)=>new Map(t(Array.from(d),g))),e.set(Set,(d,g)=>new Set(t(Array.from(d),g))),n.constructorHandlers)for(let d of n.constructorHandlers)e.set(d[0],d[1]);let r=null;return n.proto?h:i;function t(d,g){let b=Object.keys(d),m=new Array(b.length);for(let _=0;_<b.length;_++){let E=b[_],I=d[E];typeof I!="object"||I===null?m[E]=I:I.constructor!==Object&&(r=e.get(I.constructor))?m[E]=r(I,g):ArrayBuffer.isView(I)?m[E]=s(I):m[E]=g(I)}return m}function i(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return t(d,i);if(d.constructor!==Object&&(r=e.get(d.constructor)))return r(d,i);let g={};for(let b in d){if(Object.hasOwnProperty.call(d,b)===!1)continue;let m=d[b];typeof m!="object"||m===null?g[b]=m:m.constructor!==Object&&(r=e.get(m.constructor))?g[b]=r(m,i):ArrayBuffer.isView(m)?g[b]=s(m):g[b]=i(m)}return g}function h(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return t(d,h);if(d.constructor!==Object&&(r=e.get(d.constructor)))return r(d,h);let g={};for(let b in d){let m=d[b];typeof m!="object"||m===null?g[b]=m:m.constructor!==Object&&(r=e.get(m.constructor))?g[b]=r(m,h):ArrayBuffer.isView(m)?g[b]=s(m):g[b]=h(m)}return g}}function f(n){let e=[],r=[],t=new Map;if(t.set(Date,b=>new Date(b)),t.set(Map,(b,m)=>new Map(h(Array.from(b),m))),t.set(Set,(b,m)=>new Set(h(Array.from(b),m))),n.constructorHandlers)for(let b of n.constructorHandlers)t.set(b[0],b[1]);let i=null;return n.proto?g:d;function h(b,m){let _=Object.keys(b),E=new Array(_.length);for(let I=0;I<_.length;I++){let y=_[I],v=b[y];if(typeof v!="object"||v===null)E[y]=v;else if(v.constructor!==Object&&(i=t.get(v.constructor)))E[y]=i(v,m);else if(ArrayBuffer.isView(v))E[y]=s(v);else{let j=e.indexOf(v);j!==-1?E[y]=r[j]:E[y]=m(v)}}return E}function d(b){if(typeof b!="object"||b===null)return b;if(Array.isArray(b))return h(b,d);if(b.constructor!==Object&&(i=t.get(b.constructor)))return i(b,d);let m={};e.push(b),r.push(m);for(let _ in b){if(Object.hasOwnProperty.call(b,_)===!1)continue;let E=b[_];if(typeof E!="object"||E===null)m[_]=E;else if(E.constructor!==Object&&(i=t.get(E.constructor)))m[_]=i(E,d);else if(ArrayBuffer.isView(E))m[_]=s(E);else{let I=e.indexOf(E);I!==-1?m[_]=r[I]:m[_]=d(E)}}return e.pop(),r.pop(),m}function g(b){if(typeof b!="object"||b===null)return b;if(Array.isArray(b))return h(b,g);if(b.constructor!==Object&&(i=t.get(b.constructor)))return i(b,g);let m={};e.push(b),r.push(m);for(let _ in b){let E=b[_];if(typeof E!="object"||E===null)m[_]=E;else if(E.constructor!==Object&&(i=t.get(E.constructor)))m[_]=i(E,g);else if(ArrayBuffer.isView(E))m[_]=s(E);else{let I=e.indexOf(E);I!==-1?m[_]=r[I]:m[_]=g(E)}}return e.pop(),r.pop(),m}}}),fa=be((o,c)=>{he(),ce(),fe(),c.exports=ha()()}),ca=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0}),o.validateTopic=c,o.validateTopics=s;function c(l){let f=l.split("/");for(let n=0;n<f.length;n++)if(f[n]!=="+"){if(f[n]==="#")return n===f.length-1;if(f[n].indexOf("+")!==-1||f[n].indexOf("#")!==-1)return!1}return!0}function s(l){if(l.length===0)return"empty_topic_list";for(let f=0;f<l.length;f++)if(!c(l[f]))return l[f];return null}}),xs=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0});var c=Gt(),s={objectMode:!0},l={clean:!0},f=class{constructor(n){this.options=n||{},this.options=Object.assign(Object.assign({},l),n),this._inflights=new Map}put(n,e){return this._inflights.set(n.messageId,n),e&&e(),this}createStream(){let n=new c.Readable(s),e=[],r=!1,t=0;return this._inflights.forEach((i,h)=>{e.push(i)}),n._read=()=>{!r&&t<e.length?n.push(e[t++]):n.push(null)},n.destroy=i=>{if(!r)return r=!0,setTimeout(()=>{n.emit("close")},0),n},n}del(n,e){let r=this._inflights.get(n.messageId);return r?(this._inflights.delete(n.messageId),e(null,r)):e&&e(new Error("missing packet")),this}get(n,e){let r=this._inflights.get(n.messageId);return r?e(null,r):e&&e(new Error("missing packet")),this}close(n){this.options.clean&&(this._inflights=null),n&&n()}};o.default=f}),da=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0});var c=[0,16,128,131,135,144,145,151,153],s=(l,f,n)=>{l.log("handlePublish: packet %o",f),n=typeof n<"u"?n:l.noop;let e=f.topic.toString(),r=f.payload,{qos:t}=f,{messageId:i}=f,{options:h}=l;if(l.options.protocolVersion===5){let d;if(f.properties&&(d=f.properties.topicAlias),typeof d<"u")if(e.length===0)if(d>0&&d<=65535){let g=l.topicAliasRecv.getTopicByAlias(d);if(g)e=g,l.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",e,d);else{l.log("handlePublish :: unregistered topic alias. alias: %d",d),l.emit("error",new Error("Received unregistered Topic Alias"));return}}else{l.log("handlePublish :: topic alias out of range. alias: %d",d),l.emit("error",new Error("Received Topic Alias is out of range"));return}else if(l.topicAliasRecv.put(e,d))l.log("handlePublish :: registered topic: %s - alias: %d",e,d);else{l.log("handlePublish :: topic alias out of range. alias: %d",d),l.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(l.log("handlePublish: qos %d",t),t){case 2:{h.customHandleAcks(e,r,f,(d,g)=>{if(typeof d=="number"&&(g=d,d=null),d)return l.emit("error",d);if(c.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for pubrec"));g?l._sendPacket({cmd:"pubrec",messageId:i,reasonCode:g},n):l.incomingStore.put(f,()=>{l._sendPacket({cmd:"pubrec",messageId:i},n)})});break}case 1:{h.customHandleAcks(e,r,f,(d,g)=>{if(typeof d=="number"&&(g=d,d=null),d)return l.emit("error",d);if(c.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for puback"));g||l.emit("message",e,r,f),l.handleMessage(f,b=>{if(b)return n&&n(b);l._sendPacket({cmd:"puback",messageId:i,reasonCode:g},n)})});break}case 0:l.emit("message",e,r,f),l.handleMessage(f,n);break;default:l.log("handlePublish: unknown QoS. Doing nothing.");break}};o.default=s}),pa=be((o,c)=>{c.exports={version:"5.10.4"}}),Zt=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0}),o.MQTTJS_VERSION=o.nextTick=o.ErrorWithReasonCode=void 0,o.applyMixin=s;var c=class Bs extends Error{constructor(f,n){super(f),this.code=n,Object.setPrototypeOf(this,Bs.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};o.ErrorWithReasonCode=c;function s(l,f,n=!1){var e;let r=[f];for(;;){let t=r[0],i=Object.getPrototypeOf(t);if(i!=null&&i.prototype)r.unshift(i);else break}for(let t of r)for(let i of Object.getOwnPropertyNames(t.prototype))(n||i!=="constructor")&&Object.defineProperty(l.prototype,i,(e=Object.getOwnPropertyDescriptor(t.prototype,i))!==null&&e!==void 0?e:Object.create(null))}o.nextTick=typeof(Me==null?void 0:Me.nextTick)=="function"?Me.nextTick:l=>{setTimeout(l,0)},o.MQTTJS_VERSION=pa().version}),Pr=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0}),o.ReasonCodes=void 0;var c=Zt();o.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var s=(l,f)=>{let{messageId:n}=f,e=f.cmd,r=null,t=l.outgoing[n]?l.outgoing[n].cb:null,i=null;if(!t){l.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(l.log("_handleAck :: packet type",e),e){case"pubcomp":case"puback":{let h=f.reasonCode;h&&h>0&&h!==16?(i=new c.ErrorWithReasonCode(`Publish error: ${o.ReasonCodes[h]}`,h),l._removeOutgoingAndStoreMessage(n,()=>{t(i,f)})):l._removeOutgoingAndStoreMessage(n,t);break}case"pubrec":{r={cmd:"pubrel",qos:2,messageId:n};let h=f.reasonCode;h&&h>0&&h!==16?(i=new c.ErrorWithReasonCode(`Publish error: ${o.ReasonCodes[h]}`,h),l._removeOutgoingAndStoreMessage(n,()=>{t(i,f)})):l._sendPacket(r);break}case"suback":{delete l.outgoing[n],l.messageIdProvider.deallocate(n);let h=f.granted;for(let d=0;d<h.length;d++){let g=h[d];if(g&128){i=new Error(`Subscribe error: ${o.ReasonCodes[g]}`),i.code=g;let b=l.messageIdToTopic[n];b&&b.forEach(m=>{delete l._resubscribeTopics[m]})}}delete l.messageIdToTopic[n],l._invokeStoreProcessingQueue(),t(i,f);break}case"unsuback":{delete l.outgoing[n],l.messageIdProvider.deallocate(n),l._invokeStoreProcessingQueue(),t(null,f);break}default:l.emit("error",new Error("unrecognized packet type"))}l.disconnecting&&Object.keys(l.outgoing).length===0&&l.emit("outgoingEmpty")};o.default=s}),ga=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0});var c=Zt(),s=Pr(),l=(f,n)=>{let{options:e}=f,r=e.protocolVersion,t=r===5?n.reasonCode:n.returnCode;if(r!==5){let i=new c.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${r}`,t);f.emit("error",i);return}f.handleAuth(n,(i,h)=>{if(i){f.emit("error",i);return}if(t===24)f.reconnecting=!1,f._sendPacket(h);else{let d=new c.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[t]}`,t);f.emit("error",d)}})};o.default=l}),ba=be(o=>{var b,m,_,E,I,y,v,j,B,A,T,M,Y,X,ae,C,G,J,W,ge,de,le,Ee,z,pe,R,ne,ye,F,ei,V,L,Z,q,Ms,H,oe,ie,Pt,Ct,ti,yr,wr,De,ri,ir,Rt,ni,Pe;he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0}),o.LRUCache=void 0;var c=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,s=new Set,l=typeof Me=="object"&&Me?Me:{},f=(a,u,p,w)=>{typeof l.emitWarning=="function"?l.emitWarning(a,u,p,w):console.error(`[${p}] ${u}: ${a}`)},n=globalThis.AbortController,e=globalThis.AbortSignal;if(typeof n>"u"){e=class{constructor(){We(this,"onabort");We(this,"_onabort",[]);We(this,"reason");We(this,"aborted",!1)}addEventListener(p,w){this._onabort.push(w)}},n=class{constructor(){We(this,"signal",new e);u()}abort(p){var w,k;if(!this.signal.aborted){this.signal.reason=p,this.signal.aborted=!0;for(let U of this.signal._onabort)U(p);(k=(w=this.signal).onabort)==null||k.call(w,p)}}};let a=((b=l.env)==null?void 0:b.LRU_CACHE_IGNORE_AC_WARNING)!=="1",u=()=>{a&&(a=!1,f("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",u))}}var r=a=>!s.has(a),t=a=>a&&a===Math.floor(a)&&a>0&&isFinite(a),i=a=>t(a)?a<=Math.pow(2,8)?Uint8Array:a<=Math.pow(2,16)?Uint16Array:a<=Math.pow(2,32)?Uint32Array:a<=Number.MAX_SAFE_INTEGER?h:null:null,h=class extends Array{constructor(a){super(a),this.fill(0)}},d=(m=class{constructor(u,p){We(this,"heap");We(this,"length");if(!O(m,_))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new p(u),this.length=0}static create(u){let p=i(u);if(!p)return[];Oe(m,_,!0);let w=new m(u,p);return Oe(m,_,!1),w}push(u){this.heap[this.length++]=u}pop(){return this.heap[--this.length]}},_=new WeakMap,Be(m,_,!1),m),g=(Pe=class{constructor(u){Be(this,F);Be(this,y);Be(this,v);Be(this,j);Be(this,B);Be(this,A);Be(this,T);We(this,"ttl");We(this,"ttlResolution");We(this,"ttlAutopurge");We(this,"updateAgeOnGet");We(this,"updateAgeOnHas");We(this,"allowStale");We(this,"noDisposeOnSet");We(this,"noUpdateTTL");We(this,"maxEntrySize");We(this,"sizeCalculation");We(this,"noDeleteOnFetchRejection");We(this,"noDeleteOnStaleGet");We(this,"allowStaleOnFetchAbort");We(this,"allowStaleOnFetchRejection");We(this,"ignoreFetchAbort");Be(this,M);Be(this,Y);Be(this,X);Be(this,ae);Be(this,C);Be(this,G);Be(this,J);Be(this,W);Be(this,ge);Be(this,de);Be(this,le);Be(this,Ee);Be(this,z);Be(this,pe);Be(this,R);Be(this,ne);Be(this,ye);Be(this,V,()=>{});Be(this,L,()=>{});Be(this,Z,()=>{});Be(this,q,()=>!1);Be(this,H,u=>{});Be(this,oe,(u,p,w)=>{});Be(this,ie,(u,p,w,k)=>{if(w||k)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});We(this,E,"LRUCache");let{max:p=0,ttl:w,ttlResolution:k=1,ttlAutopurge:U,updateAgeOnGet:K,updateAgeOnHas:_e,allowStale:ve,dispose:Te,disposeAfter:xe,noDisposeOnSet:Ce,noUpdateTTL:ft,maxSize:nt=0,maxEntrySize:st=0,sizeCalculation:Fe,fetchMethod:Ge,memoMethod:Re,noDeleteOnFetchRejection:Ne,noDeleteOnStaleGet:Je,allowStaleOnFetchRejection:Ke,allowStaleOnFetchAbort:et,ignoreFetchAbort:Tt}=u;if(p!==0&&!t(p))throw new TypeError("max option must be a nonnegative integer");let S=p?i(p):Array;if(!S)throw new Error("invalid max value: "+p);if(Oe(this,y,p),Oe(this,v,nt),this.maxEntrySize=st||O(this,v),this.sizeCalculation=Fe,this.sizeCalculation){if(!O(this,v)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Re!==void 0&&typeof Re!="function")throw new TypeError("memoMethod must be a function if defined");if(Oe(this,T,Re),Ge!==void 0&&typeof Ge!="function")throw new TypeError("fetchMethod must be a function if specified");if(Oe(this,A,Ge),Oe(this,ne,!!Ge),Oe(this,X,new Map),Oe(this,ae,new Array(p).fill(void 0)),Oe(this,C,new Array(p).fill(void 0)),Oe(this,G,new S(p)),Oe(this,J,new S(p)),Oe(this,W,0),Oe(this,ge,0),Oe(this,de,d.create(p)),Oe(this,M,0),Oe(this,Y,0),typeof Te=="function"&&Oe(this,j,Te),typeof xe=="function"?(Oe(this,B,xe),Oe(this,le,[])):(Oe(this,B,void 0),Oe(this,le,void 0)),Oe(this,R,!!O(this,j)),Oe(this,ye,!!O(this,B)),this.noDisposeOnSet=!!Ce,this.noUpdateTTL=!!ft,this.noDeleteOnFetchRejection=!!Ne,this.allowStaleOnFetchRejection=!!Ke,this.allowStaleOnFetchAbort=!!et,this.ignoreFetchAbort=!!Tt,this.maxEntrySize!==0){if(O(this,v)!==0&&!t(O(this,v)))throw new TypeError("maxSize must be a positive integer if specified");if(!t(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Ae(this,F,Ms).call(this)}if(this.allowStale=!!ve,this.noDeleteOnStaleGet=!!Je,this.updateAgeOnGet=!!K,this.updateAgeOnHas=!!_e,this.ttlResolution=t(k)||k===0?k:1,this.ttlAutopurge=!!U,this.ttl=w||0,this.ttl){if(!t(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Ae(this,F,ei).call(this)}if(O(this,y)===0&&this.ttl===0&&O(this,v)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!O(this,y)&&!O(this,v)){let P="LRU_CACHE_UNBOUNDED";r(P)&&(s.add(P),f("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",P,Pe))}}static unsafeExposeInternals(u){return{starts:O(u,z),ttls:O(u,pe),sizes:O(u,Ee),keyMap:O(u,X),keyList:O(u,ae),valList:O(u,C),next:O(u,G),prev:O(u,J),get head(){return O(u,W)},get tail(){return O(u,ge)},free:O(u,de),isBackgroundFetch:p=>{var w;return Ae(w=u,F,De).call(w,p)},backgroundFetch:(p,w,k,U)=>{var K;return Ae(K=u,F,wr).call(K,p,w,k,U)},moveToTail:p=>{var w;return Ae(w=u,F,ir).call(w,p)},indexes:p=>{var w;return Ae(w=u,F,Pt).call(w,p)},rindexes:p=>{var w;return Ae(w=u,F,Ct).call(w,p)},isStale:p=>{var w;return O(w=u,q).call(w,p)}}}get max(){return O(this,y)}get maxSize(){return O(this,v)}get calculatedSize(){return O(this,Y)}get size(){return O(this,M)}get fetchMethod(){return O(this,A)}get memoMethod(){return O(this,T)}get dispose(){return O(this,j)}get disposeAfter(){return O(this,B)}getRemainingTTL(u){return O(this,X).has(u)?1/0:0}*entries(){for(let u of Ae(this,F,Pt).call(this))O(this,C)[u]!==void 0&&O(this,ae)[u]!==void 0&&!Ae(this,F,De).call(this,O(this,C)[u])&&(yield[O(this,ae)[u],O(this,C)[u]])}*rentries(){for(let u of Ae(this,F,Ct).call(this))O(this,C)[u]!==void 0&&O(this,ae)[u]!==void 0&&!Ae(this,F,De).call(this,O(this,C)[u])&&(yield[O(this,ae)[u],O(this,C)[u]])}*keys(){for(let u of Ae(this,F,Pt).call(this)){let p=O(this,ae)[u];p!==void 0&&!Ae(this,F,De).call(this,O(this,C)[u])&&(yield p)}}*rkeys(){for(let u of Ae(this,F,Ct).call(this)){let p=O(this,ae)[u];p!==void 0&&!Ae(this,F,De).call(this,O(this,C)[u])&&(yield p)}}*values(){for(let u of Ae(this,F,Pt).call(this))O(this,C)[u]!==void 0&&!Ae(this,F,De).call(this,O(this,C)[u])&&(yield O(this,C)[u])}*rvalues(){for(let u of Ae(this,F,Ct).call(this))O(this,C)[u]!==void 0&&!Ae(this,F,De).call(this,O(this,C)[u])&&(yield O(this,C)[u])}[(I=Symbol.iterator,E=Symbol.toStringTag,I)](){return this.entries()}find(u,p={}){for(let w of Ae(this,F,Pt).call(this)){let k=O(this,C)[w],U=Ae(this,F,De).call(this,k)?k.__staleWhileFetching:k;if(U!==void 0&&u(U,O(this,ae)[w],this))return this.get(O(this,ae)[w],p)}}forEach(u,p=this){for(let w of Ae(this,F,Pt).call(this)){let k=O(this,C)[w],U=Ae(this,F,De).call(this,k)?k.__staleWhileFetching:k;U!==void 0&&u.call(p,U,O(this,ae)[w],this)}}rforEach(u,p=this){for(let w of Ae(this,F,Ct).call(this)){let k=O(this,C)[w],U=Ae(this,F,De).call(this,k)?k.__staleWhileFetching:k;U!==void 0&&u.call(p,U,O(this,ae)[w],this)}}purgeStale(){let u=!1;for(let p of Ae(this,F,Ct).call(this,{allowStale:!0}))O(this,q).call(this,p)&&(Ae(this,F,Rt).call(this,O(this,ae)[p],"expire"),u=!0);return u}info(u){let p=O(this,X).get(u);if(p===void 0)return;let w=O(this,C)[p],k=Ae(this,F,De).call(this,w)?w.__staleWhileFetching:w;if(k===void 0)return;let U={value:k};if(O(this,pe)&&O(this,z)){let K=O(this,pe)[p],_e=O(this,z)[p];if(K&&_e){let ve=K-(c.now()-_e);U.ttl=ve,U.start=Date.now()}}return O(this,Ee)&&(U.size=O(this,Ee)[p]),U}dump(){let u=[];for(let p of Ae(this,F,Pt).call(this,{allowStale:!0})){let w=O(this,ae)[p],k=O(this,C)[p],U=Ae(this,F,De).call(this,k)?k.__staleWhileFetching:k;if(U===void 0||w===void 0)continue;let K={value:U};if(O(this,pe)&&O(this,z)){K.ttl=O(this,pe)[p];let _e=c.now()-O(this,z)[p];K.start=Math.floor(Date.now()-_e)}O(this,Ee)&&(K.size=O(this,Ee)[p]),u.unshift([w,K])}return u}load(u){this.clear();for(let[p,w]of u){if(w.start){let k=Date.now()-w.start;w.start=c.now()-k}this.set(p,w.value,w)}}set(u,p,w={}){var ft,nt,st,Fe,Ge;if(p===void 0)return this.delete(u),this;let{ttl:k=this.ttl,start:U,noDisposeOnSet:K=this.noDisposeOnSet,sizeCalculation:_e=this.sizeCalculation,status:ve}=w,{noUpdateTTL:Te=this.noUpdateTTL}=w,xe=O(this,ie).call(this,u,p,w.size||0,_e);if(this.maxEntrySize&&xe>this.maxEntrySize)return ve&&(ve.set="miss",ve.maxEntrySizeExceeded=!0),Ae(this,F,Rt).call(this,u,"set"),this;let Ce=O(this,M)===0?void 0:O(this,X).get(u);if(Ce===void 0)Ce=O(this,M)===0?O(this,ge):O(this,de).length!==0?O(this,de).pop():O(this,M)===O(this,y)?Ae(this,F,yr).call(this,!1):O(this,M),O(this,ae)[Ce]=u,O(this,C)[Ce]=p,O(this,X).set(u,Ce),O(this,G)[O(this,ge)]=Ce,O(this,J)[Ce]=O(this,ge),Oe(this,ge,Ce),ur(this,M)._++,O(this,oe).call(this,Ce,xe,ve),ve&&(ve.set="add"),Te=!1;else{Ae(this,F,ir).call(this,Ce);let Re=O(this,C)[Ce];if(p!==Re){if(O(this,ne)&&Ae(this,F,De).call(this,Re)){Re.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Ne}=Re;Ne!==void 0&&!K&&(O(this,R)&&((ft=O(this,j))==null||ft.call(this,Ne,u,"set")),O(this,ye)&&((nt=O(this,le))==null||nt.push([Ne,u,"set"])))}else K||(O(this,R)&&((st=O(this,j))==null||st.call(this,Re,u,"set")),O(this,ye)&&((Fe=O(this,le))==null||Fe.push([Re,u,"set"])));if(O(this,H).call(this,Ce),O(this,oe).call(this,Ce,xe,ve),O(this,C)[Ce]=p,ve){ve.set="replace";let Ne=Re&&Ae(this,F,De).call(this,Re)?Re.__staleWhileFetching:Re;Ne!==void 0&&(ve.oldValue=Ne)}}else ve&&(ve.set="update")}if(k!==0&&!O(this,pe)&&Ae(this,F,ei).call(this),O(this,pe)&&(Te||O(this,Z).call(this,Ce,k,U),ve&&O(this,L).call(this,ve,Ce)),!K&&O(this,ye)&&O(this,le)){let Re=O(this,le),Ne;for(;Ne=Re==null?void 0:Re.shift();)(Ge=O(this,B))==null||Ge.call(this,...Ne)}return this}pop(){var u;try{for(;O(this,M);){let p=O(this,C)[O(this,W)];if(Ae(this,F,yr).call(this,!0),Ae(this,F,De).call(this,p)){if(p.__staleWhileFetching)return p.__staleWhileFetching}else if(p!==void 0)return p}}finally{if(O(this,ye)&&O(this,le)){let p=O(this,le),w;for(;w=p==null?void 0:p.shift();)(u=O(this,B))==null||u.call(this,...w)}}}has(u,p={}){let{updateAgeOnHas:w=this.updateAgeOnHas,status:k}=p,U=O(this,X).get(u);if(U!==void 0){let K=O(this,C)[U];if(Ae(this,F,De).call(this,K)&&K.__staleWhileFetching===void 0)return!1;if(O(this,q).call(this,U))k&&(k.has="stale",O(this,L).call(this,k,U));else return w&&O(this,V).call(this,U),k&&(k.has="hit",O(this,L).call(this,k,U)),!0}else k&&(k.has="miss");return!1}peek(u,p={}){let{allowStale:w=this.allowStale}=p,k=O(this,X).get(u);if(k===void 0||!w&&O(this,q).call(this,k))return;let U=O(this,C)[k];return Ae(this,F,De).call(this,U)?U.__staleWhileFetching:U}async fetch(u,p={}){let{allowStale:w=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:U=this.noDeleteOnStaleGet,ttl:K=this.ttl,noDisposeOnSet:_e=this.noDisposeOnSet,size:ve=0,sizeCalculation:Te=this.sizeCalculation,noUpdateTTL:xe=this.noUpdateTTL,noDeleteOnFetchRejection:Ce=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:ft=this.allowStaleOnFetchRejection,ignoreFetchAbort:nt=this.ignoreFetchAbort,allowStaleOnFetchAbort:st=this.allowStaleOnFetchAbort,context:Fe,forceRefresh:Ge=!1,status:Re,signal:Ne}=p;if(!O(this,ne))return Re&&(Re.fetch="get"),this.get(u,{allowStale:w,updateAgeOnGet:k,noDeleteOnStaleGet:U,status:Re});let Je={allowStale:w,updateAgeOnGet:k,noDeleteOnStaleGet:U,ttl:K,noDisposeOnSet:_e,size:ve,sizeCalculation:Te,noUpdateTTL:xe,noDeleteOnFetchRejection:Ce,allowStaleOnFetchRejection:ft,allowStaleOnFetchAbort:st,ignoreFetchAbort:nt,status:Re,signal:Ne},Ke=O(this,X).get(u);if(Ke===void 0){Re&&(Re.fetch="miss");let et=Ae(this,F,wr).call(this,u,Ke,Je,Fe);return et.__returned=et}else{let et=O(this,C)[Ke];if(Ae(this,F,De).call(this,et)){let we=w&&et.__staleWhileFetching!==void 0;return Re&&(Re.fetch="inflight",we&&(Re.returnedStale=!0)),we?et.__staleWhileFetching:et.__returned=et}let Tt=O(this,q).call(this,Ke);if(!Ge&&!Tt)return Re&&(Re.fetch="hit"),Ae(this,F,ir).call(this,Ke),k&&O(this,V).call(this,Ke),Re&&O(this,L).call(this,Re,Ke),et;let S=Ae(this,F,wr).call(this,u,Ke,Je,Fe),P=S.__staleWhileFetching!==void 0&&w;return Re&&(Re.fetch=Tt?"stale":"refresh",P&&Tt&&(Re.returnedStale=!0)),P?S.__staleWhileFetching:S.__returned=S}}async forceFetch(u,p={}){let w=await this.fetch(u,p);if(w===void 0)throw new Error("fetch() returned undefined");return w}memo(u,p={}){let w=O(this,T);if(!w)throw new Error("no memoMethod provided to constructor");let{context:k,forceRefresh:U,...K}=p,_e=this.get(u,K);if(!U&&_e!==void 0)return _e;let ve=w(u,_e,{options:K,context:k});return this.set(u,ve,K),ve}get(u,p={}){let{allowStale:w=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:U=this.noDeleteOnStaleGet,status:K}=p,_e=O(this,X).get(u);if(_e!==void 0){let ve=O(this,C)[_e],Te=Ae(this,F,De).call(this,ve);return K&&O(this,L).call(this,K,_e),O(this,q).call(this,_e)?(K&&(K.get="stale"),Te?(K&&w&&ve.__staleWhileFetching!==void 0&&(K.returnedStale=!0),w?ve.__staleWhileFetching:void 0):(U||Ae(this,F,Rt).call(this,u,"expire"),K&&w&&(K.returnedStale=!0),w?ve:void 0)):(K&&(K.get="hit"),Te?ve.__staleWhileFetching:(Ae(this,F,ir).call(this,_e),k&&O(this,V).call(this,_e),ve))}else K&&(K.get="miss")}delete(u){return Ae(this,F,Rt).call(this,u,"delete")}clear(){return Ae(this,F,ni).call(this,"delete")}},y=new WeakMap,v=new WeakMap,j=new WeakMap,B=new WeakMap,A=new WeakMap,T=new WeakMap,M=new WeakMap,Y=new WeakMap,X=new WeakMap,ae=new WeakMap,C=new WeakMap,G=new WeakMap,J=new WeakMap,W=new WeakMap,ge=new WeakMap,de=new WeakMap,le=new WeakMap,Ee=new WeakMap,z=new WeakMap,pe=new WeakMap,R=new WeakMap,ne=new WeakMap,ye=new WeakMap,F=new WeakSet,ei=function(){let u=new h(O(this,y)),p=new h(O(this,y));Oe(this,pe,u),Oe(this,z,p),Oe(this,Z,(U,K,_e=c.now())=>{if(p[U]=K!==0?_e:0,u[U]=K,K!==0&&this.ttlAutopurge){let ve=setTimeout(()=>{O(this,q).call(this,U)&&Ae(this,F,Rt).call(this,O(this,ae)[U],"expire")},K+1);ve.unref&&ve.unref()}}),Oe(this,V,U=>{p[U]=u[U]!==0?c.now():0}),Oe(this,L,(U,K)=>{if(u[K]){let _e=u[K],ve=p[K];if(!_e||!ve)return;U.ttl=_e,U.start=ve,U.now=w||k();let Te=U.now-ve;U.remainingTTL=_e-Te}});let w=0,k=()=>{let U=c.now();if(this.ttlResolution>0){w=U;let K=setTimeout(()=>w=0,this.ttlResolution);K.unref&&K.unref()}return U};this.getRemainingTTL=U=>{let K=O(this,X).get(U);if(K===void 0)return 0;let _e=u[K],ve=p[K];if(!_e||!ve)return 1/0;let Te=(w||k())-ve;return _e-Te},Oe(this,q,U=>{let K=p[U],_e=u[U];return!!_e&&!!K&&(w||k())-K>_e})},V=new WeakMap,L=new WeakMap,Z=new WeakMap,q=new WeakMap,Ms=function(){let u=new h(O(this,y));Oe(this,Y,0),Oe(this,Ee,u),Oe(this,H,p=>{Oe(this,Y,O(this,Y)-u[p]),u[p]=0}),Oe(this,ie,(p,w,k,U)=>{if(Ae(this,F,De).call(this,w))return 0;if(!t(k))if(U){if(typeof U!="function")throw new TypeError("sizeCalculation must be a function");if(k=U(w,p),!t(k))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return k}),Oe(this,oe,(p,w,k)=>{if(u[p]=w,O(this,v)){let U=O(this,v)-u[p];for(;O(this,Y)>U;)Ae(this,F,yr).call(this,!0)}Oe(this,Y,O(this,Y)+u[p]),k&&(k.entrySize=w,k.totalCalculatedSize=O(this,Y))})},H=new WeakMap,oe=new WeakMap,ie=new WeakMap,Pt=function*({allowStale:u=this.allowStale}={}){if(O(this,M))for(let p=O(this,ge);!(!Ae(this,F,ti).call(this,p)||((u||!O(this,q).call(this,p))&&(yield p),p===O(this,W)));)p=O(this,J)[p]},Ct=function*({allowStale:u=this.allowStale}={}){if(O(this,M))for(let p=O(this,W);!(!Ae(this,F,ti).call(this,p)||((u||!O(this,q).call(this,p))&&(yield p),p===O(this,ge)));)p=O(this,G)[p]},ti=function(u){return u!==void 0&&O(this,X).get(O(this,ae)[u])===u},yr=function(u){var U,K;let p=O(this,W),w=O(this,ae)[p],k=O(this,C)[p];return O(this,ne)&&Ae(this,F,De).call(this,k)?k.__abortController.abort(new Error("evicted")):(O(this,R)||O(this,ye))&&(O(this,R)&&((U=O(this,j))==null||U.call(this,k,w,"evict")),O(this,ye)&&((K=O(this,le))==null||K.push([k,w,"evict"]))),O(this,H).call(this,p),u&&(O(this,ae)[p]=void 0,O(this,C)[p]=void 0,O(this,de).push(p)),O(this,M)===1?(Oe(this,W,Oe(this,ge,0)),O(this,de).length=0):Oe(this,W,O(this,G)[p]),O(this,X).delete(w),ur(this,M)._--,p},wr=function(u,p,w,k){let U=p===void 0?void 0:O(this,C)[p];if(Ae(this,F,De).call(this,U))return U;let K=new n,{signal:_e}=w;_e==null||_e.addEventListener("abort",()=>K.abort(_e.reason),{signal:K.signal});let ve={signal:K.signal,options:w,context:k},Te=(Fe,Ge=!1)=>{let{aborted:Re}=K.signal,Ne=w.ignoreFetchAbort&&Fe!==void 0;if(w.status&&(Re&&!Ge?(w.status.fetchAborted=!0,w.status.fetchError=K.signal.reason,Ne&&(w.status.fetchAbortIgnored=!0)):w.status.fetchResolved=!0),Re&&!Ne&&!Ge)return Ce(K.signal.reason);let Je=nt;return O(this,C)[p]===nt&&(Fe===void 0?Je.__staleWhileFetching?O(this,C)[p]=Je.__staleWhileFetching:Ae(this,F,Rt).call(this,u,"fetch"):(w.status&&(w.status.fetchUpdated=!0),this.set(u,Fe,ve.options))),Fe},xe=Fe=>(w.status&&(w.status.fetchRejected=!0,w.status.fetchError=Fe),Ce(Fe)),Ce=Fe=>{let{aborted:Ge}=K.signal,Re=Ge&&w.allowStaleOnFetchAbort,Ne=Re||w.allowStaleOnFetchRejection,Je=Ne||w.noDeleteOnFetchRejection,Ke=nt;if(O(this,C)[p]===nt&&(!Je||Ke.__staleWhileFetching===void 0?Ae(this,F,Rt).call(this,u,"fetch"):Re||(O(this,C)[p]=Ke.__staleWhileFetching)),Ne)return w.status&&Ke.__staleWhileFetching!==void 0&&(w.status.returnedStale=!0),Ke.__staleWhileFetching;if(Ke.__returned===Ke)throw Fe},ft=(Fe,Ge)=>{var Ne;let Re=(Ne=O(this,A))==null?void 0:Ne.call(this,u,U,ve);Re&&Re instanceof Promise&&Re.then(Je=>Fe(Je===void 0?void 0:Je),Ge),K.signal.addEventListener("abort",()=>{(!w.ignoreFetchAbort||w.allowStaleOnFetchAbort)&&(Fe(void 0),w.allowStaleOnFetchAbort&&(Fe=Je=>Te(Je,!0)))})};w.status&&(w.status.fetchDispatched=!0);let nt=new Promise(ft).then(Te,xe),st=Object.assign(nt,{__abortController:K,__staleWhileFetching:U,__returned:void 0});return p===void 0?(this.set(u,st,{...ve.options,status:void 0}),p=O(this,X).get(u)):O(this,C)[p]=st,st},De=function(u){if(!O(this,ne))return!1;let p=u;return!!p&&p instanceof Promise&&p.hasOwnProperty("__staleWhileFetching")&&p.__abortController instanceof n},ri=function(u,p){O(this,J)[p]=u,O(this,G)[u]=p},ir=function(u){u!==O(this,ge)&&(u===O(this,W)?Oe(this,W,O(this,G)[u]):Ae(this,F,ri).call(this,O(this,J)[u],O(this,G)[u]),Ae(this,F,ri).call(this,O(this,ge),u),Oe(this,ge,u))},Rt=function(u,p){var k,U,K,_e;let w=!1;if(O(this,M)!==0){let ve=O(this,X).get(u);if(ve!==void 0)if(w=!0,O(this,M)===1)Ae(this,F,ni).call(this,p);else{O(this,H).call(this,ve);let Te=O(this,C)[ve];if(Ae(this,F,De).call(this,Te)?Te.__abortController.abort(new Error("deleted")):(O(this,R)||O(this,ye))&&(O(this,R)&&((k=O(this,j))==null||k.call(this,Te,u,p)),O(this,ye)&&((U=O(this,le))==null||U.push([Te,u,p]))),O(this,X).delete(u),O(this,ae)[ve]=void 0,O(this,C)[ve]=void 0,ve===O(this,ge))Oe(this,ge,O(this,J)[ve]);else if(ve===O(this,W))Oe(this,W,O(this,G)[ve]);else{let xe=O(this,J)[ve];O(this,G)[xe]=O(this,G)[ve];let Ce=O(this,G)[ve];O(this,J)[Ce]=O(this,J)[ve]}ur(this,M)._--,O(this,de).push(ve)}}if(O(this,ye)&&((K=O(this,le))!=null&&K.length)){let ve=O(this,le),Te;for(;Te=ve==null?void 0:ve.shift();)(_e=O(this,B))==null||_e.call(this,...Te)}return w},ni=function(u){var p,w,k;for(let U of Ae(this,F,Ct).call(this,{allowStale:!0})){let K=O(this,C)[U];if(Ae(this,F,De).call(this,K))K.__abortController.abort(new Error("deleted"));else{let _e=O(this,ae)[U];O(this,R)&&((p=O(this,j))==null||p.call(this,K,_e,u)),O(this,ye)&&((w=O(this,le))==null||w.push([K,_e,u]))}}if(O(this,X).clear(),O(this,C).fill(void 0),O(this,ae).fill(void 0),O(this,pe)&&O(this,z)&&(O(this,pe).fill(0),O(this,z).fill(0)),O(this,Ee)&&O(this,Ee).fill(0),Oe(this,W,0),Oe(this,ge,0),O(this,de).length=0,Oe(this,Y,0),Oe(this,M,0),O(this,ye)&&O(this,le)){let U=O(this,le),K;for(;K=U==null?void 0:U.shift();)(k=O(this,B))==null||k.call(this,...K)}},Pe);o.LRUCache=g}),It=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.ContainerIterator=o.Container=o.Base=void 0;var c=class{constructor(f=0){this.iteratorType=f}equals(f){return this.o===f.o}};o.ContainerIterator=c;var s=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};o.Base=s;var l=class extends s{};o.Container=l}),ma=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=It(),s=class extends c.Base{constructor(f=[]){super(),this.S=[];let n=this;f.forEach(function(e){n.push(e)})}clear(){this.i=0,this.S=[]}push(f){return this.S.push(f),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},l=s;o.default=l}),ya=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=It(),s=class extends c.Base{constructor(f=[]){super(),this.j=0,this.q=[];let n=this;f.forEach(function(e){n.push(e)})}clear(){this.q=[],this.i=this.j=0}push(f){let n=this.q.length;if(this.j/n>.5&&this.j+this.i>=n&&n>4096){let e=this.i;for(let r=0;r<e;++r)this.q[r]=this.q[this.j+r];this.j=0,this.q[this.i]=f}else this.q[this.j+this.i]=f;return++this.i}pop(){if(this.i===0)return;let f=this.q[this.j++];return this.i-=1,f}front(){if(this.i!==0)return this.q[this.j]}},l=s;o.default=l}),wa=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=It(),s=class extends c.Base{constructor(f=[],n=function(r,t){return r>t?-1:r<t?1:0},e=!0){if(super(),this.v=n,Array.isArray(f))this.C=e?[...f]:f;else{this.C=[];let t=this;f.forEach(function(i){t.C.push(i)})}this.i=this.C.length;let r=this.i>>1;for(let t=this.i-1>>1;t>=0;--t)this.k(t,r)}m(f){let n=this.C[f];for(;f>0;){let e=f-1>>1,r=this.C[e];if(this.v(r,n)<=0)break;this.C[f]=r,f=e}this.C[f]=n}k(f,n){let e=this.C[f];for(;f<n;){let r=f<<1|1,t=r+1,i=this.C[r];if(t<this.i&&this.v(i,this.C[t])>0&&(r=t,i=this.C[t]),this.v(i,e)>=0)break;this.C[f]=i,f=r}this.C[f]=e}clear(){this.i=0,this.C.length=0}push(f){this.C.push(f),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let f=this.C[0],n=this.C.pop();return this.i-=1,this.i&&(this.C[0]=n,this.k(0,this.i>>1)),f}top(){return this.C[0]}find(f){return this.C.indexOf(f)>=0}remove(f){let n=this.C.indexOf(f);return n<0?!1:(n===0?this.pop():n===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(n,1,this.C.pop()),this.i-=1,this.m(n),this.k(n,this.i>>1)),!0)}updateItem(f){let n=this.C.indexOf(f);return n<0?!1:(this.m(n),this.k(n,this.i>>1),!0)}toArray(){return[...this.C]}},l=s;o.default=l}),wi=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=It(),s=class extends c.Container{},l=s;o.default=l}),kt=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.throwIteratorAccessError=c;function c(){throw new RangeError("Iterator access denied!")}}),Ls=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.RandomIterator=void 0;var c=It(),s=kt(),l=class extends c.ContainerIterator{constructor(f,n){super(n),this.o=f,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,s.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,s.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,s.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,s.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(f){this.container.setElementByPos(this.o,f)}};o.RandomIterator=l}),_a=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=l(wi()),s=Ls();function l(r){return r&&r.t?r:{default:r}}var f=class Us extends s.RandomIterator{constructor(t,i,h){super(t,h),this.container=i}copy(){return new Us(this.o,this.container,this.iteratorType)}},n=class extends c.default{constructor(r=[],t=!0){if(super(),Array.isArray(r))this.J=t?[...r]:r,this.i=r.length;else{this.J=[];let i=this;r.forEach(function(h){i.pushBack(h)})}}clear(){this.i=0,this.J.length=0}begin(){return new f(0,this)}end(){return new f(this.i,this)}rBegin(){return new f(this.i-1,this,1)}rEnd(){return new f(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;return this.J[r]}eraseElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;return this.J.splice(r,1),this.i-=1,this.i}eraseElementByValue(r){let t=0;for(let i=0;i<this.i;++i)this.J[i]!==r&&(this.J[t++]=this.J[i]);return this.i=this.J.length=t,this.i}eraseElementByIterator(r){let t=r.o;return r=r.next(),this.eraseElementByPos(t),r}pushBack(r){return this.J.push(r),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(r,t){if(r<0||r>this.i-1)throw new RangeError;this.J[r]=t}insert(r,t,i=1){if(r<0||r>this.i)throw new RangeError;return this.J.splice(r,0,...new Array(i).fill(t)),this.i+=i,this.i}find(r){for(let t=0;t<this.i;++t)if(this.J[t]===r)return new f(t,this);return this.end()}reverse(){this.J.reverse()}unique(){let r=1;for(let t=1;t<this.i;++t)this.J[t]!==this.J[t-1]&&(this.J[r++]=this.J[t]);return this.i=this.J.length=r,this.i}sort(r){this.J.sort(r)}forEach(r){for(let t=0;t<this.i;++t)r(this.J[t],t,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},e=n;o.default=e}),va=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=f(wi()),s=It(),l=kt();function f(t){return t&&t.t?t:{default:t}}var n=class js extends s.ContainerIterator{constructor(i,h,d,g){super(g),this.o=i,this.h=h,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l}set pointer(i){this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l=i}copy(){return new js(this.o,this.h,this.container,this.iteratorType)}},e=class extends c.default{constructor(t=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let i=this;t.forEach(function(h){i.pushBack(h)})}V(t){let{L:i,B:h}=t;i.B=h,h.L=i,t===this.p&&(this.p=h),t===this._&&(this._=i),this.i-=1}G(t,i){let h=i.B,d={l:t,L:i,B:h};i.B=d,h.L=d,i===this.h&&(this.p=d),h===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let i=this.p;for(;t--;)i=i.B;return i.l}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let i=this.p;for(;t--;)i=i.B;return this.V(i),this.i}eraseElementByValue(t){let i=this.p;for(;i!==this.h;)i.l===t&&this.V(i),i=i.B;return this.i}eraseElementByIterator(t){let i=t.o;return i===this.h&&(0,l.throwIteratorAccessError)(),t=t.next(),this.V(i),t}pushBack(t){return this.G(t,this._),this.i}popBack(){if(this.i===0)return;let t=this._.l;return this.V(this._),t}pushFront(t){return this.G(t,this.h),this.i}popFront(){if(this.i===0)return;let t=this.p.l;return this.V(this.p),t}setElementByPos(t,i){if(t<0||t>this.i-1)throw new RangeError;let h=this.p;for(;t--;)h=h.B;h.l=i}insert(t,i,h=1){if(t<0||t>this.i)throw new RangeError;if(h<=0)return this.i;if(t===0)for(;h--;)this.pushFront(i);else if(t===this.i)for(;h--;)this.pushBack(i);else{let d=this.p;for(let b=1;b<t;++b)d=d.B;let g=d.B;for(this.i+=h;h--;)d.B={l:i,L:d},d.B.L=d,d=d.B;d.B=g,g.L=d}return this.i}find(t){let i=this.p;for(;i!==this.h;){if(i.l===t)return new n(i,this.h,this);i=i.B}return this.end()}reverse(){if(this.i<=1)return;let t=this.p,i=this._,h=0;for(;h<<1<this.i;){let d=t.l;t.l=i.l,i.l=d,t=t.B,i=i.L,h+=1}}unique(){if(this.i<=1)return this.i;let t=this.p;for(;t!==this.h;){let i=t;for(;i.B!==this.h&&i.l===i.B.l;)i=i.B,this.i-=1;t.B=i.B,t.B.L=t,t=t.B}return this.i}sort(t){if(this.i<=1)return;let i=[];this.forEach(function(d){i.push(d)}),i.sort(t);let h=this.p;i.forEach(function(d){h.l=d,h=h.B})}merge(t){let i=this;if(this.i===0)t.forEach(function(h){i.pushBack(h)});else{let h=this.p;t.forEach(function(d){for(;h!==i.h&&h.l<=d;)h=h.B;i.G(d,h.L)})}return this.i}forEach(t){let i=this.p,h=0;for(;i!==this.h;)t(i.l,h++,this),i=i.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let t=this.p;for(;t!==this.h;)yield t.l,t=t.B}).bind(this)()}},r=e;o.default=r}),Ea=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=l(wi()),s=Ls();function l(r){return r&&r.t?r:{default:r}}var f=class Ns extends s.RandomIterator{constructor(t,i,h){super(t,h),this.container=i}copy(){return new Ns(this.o,this.container,this.iteratorType)}},n=class extends c.default{constructor(r=[],t=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let i=(()=>{if(typeof r.length=="number")return r.length;if(typeof r.size=="number")return r.size;if(typeof r.size=="function")return r.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=t,this.P=Math.max(Math.ceil(i/this.F),1);for(let g=0;g<this.P;++g)this.A.push(new Array(this.F));let h=Math.ceil(i/this.F);this.j=this.R=(this.P>>1)-(h>>1),this.D=this.N=this.F-i%this.F>>1;let d=this;r.forEach(function(g){d.pushBack(g)})}T(){let r=[],t=Math.max(this.P>>1,1);for(let i=0;i<t;++i)r[i]=new Array(this.F);for(let i=this.j;i<this.P;++i)r[r.length]=this.A[i];for(let i=0;i<this.R;++i)r[r.length]=this.A[i];r[r.length]=[...this.A[this.R]],this.j=t,this.R=r.length-1;for(let i=0;i<t;++i)r[r.length]=new Array(this.F);this.A=r,this.P=r.length}O(r){let t=this.D+r+1,i=t%this.F,h=i-1,d=this.j+(t-i)/this.F;return i===0&&(d-=1),d%=this.P,h<0&&(h+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:h}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new f(0,this)}end(){return new f(this.i,this)}rBegin(){return new f(this.i-1,this,1)}rEnd(){return new f(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(r){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=r,this.i}popBack(){if(this.i===0)return;let r=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,r}pushFront(r){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=r,this.i}popFront(){if(this.i===0)return;let r=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,r}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let{curNodeBucketIndex:t,curNodePointerIndex:i}=this.O(r);return this.A[t][i]}setElementByPos(r,t){if(r<0||r>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:h}=this.O(r);this.A[i][h]=t}insert(r,t,i=1){if(r<0||r>this.i)throw new RangeError;if(r===0)for(;i--;)this.pushFront(t);else if(r===this.i)for(;i--;)this.pushBack(t);else{let h=[];for(let d=r;d<this.i;++d)h.push(this.getElementByPos(d));this.cut(r-1);for(let d=0;d<i;++d)this.pushBack(t);for(let d=0;d<h.length;++d)this.pushBack(h[d])}return this.i}cut(r){if(r<0)return this.clear(),0;let{curNodeBucketIndex:t,curNodePointerIndex:i}=this.O(r);return this.R=t,this.N=i,this.i=r+1,this.i}eraseElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;if(r===0)this.popFront();else if(r===this.i-1)this.popBack();else{let t=[];for(let h=r+1;h<this.i;++h)t.push(this.getElementByPos(h));this.cut(r),this.popBack();let i=this;t.forEach(function(h){i.pushBack(h)})}return this.i}eraseElementByValue(r){if(this.i===0)return 0;let t=[];for(let h=0;h<this.i;++h){let d=this.getElementByPos(h);d!==r&&t.push(d)}let i=t.length;for(let h=0;h<i;++h)this.setElementByPos(h,t[h]);return this.cut(i-1)}eraseElementByIterator(r){let t=r.o;return this.eraseElementByPos(t),r=r.next(),r}find(r){for(let t=0;t<this.i;++t)if(this.getElementByPos(t)===r)return new f(t,this);return this.end()}reverse(){let r=0,t=this.i-1;for(;r<t;){let i=this.getElementByPos(r);this.setElementByPos(r,this.getElementByPos(t)),this.setElementByPos(t,i),r+=1,t-=1}}unique(){if(this.i<=1)return this.i;let r=1,t=this.getElementByPos(0);for(let i=1;i<this.i;++i){let h=this.getElementByPos(i);h!==t&&(t=h,this.setElementByPos(r++,h))}for(;this.i>r;)this.popBack();return this.i}sort(r){let t=[];for(let i=0;i<this.i;++i)t.push(this.getElementByPos(i));t.sort(r);for(let i=0;i<this.i;++i)this.setElementByPos(i,t[i])}shrinkToFit(){if(this.i===0)return;let r=[];this.forEach(function(t){r.push(t)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let t=0;t<this.P;++t)this.A.push(new Array(this.F));for(let t=0;t<r.length;++t)this.pushBack(r[t])}forEach(r){for(let t=0;t<this.i;++t)r(this.getElementByPos(t),t,this)}[Symbol.iterator](){return(function*(){for(let r=0;r<this.i;++r)yield this.getElementByPos(r)}).bind(this)()}},e=n;o.default=e}),Sa=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.TreeNodeEnableIndex=o.TreeNode=void 0;var c=class{constructor(l,f){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=l,this.l=f}L(){let l=this;if(l.ee===1&&l.tt.tt===l)l=l.W;else if(l.U)for(l=l.U;l.W;)l=l.W;else{let f=l.tt;for(;f.U===l;)l=f,f=l.tt;l=f}return l}B(){let l=this;if(l.W){for(l=l.W;l.U;)l=l.U;return l}else{let f=l.tt;for(;f.W===l;)l=f,f=l.tt;return l.W!==f?f:l}}te(){let l=this.tt,f=this.W,n=f.U;return l.tt===this?l.tt=f:l.U===this?l.U=f:l.W=f,f.tt=l,f.U=this,this.tt=f,this.W=n,n&&(n.tt=this),f}se(){let l=this.tt,f=this.U,n=f.W;return l.tt===this?l.tt=f:l.U===this?l.U=f:l.W=f,f.tt=l,f.W=this,this.tt=f,this.U=n,n&&(n.tt=this),f}};o.TreeNode=c;var s=class extends c{constructor(){super(...arguments),this.rt=1}te(){let l=super.te();return this.ie(),l.ie(),l}se(){let l=super.se();return this.ie(),l.ie(),l}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};o.TreeNodeEnableIndex=s}),Ds=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=Sa(),s=It(),l=kt(),f=class extends s.Container{constructor(e=function(t,i){return t<i?-1:t>i?1:0},r=!1){super(),this.Y=void 0,this.v=e,r?(this.re=c.TreeNodeEnableIndex,this.M=function(t,i,h){let d=this.ne(t,i,h);if(d){let g=d.tt;for(;g!==this.h;)g.rt+=1,g=g.tt;let b=this.he(d);if(b){let{parentNode:m,grandParent:_,curNode:E}=b;m.ie(),_.ie(),E.ie()}}return this.i},this.V=function(t){let i=this.fe(t);for(;i!==this.h;)i.rt-=1,i=i.tt}):(this.re=c.TreeNode,this.M=function(t,i,h){let d=this.ne(t,i,h);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(e,r){let t=this.h;for(;e;){let i=this.v(e.u,r);if(i<0)e=e.W;else if(i>0)t=e,e=e.U;else return e}return t}Z(e,r){let t=this.h;for(;e;)this.v(e.u,r)<=0?e=e.W:(t=e,e=e.U);return t}$(e,r){let t=this.h;for(;e;){let i=this.v(e.u,r);if(i<0)t=e,e=e.W;else if(i>0)e=e.U;else return e}return t}rr(e,r){let t=this.h;for(;e;)this.v(e.u,r)<0?(t=e,e=e.W):e=e.U;return t}ue(e){for(;;){let r=e.tt;if(r===this.h)return;if(e.ee===1){e.ee=0;return}if(e===r.U){let t=r.W;if(t.ee===1)t.ee=0,r.ee=1,r===this.Y?this.Y=r.te():r.te();else if(t.W&&t.W.ee===1){t.ee=r.ee,r.ee=0,t.W.ee=0,r===this.Y?this.Y=r.te():r.te();return}else t.U&&t.U.ee===1?(t.ee=1,t.U.ee=0,t.se()):(t.ee=1,e=r)}else{let t=r.U;if(t.ee===1)t.ee=0,r.ee=1,r===this.Y?this.Y=r.se():r.se();else if(t.U&&t.U.ee===1){t.ee=r.ee,r.ee=0,t.U.ee=0,r===this.Y?this.Y=r.se():r.se();return}else t.W&&t.W.ee===1?(t.ee=1,t.W.ee=0,t.te()):(t.ee=1,e=r)}}}fe(e){if(this.i===1)return this.clear(),this.h;let r=e;for(;r.U||r.W;){if(r.W)for(r=r.W;r.U;)r=r.U;else r=r.U;[e.u,r.u]=[r.u,e.u],[e.l,r.l]=[r.l,e.l],e=r}this.h.U===r?this.h.U=r.tt:this.h.W===r&&(this.h.W=r.tt),this.ue(r);let t=r.tt;return r===t.U?t.U=void 0:t.W=void 0,this.i-=1,this.Y.ee=0,t}oe(e,r){return e===void 0?!1:this.oe(e.U,r)||r(e)?!0:this.oe(e.W,r)}he(e){for(;;){let r=e.tt;if(r.ee===0)return;let t=r.tt;if(r===t.U){let i=t.W;if(i&&i.ee===1){if(i.ee=r.ee=0,t===this.Y)return;t.ee=1,e=t;continue}else if(e===r.W){if(e.ee=0,e.U&&(e.U.tt=r),e.W&&(e.W.tt=t),r.W=e.U,t.U=e.W,e.U=r,e.W=t,t===this.Y)this.Y=e,this.h.tt=e;else{let h=t.tt;h.U===t?h.U=e:h.W=e}return e.tt=t.tt,r.tt=e,t.tt=e,t.ee=1,{parentNode:r,grandParent:t,curNode:e}}else r.ee=0,t===this.Y?this.Y=t.se():t.se(),t.ee=1}else{let i=t.U;if(i&&i.ee===1){if(i.ee=r.ee=0,t===this.Y)return;t.ee=1,e=t;continue}else if(e===r.U){if(e.ee=0,e.U&&(e.U.tt=t),e.W&&(e.W.tt=r),t.W=e.U,r.U=e.W,e.U=t,e.W=r,t===this.Y)this.Y=e,this.h.tt=e;else{let h=t.tt;h.U===t?h.U=e:h.W=e}return e.tt=t.tt,r.tt=e,t.tt=e,t.ee=1,{parentNode:r,grandParent:t,curNode:e}}else r.ee=0,t===this.Y?this.Y=t.te():t.te(),t.ee=1}return}}ne(e,r,t){if(this.Y===void 0){this.i+=1,this.Y=new this.re(e,r),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let i,h=this.h.U,d=this.v(h.u,e);if(d===0){h.l=r;return}else if(d>0)h.U=new this.re(e,r),h.U.tt=h,i=h.U,this.h.U=i;else{let g=this.h.W,b=this.v(g.u,e);if(b===0){g.l=r;return}else if(b<0)g.W=new this.re(e,r),g.W.tt=g,i=g.W,this.h.W=i;else{if(t!==void 0){let m=t.o;if(m!==this.h){let _=this.v(m.u,e);if(_===0){m.l=r;return}else if(_>0){let E=m.L(),I=this.v(E.u,e);if(I===0){E.l=r;return}else I<0&&(i=new this.re(e,r),E.W===void 0?(E.W=i,i.tt=E):(m.U=i,i.tt=m))}}}if(i===void 0)for(i=this.Y;;){let m=this.v(i.u,e);if(m>0){if(i.U===void 0){i.U=new this.re(e,r),i.U.tt=i,i=i.U;break}i=i.U}else if(m<0){if(i.W===void 0){i.W=new this.re(e,r),i.W.tt=i,i=i.W;break}i=i.W}else{i.l=r;return}}}}return this.i+=1,i}I(e,r){for(;e;){let t=this.v(e.u,r);if(t<0)e=e.W;else if(t>0)e=e.U;else return e}return e||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(e,r){let t=e.o;if(t===this.h&&(0,l.throwIteratorAccessError)(),this.i===1)return t.u=r,!0;if(t===this.h.U)return this.v(t.B().u,r)>0?(t.u=r,!0):!1;if(t===this.h.W)return this.v(t.L().u,r)<0?(t.u=r,!0):!1;let i=t.L().u;if(this.v(i,r)>=0)return!1;let h=t.B().u;return this.v(h,r)<=0?!1:(t.u=r,!0)}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=0,t=this;return this.oe(this.Y,function(i){return e===r?(t.V(i),!0):(r+=1,!1)}),this.i}eraseElementByKey(e){if(this.i===0)return!1;let r=this.I(this.Y,e);return r===this.h?!1:(this.V(r),!0)}eraseElementByIterator(e){let r=e.o;r===this.h&&(0,l.throwIteratorAccessError)();let t=r.W===void 0;return e.iteratorType===0?t&&e.next():(!t||r.U===void 0)&&e.next(),this.V(r),e}forEach(e){let r=0;for(let t of this)e(t,r++,this)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r,t=0;for(let i of this){if(t===e){r=i;break}t+=1}return r}getHeight(){if(this.i===0)return 0;let e=function(r){return r?Math.max(e(r.U),e(r.W))+1:0};return e(this.Y)}},n=f;o.default=n}),Fs=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=It(),s=kt(),l=class extends c.ContainerIterator{constructor(n,e,r){super(r),this.o=n,this.h=e,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let n=this.o,e=this.h.tt;if(n===this.h)return e?e.rt-1:0;let r=0;for(n.U&&(r+=n.U.rt);n!==e;){let t=n.tt;n===t.W&&(r+=1,t.U&&(r+=t.U.rt)),n=t}return r}},f=l;o.default=f}),Aa=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=f(Ds()),s=f(Fs()),l=kt();function f(t){return t&&t.t?t:{default:t}}var n=class Ws extends s.default{constructor(i,h,d,g){super(i,h,g),this.container=d}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new Ws(this.o,this.h,this.container,this.iteratorType)}},e=class extends c.default{constructor(t=[],i,h){super(i,h);let d=this;t.forEach(function(g){d.insert(g)})}*K(t){t!==void 0&&(yield*this.K(t.U),yield t.u,yield*this.K(t.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(t,i){return this.M(t,void 0,i)}find(t){let i=this.I(this.Y,t);return new n(i,this.h,this)}lowerBound(t){let i=this.X(this.Y,t);return new n(i,this.h,this)}upperBound(t){let i=this.Z(this.Y,t);return new n(i,this.h,this)}reverseLowerBound(t){let i=this.$(this.Y,t);return new n(i,this.h,this)}reverseUpperBound(t){let i=this.rr(this.Y,t);return new n(i,this.h,this)}union(t){let i=this;return t.forEach(function(h){i.insert(h)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},r=e;o.default=r}),Ia=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=f(Ds()),s=f(Fs()),l=kt();function f(t){return t&&t.t?t:{default:t}}var n=class qs extends s.default{constructor(i,h,d,g){super(i,h,g),this.container=d}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let i=this;return new Proxy([],{get(h,d){if(d==="0")return i.o.u;if(d==="1")return i.o.l},set(h,d,g){if(d!=="1")throw new TypeError("props must be 1");return i.o.l=g,!0}})}copy(){return new qs(this.o,this.h,this.container,this.iteratorType)}},e=class extends c.default{constructor(t=[],i,h){super(i,h);let d=this;t.forEach(function(g){d.setElement(g[0],g[1])})}*K(t){t!==void 0&&(yield*this.K(t.U),yield[t.u,t.l],yield*this.K(t.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i===0)return;let t=this.h.U;return[t.u,t.l]}back(){if(this.i===0)return;let t=this.h.W;return[t.u,t.l]}lowerBound(t){let i=this.X(this.Y,t);return new n(i,this.h,this)}upperBound(t){let i=this.Z(this.Y,t);return new n(i,this.h,this)}reverseLowerBound(t){let i=this.$(this.Y,t);return new n(i,this.h,this)}reverseUpperBound(t){let i=this.rr(this.Y,t);return new n(i,this.h,this)}setElement(t,i,h){return this.M(t,i,h)}find(t){let i=this.I(this.Y,t);return new n(i,this.h,this)}getElementByKey(t){return this.I(this.Y,t).l}union(t){let i=this;return t.forEach(function(h){i.setElement(h[0],h[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},r=e;o.default=r}),$s=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=c;function c(s){let l=typeof s;return l==="object"&&s!==null||l==="function"}}),Hs=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.HashContainerIterator=o.HashContainer=void 0;var c=It(),s=f($s()),l=kt();function f(r){return r&&r.t?r:{default:r}}var n=class extends c.ContainerIterator{constructor(r,t,i){super(i),this.o=r,this.h=t,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}};o.HashContainerIterator=n;var e=class extends c.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(r){let{L:t,B:i}=r;t.B=i,i.L=t,r===this.p&&(this.p=i),r===this._&&(this._=t),this.i-=1}M(r,t,i){i===void 0&&(i=(0,s.default)(r));let h;if(i){let d=r[this.HASH_TAG];if(d!==void 0)return this.H[d].l=t,this.i;Object.defineProperty(r,this.HASH_TAG,{value:this.H.length,configurable:!0}),h={u:r,l:t,L:this._,B:this.h},this.H.push(h)}else{let d=this.g[r];if(d)return d.l=t,this.i;h={u:r,l:t,L:this._,B:this.h},this.g[r]=h}return this.i===0?(this.p=h,this.h.B=h):this._.B=h,this._=h,this.h.L=h,++this.i}I(r,t){if(t===void 0&&(t=(0,s.default)(r)),t){let i=r[this.HASH_TAG];return i===void 0?this.h:this.H[i]}else return this.g[r]||this.h}clear(){let r=this.HASH_TAG;this.H.forEach(function(t){delete t.u[r]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(r,t){let i;if(t===void 0&&(t=(0,s.default)(r)),t){let h=r[this.HASH_TAG];if(h===void 0)return!1;delete r[this.HASH_TAG],i=this.H[h],delete this.H[h]}else{if(i=this.g[r],i===void 0)return!1;delete this.g[r]}return this.V(i),!0}eraseElementByIterator(r){let t=r.o;return t===this.h&&(0,l.throwIteratorAccessError)(),this.V(t),r.next()}eraseElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let t=this.p;for(;r--;)t=t.B;return this.V(t),this.i}};o.HashContainer=e}),ka=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=Hs(),s=kt(),l=class Vs extends c.HashContainerIterator{constructor(r,t,i,h){super(r,t,h),this.container=i}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.u}copy(){return new Vs(this.o,this.h,this.container,this.iteratorType)}},f=class extends c.HashContainer{constructor(e=[]){super();let r=this;e.forEach(function(t){r.insert(t)})}begin(){return new l(this.p,this.h,this)}end(){return new l(this.h,this.h,this)}rBegin(){return new l(this._,this.h,this,1)}rEnd(){return new l(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(e,r){return this.M(e,void 0,r)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return r.u}find(e,r){let t=this.I(e,r);return new l(t,this.h,this)}forEach(e){let r=0,t=this.p;for(;t!==this.h;)e(t.u,r++,this),t=t.B}[Symbol.iterator](){return(function*(){let e=this.p;for(;e!==this.h;)yield e.u,e=e.B}).bind(this)()}},n=f;o.default=n}),Ta=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var c=Hs(),s=f($s()),l=kt();function f(t){return t&&t.t?t:{default:t}}var n=class zs extends c.HashContainerIterator{constructor(i,h,d,g){super(i,h,g),this.container=d}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let i=this;return new Proxy([],{get(h,d){if(d==="0")return i.o.u;if(d==="1")return i.o.l},set(h,d,g){if(d!=="1")throw new TypeError("props must be 1");return i.o.l=g,!0}})}copy(){return new zs(this.o,this.h,this.container,this.iteratorType)}},e=class extends c.HashContainer{constructor(t=[]){super();let i=this;t.forEach(function(h){i.setElement(h[0],h[1])})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(t,i,h){return this.M(t,i,h)}getElementByKey(t,i){if(i===void 0&&(i=(0,s.default)(t)),i){let d=t[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let h=this.g[t];return h?h.l:void 0}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let i=this.p;for(;t--;)i=i.B;return[i.u,i.l]}find(t,i){let h=this.I(t,i);return new n(h,this.h,this)}forEach(t){let i=0,h=this.p;for(;h!==this.h;)t([h.u,h.l],i++,this),h=h.B}[Symbol.iterator](){return(function*(){let t=this.p;for(;t!==this.h;)yield[t.u,t.l],t=t.B}).bind(this)()}},r=e;o.default=r}),Oa=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"t",{value:!0}),Object.defineProperty(o,"Deque",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(o,"HashMap",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(o,"HashSet",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(o,"LinkList",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(o,"OrderedMap",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(o,"OrderedSet",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(o,"PriorityQueue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(o,"Queue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(o,"Stack",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(o,"Vector",{enumerable:!0,get:function(){return f.default}});var c=d(ma()),s=d(ya()),l=d(wa()),f=d(_a()),n=d(va()),e=d(Ea()),r=d(Aa()),t=d(Ia()),i=d(ka()),h=d(Ta());function d(g){return g&&g.t?g:{default:g}}}),Pa=be((o,c)=>{he(),ce(),fe();var s=Oa().OrderedSet,l=St()("number-allocator:trace"),f=St()("number-allocator:error");function n(r,t){this.low=r,this.high=t}n.prototype.equals=function(r){return this.low===r.low&&this.high===r.high},n.prototype.compare=function(r){return this.low<r.low&&this.high<r.low?-1:r.low<this.low&&r.high<this.low?1:0};function e(r,t){if(!(this instanceof e))return new e(r,t);this.min=r,this.max=t,this.ss=new s([],(i,h)=>i.compare(h)),l("Create"),this.clear()}e.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},e.prototype.alloc=function(){if(this.ss.size()===0)return l("alloc():empty"),null;let r=this.ss.begin(),t=r.pointer.low,i=r.pointer.high,h=t;return h+1<=i?this.ss.updateKeyByIterator(r,new n(t+1,i)):this.ss.eraseElementByPos(0),l("alloc():"+h),h},e.prototype.use=function(r){let t=new n(r,r),i=this.ss.lowerBound(t);if(!i.equals(this.ss.end())){let h=i.pointer.low,d=i.pointer.high;return i.pointer.equals(t)?(this.ss.eraseElementByIterator(i),l("use():"+r),!0):h>r?!1:h===r?(this.ss.updateKeyByIterator(i,new n(h+1,d)),l("use():"+r),!0):d===r?(this.ss.updateKeyByIterator(i,new n(h,d-1)),l("use():"+r),!0):(this.ss.updateKeyByIterator(i,new n(r+1,d)),this.ss.insert(new n(h,r-1)),l("use():"+r),!0)}return l("use():failed"),!1},e.prototype.free=function(r){if(r<this.min||r>this.max){f("free():"+r+" is out of range");return}let t=new n(r,r),i=this.ss.upperBound(t);if(i.equals(this.ss.end())){if(i.equals(this.ss.begin())){this.ss.insert(t);return}i.pre();let h=i.pointer.high;i.pointer.high+1===r?this.ss.updateKeyByIterator(i,new n(h,r)):this.ss.insert(t)}else if(i.equals(this.ss.begin()))if(r+1===i.pointer.low){let h=i.pointer.high;this.ss.updateKeyByIterator(i,new n(r,h))}else this.ss.insert(t);else{let h=i.pointer.low,d=i.pointer.high;i.pre();let g=i.pointer.low;i.pointer.high+1===r?r+1===h?(this.ss.eraseElementByIterator(i),this.ss.updateKeyByIterator(i,new n(g,d))):this.ss.updateKeyByIterator(i,new n(g,r)):r+1===h?(this.ss.eraseElementByIterator(i.next()),this.ss.insert(new n(r,d))):this.ss.insert(t)}l("free():"+r)},e.prototype.clear=function(){l("clear()"),this.ss.clear(),this.ss.insert(new n(this.min,this.max))},e.prototype.intervalCount=function(){return this.ss.size()},e.prototype.dump=function(){console.log("length:"+this.ss.size());for(let r of this.ss)console.log(r)},c.exports=e}),Ks=be((o,c)=>{he(),ce(),fe();var s=Pa();c.exports.NumberAllocator=s}),Ca=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0});var c=ba(),s=Ks(),l=class{constructor(f){f>0&&(this.aliasToTopic=new c.LRUCache({max:f}),this.topicToAlias={},this.numberAllocator=new s.NumberAllocator(1,f),this.max=f,this.length=0)}put(f,n){if(n===0||n>this.max)return!1;let e=this.aliasToTopic.get(n);return e&&delete this.topicToAlias[e],this.aliasToTopic.set(n,f),this.topicToAlias[f]=n,this.numberAllocator.use(n),this.length=this.aliasToTopic.size,!0}getTopicByAlias(f){return this.aliasToTopic.get(f)}getAliasByTopic(f){let n=this.topicToAlias[f];return typeof n<"u"&&this.aliasToTopic.get(n),n}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};o.default=l}),Ra=be(o=>{he(),ce(),fe();var c=o&&o.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0});var s=Pr(),l=c(Ca()),f=Zt(),n=(e,r)=>{e.log("_handleConnack");let{options:t}=e,i=t.protocolVersion===5?r.reasonCode:r.returnCode;if(clearTimeout(e.connackTimer),delete e.topicAliasSend,r.properties){if(r.properties.topicAliasMaximum){if(r.properties.topicAliasMaximum>65535){e.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}r.properties.topicAliasMaximum>0&&(e.topicAliasSend=new l.default(r.properties.topicAliasMaximum))}r.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=r.properties.serverKeepAlive),r.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=r.properties.maximumPacketSize)}if(i===0)e.reconnecting=!1,e._onConnect(r);else if(i>0){let h=new f.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[i]}`,i);e.emit("error",h),e.options.reconnectOnConnackError&&e._cleanUp(!0)}};o.default=n}),xa=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0});var c=(s,l,f)=>{s.log("handling pubrel packet");let n=typeof f<"u"?f:s.noop,{messageId:e}=l,r={cmd:"pubcomp",messageId:e};s.incomingStore.get(l,(t,i)=>{t?s._sendPacket(r,n):(s.emit("message",i.topic,i.payload,i),s.handleMessage(i,h=>{if(h)return n(h);s.incomingStore.del(i,s.noop),s._sendPacket(r,n)}))})};o.default=c}),Ba=be(o=>{he(),ce(),fe();var c=o&&o.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var s=c(da()),l=c(ga()),f=c(Ra()),n=c(Pr()),e=c(xa()),r=(t,i,h)=>{let{options:d}=t;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<i.length)return t.emit("error",new Error(`exceeding packets size ${i.cmd}`)),t.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),t;switch(t.log("_handlePacket :: emitting packetreceive"),t.emit("packetreceive",i),i.cmd){case"publish":(0,s.default)(t,i,h);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":t.reschedulePing(),(0,n.default)(t,i),h();break;case"pubrel":t.reschedulePing(),(0,e.default)(t,i,h);break;case"connack":(0,f.default)(t,i),h();break;case"auth":t.reschedulePing(),(0,l.default)(t,i),h();break;case"pingresp":t.log("_handlePacket :: received pingresp"),t.reschedulePing(!0),h();break;case"disconnect":t.emit("disconnect",i),h();break;default:t.log("_handlePacket :: unknown command"),h();break}};o.default=r}),Ma=be(o=>{he(),ce(),fe();var c=o&&o.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(o,"__esModule",{value:!0}),o.TypedEventEmitter=void 0;var s=c((zt(),je(Bt))),l=Zt(),f=class{};o.TypedEventEmitter=f,(0,l.applyMixin)(f,s.default)}),Cr=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0}),o.isReactNativeBrowser=o.isWebWorker=void 0;var c=()=>{var n;return typeof window<"u"?typeof navigator<"u"&&((n=navigator.userAgent)===null||n===void 0?void 0:n.toLowerCase().indexOf(" electron/"))>-1&&Me!=null&&Me.versions?!Object.prototype.hasOwnProperty.call(Me.versions,"electron"):typeof window.document<"u":!1},s=()=>{var n,e;return!!(typeof self=="object"&&!((e=(n=self==null?void 0:self.constructor)===null||n===void 0?void 0:n.name)===null||e===void 0)&&e.includes("WorkerGlobalScope"))},l=()=>typeof navigator<"u"&&navigator.product==="ReactNative",f=c()||s()||l();o.isWebWorker=s(),o.isReactNativeBrowser=l(),o.default=f}),La=be((o,c)=>{he(),ce(),fe(),function(s,l){typeof o=="object"&&typeof c<"u"?l(o):typeof define=="function"&&define.amd?define(["exports"],l):(s=typeof globalThis<"u"?globalThis:s||self,l(s.fastUniqueNumbers={}))}(o,function(s){var l=function(b){return function(m){var _=b(m);return m.add(_),_}},f=function(b){return function(m,_){return b.set(m,_),_}},n=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,e=536870912,r=e*2,t=function(b,m){return function(_){var E=m.get(_),I=E===void 0?_.size:E<r?E+1:0;if(!_.has(I))return b(_,I);if(_.size<e){for(;_.has(I);)I=Math.floor(Math.random()*r);return b(_,I)}if(_.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;_.has(I);)I=Math.floor(Math.random()*n);return b(_,I)}},i=new WeakMap,h=f(i),d=t(h,i),g=l(d);s.addUniqueNumber=g,s.generateUniqueNumber=d})}),Ua=be((o,c)=>{he(),ce(),fe(),function(s,l){typeof o=="object"&&typeof c<"u"?l(o,La()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],l):(s=typeof globalThis<"u"?globalThis:s||self,l(s.workerTimersBroker={},s.fastUniqueNumbers))}(o,function(s,l){var f=function(r){return r.method!==void 0&&r.method==="call"},n=function(r){return r.error===null&&typeof r.id=="number"},e=function(r){var t=new Map([[0,function(){}]]),i=new Map([[0,function(){}]]),h=new Map,d=new Worker(r);d.addEventListener("message",function(E){var I=E.data;if(f(I)){var y=I.params,v=y.timerId,j=y.timerType;if(j==="interval"){var B=t.get(v);if(typeof B=="number"){var A=h.get(B);if(A===void 0||A.timerId!==v||A.timerType!==j)throw new Error("The timer is in an undefined state.")}else if(typeof B<"u")B();else throw new Error("The timer is in an undefined state.")}else if(j==="timeout"){var T=i.get(v);if(typeof T=="number"){var M=h.get(T);if(M===void 0||M.timerId!==v||M.timerType!==j)throw new Error("The timer is in an undefined state.")}else if(typeof T<"u")T(),i.delete(v);else throw new Error("The timer is in an undefined state.")}}else if(n(I)){var Y=I.id,X=h.get(Y);if(X===void 0)throw new Error("The timer is in an undefined state.");var ae=X.timerId,C=X.timerType;h.delete(Y),C==="interval"?t.delete(ae):i.delete(ae)}else{var G=I.error.message;throw new Error(G)}});var g=function(E){var I=l.generateUniqueNumber(h);h.set(I,{timerId:E,timerType:"interval"}),t.set(E,I),d.postMessage({id:I,method:"clear",params:{timerId:E,timerType:"interval"}})},b=function(E){var I=l.generateUniqueNumber(h);h.set(I,{timerId:E,timerType:"timeout"}),i.set(E,I),d.postMessage({id:I,method:"clear",params:{timerId:E,timerType:"timeout"}})},m=function(E){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=l.generateUniqueNumber(t);return t.set(y,function(){E(),typeof t.get(y)=="function"&&d.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:y,timerType:"interval"}})}),d.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:y,timerType:"interval"}}),y},_=function(E){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=l.generateUniqueNumber(i);return i.set(y,E),d.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:y,timerType:"timeout"}}),y};return{clearInterval:g,clearTimeout:b,setInterval:m,setTimeout:_}};s.load=e})}),ja=be((o,c)=>{he(),ce(),fe(),function(s,l){typeof o=="object"&&typeof c<"u"?l(o,Ua()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],l):(s=typeof globalThis<"u"?globalThis:s||self,l(s.workerTimers={},s.workerTimersBroker))}(o,function(s,l){var f=function(d,g){var b=null;return function(){if(b!==null)return b;var m=new Blob([g],{type:"application/javascript; charset=utf-8"}),_=URL.createObjectURL(m);return b=d(_),setTimeout(function(){return URL.revokeObjectURL(_)}),b}},n=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,e=f(l.load,n),r=function(d){return e().clearInterval(d)},t=function(d){return e().clearTimeout(d)},i=function(){var d;return(d=e()).setInterval.apply(d,arguments)},h=function(){var d;return(d=e()).setTimeout.apply(d,arguments)};s.clearInterval=r,s.clearTimeout=t,s.setInterval=i,s.setTimeout=h})}),Na=be(o=>{he(),ce(),fe();var c=o&&o.__createBinding||(Object.create?function(i,h,d,g){g===void 0&&(g=d);var b=Object.getOwnPropertyDescriptor(h,d);(!b||("get"in b?!h.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(i,g,b)}:function(i,h,d,g){g===void 0&&(g=d),i[g]=h[d]}),s=o&&o.__setModuleDefault||(Object.create?function(i,h){Object.defineProperty(i,"default",{enumerable:!0,value:h})}:function(i,h){i.default=h}),l=o&&o.__importStar||function(){var i=function(h){return i=Object.getOwnPropertyNames||function(d){var g=[];for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[g.length]=b);return g},i(h)};return function(h){if(h&&h.__esModule)return h;var d={};if(h!=null)for(var g=i(h),b=0;b<g.length;b++)g[b]!=="default"&&c(d,h,g[b]);return s(d,h),d}}();Object.defineProperty(o,"__esModule",{value:!0});var f=l(Cr()),n=ja(),e={set:n.setInterval,clear:n.clearInterval},r={set:(i,h)=>setInterval(i,h),clear:i=>clearInterval(i)},t=i=>{switch(i){case"native":return r;case"worker":return e;case"auto":default:return f.default&&!f.isWebWorker&&!f.isReactNativeBrowser?e:r}};o.default=t}),Gs=be(o=>{he(),ce(),fe();var c=o&&o.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(o,"__esModule",{value:!0});var s=c(Na()),l=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(f,n){this.destroyed=!1,this.client=f,this.timer=typeof n=="object"&&"set"in n&&"clear"in n?n:(0,s.default)(n),this.setKeepalive(f.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(f){if(f*=1e3,isNaN(f)||f<=0||f>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${f}`);this._keepalive=f,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${f}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let f=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+f,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};o.default=l}),ii=be(o=>{he(),ce(),fe();var c=o&&o.__createBinding||(Object.create?function(B,A,T,M){M===void 0&&(M=T);var Y=Object.getOwnPropertyDescriptor(A,T);(!Y||("get"in Y?!A.__esModule:Y.writable||Y.configurable))&&(Y={enumerable:!0,get:function(){return A[T]}}),Object.defineProperty(B,M,Y)}:function(B,A,T,M){M===void 0&&(M=T),B[M]=A[T]}),s=o&&o.__setModuleDefault||(Object.create?function(B,A){Object.defineProperty(B,"default",{enumerable:!0,value:A})}:function(B,A){B.default=A}),l=o&&o.__importStar||function(){var B=function(A){return B=Object.getOwnPropertyNames||function(T){var M=[];for(var Y in T)Object.prototype.hasOwnProperty.call(T,Y)&&(M[M.length]=Y);return M},B(A)};return function(A){if(A&&A.__esModule)return A;var T={};if(A!=null)for(var M=B(A),Y=0;Y<M.length;Y++)M[Y]!=="default"&&c(T,A,M[Y]);return s(T,A),T}}(),f=o&&o.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(o,"__esModule",{value:!0});var n=f(zo()),e=f(ua()),r=f(Rs()),t=Gt(),i=f(fa()),h=l(ca()),d=f(St()),g=f(xs()),b=f(Ba()),m=Zt(),_=Ma(),E=f(Gs()),I=l(Cr()),y=globalThis.setImmediate||((...B)=>{let A=B.shift();(0,m.nextTick)(()=>{A(...B)})}),v={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},j=class si extends _.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(A,T){super(),this.options=T||{};for(let M in v)typeof this.options[M]>"u"?this.options[M]=v[M]:this.options[M]=T[M];this.log=this.options.log||(0,d.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",si.VERSION),I.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",I.default?"browser":"node"),this.log("MqttClient :: options.protocol",T.protocol),this.log("MqttClient :: options.protocolVersion",T.protocolVersion),this.log("MqttClient :: options.username",T.username),this.log("MqttClient :: options.keepalive",T.keepalive),this.log("MqttClient :: options.reconnectPeriod",T.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",T.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",T.properties?T.properties.topicAliasMaximum:void 0),this.options.clientId=typeof T.clientId=="string"?T.clientId:si.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=T.protocolVersion===5&&T.customHandleAcks?T.customHandleAcks:(...M)=>{M[3](null,0)},this.options.writeCache||(e.default.writeToStream.cacheNumbers=!1),this.streamBuilder=A,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new r.default:this.options.messageIdProvider,this.outgoingStore=T.outgoingStore||new g.default,this.incomingStore=T.incomingStore||new g.default,this.queueQoSZero=T.queueQoSZero===void 0?!0:T.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,T.properties&&T.properties.topicAliasMaximum>0&&(T.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new n.default(T.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:M}=this,Y=()=>{let X=M.shift();this.log("deliver :: entry %o",X);let ae=null;if(!X){this._resubscribe();return}ae=X.packet,this.log("deliver :: call _sendPacket for %o",ae);let C=!0;ae.messageId&&ae.messageId!==0&&(this.messageIdProvider.register(ae.messageId)||(C=!1)),C?this._sendPacket(ae,G=>{X.cb&&X.cb(G),Y()}):(this.log("messageId: %d has already used. The message is skipped and removed.",ae.messageId),Y())};this.log("connect :: sending queued packets"),Y()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(A,T){T()}handleMessage(A,T){T()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var A;let T=new t.Writable,M=e.default.parser(this.options),Y=null,X=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),M.on("packet",W=>{this.log("parser :: on packet push to packets array."),X.push(W)});let ae=()=>{this.log("work :: getting next packet in queue");let W=X.shift();if(W)this.log("work :: packet pulled from queue"),(0,b.default)(this,W,C);else{this.log("work :: no packets in queue");let ge=Y;Y=null,this.log("work :: done flag is %s",!!ge),ge&&ge()}},C=()=>{if(X.length)(0,m.nextTick)(ae);else{let W=Y;Y=null,W()}};T._write=(W,ge,de)=>{Y=de,this.log("writable stream :: parsing buffer"),M.parse(W),ae()};let G=W=>{this.log("streamErrorHandler :: error",W.message),W.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",W)):this.noop(W)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(T),this.stream.on("error",G),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let J={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(J.will=Object.assign(Object.assign({},this.options.will),{payload:(A=this.options.will)===null||A===void 0?void 0:A.payload})),this.topicAliasRecv&&(J.properties||(J.properties={}),this.topicAliasRecv&&(J.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(J),M.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let W=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(W)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(A,T,M,Y){this.log("publish :: message `%s` to topic `%s`",T,A);let{options:X}=this;typeof M=="function"&&(Y=M,M=null),M=M||{},M=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),M);let{qos:ae,retain:C,dup:G,properties:J,cbStorePut:W}=M;if(this._checkDisconnecting(Y))return this;let ge=()=>{let de=0;if((ae===1||ae===2)&&(de=this._nextId(),de===null))return this.log("No messageId left"),!1;let le={cmd:"publish",topic:A,payload:T,qos:ae,retain:C,messageId:de,dup:G};switch(X.protocolVersion===5&&(le.properties=J),this.log("publish :: qos",ae),ae){case 1:case 2:this.outgoing[le.messageId]={volatile:!1,cb:Y||this.noop},this.log("MqttClient:publish: packet cmd: %s",le.cmd),this._sendPacket(le,void 0,W);break;default:this.log("MqttClient:publish: packet cmd: %s",le.cmd),this._sendPacket(le,Y,W);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ge())&&this._storeProcessingQueue.push({invoke:ge,cbStorePut:M.cbStorePut,callback:Y}),this}publishAsync(A,T,M){return new Promise((Y,X)=>{this.publish(A,T,M,(ae,C)=>{ae?X(ae):Y(C)})})}subscribe(A,T,M){let Y=this.options.protocolVersion;typeof T=="function"&&(M=T),M=M||this.noop;let X=!1,ae=[];typeof A=="string"?(A=[A],ae=A):Array.isArray(A)?ae=A:typeof A=="object"&&(X=A.resubscribe,delete A.resubscribe,ae=Object.keys(A));let C=h.validateTopics(ae);if(C!==null)return y(M,new Error(`Invalid topic ${C}`)),this;if(this._checkDisconnecting(M))return this.log("subscribe: discconecting true"),this;let G={qos:0};Y===5&&(G.nl=!1,G.rap=!1,G.rh=0),T=Object.assign(Object.assign({},G),T);let J=T.properties,W=[],ge=(le,Ee)=>{if(Ee=Ee||T,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,le)||this._resubscribeTopics[le].qos<Ee.qos||X){let z={topic:le,qos:Ee.qos};Y===5&&(z.nl=Ee.nl,z.rap=Ee.rap,z.rh=Ee.rh,z.properties=J),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",z.topic,z.qos),W.push(z)}};if(Array.isArray(A)?A.forEach(le=>{this.log("subscribe: array topic %s",le),ge(le)}):Object.keys(A).forEach(le=>{this.log("subscribe: object topic %s, %o",le,A[le]),ge(le,A[le])}),!W.length)return M(null,[]),this;let de=()=>{let le=this._nextId();if(le===null)return this.log("No messageId left"),!1;let Ee={cmd:"subscribe",subscriptions:W,messageId:le};if(J&&(Ee.properties=J),this.options.resubscribe){this.log("subscribe :: resubscribe true");let z=[];W.forEach(pe=>{if(this.options.reconnectPeriod>0){let R={qos:pe.qos};Y===5&&(R.nl=pe.nl||!1,R.rap=pe.rap||!1,R.rh=pe.rh||0,R.properties=pe.properties),this._resubscribeTopics[pe.topic]=R,z.push(pe.topic)}}),this.messageIdToTopic[Ee.messageId]=z}return this.outgoing[Ee.messageId]={volatile:!0,cb(z,pe){if(!z){let{granted:R}=pe;for(let ne=0;ne<R.length;ne+=1)W[ne].qos=R[ne]}M(z,W,pe)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(Ee),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!de())&&this._storeProcessingQueue.push({invoke:de,callback:M}),this}subscribeAsync(A,T){return new Promise((M,Y)=>{this.subscribe(A,T,(X,ae)=>{X?Y(X):M(ae)})})}unsubscribe(A,T,M){typeof A=="string"&&(A=[A]),typeof T=="function"&&(M=T),M=M||this.noop;let Y=h.validateTopics(A);if(Y!==null)return y(M,new Error(`Invalid topic ${Y}`)),this;if(this._checkDisconnecting(M))return this;let X=()=>{let ae=this._nextId();if(ae===null)return this.log("No messageId left"),!1;let C={cmd:"unsubscribe",messageId:ae,unsubscriptions:[]};return typeof A=="string"?C.unsubscriptions=[A]:Array.isArray(A)&&(C.unsubscriptions=A),this.options.resubscribe&&C.unsubscriptions.forEach(G=>{delete this._resubscribeTopics[G]}),typeof T=="object"&&T.properties&&(C.properties=T.properties),this.outgoing[C.messageId]={volatile:!0,cb:M},this.log("unsubscribe: call _sendPacket"),this._sendPacket(C),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!X())&&this._storeProcessingQueue.push({invoke:X,callback:M}),this}unsubscribeAsync(A,T){return new Promise((M,Y)=>{this.unsubscribe(A,T,(X,ae)=>{X?Y(X):M(ae)})})}end(A,T,M){this.log("end :: (%s)",this.options.clientId),(A==null||typeof A!="boolean")&&(M=M||T,T=A,A=!1),typeof T!="object"&&(M=M||T,T=null),this.log("end :: cb? %s",!!M),(!M||typeof M!="function")&&(M=this.noop);let Y=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(ae=>{this.outgoingStore.close(C=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),M){let G=ae||C;this.log("end :: closeStores: invoking callback with args"),M(G)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},X=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,A),this._cleanUp(A,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,m.nextTick)(Y)},T)};return this.disconnecting?(M(),this):(this._clearReconnect(),this.disconnecting=!0,!A&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,X,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),X()),this)}endAsync(A,T){return new Promise((M,Y)=>{this.end(A,T,X=>{X?Y(X):M()})})}removeOutgoingMessage(A){if(this.outgoing[A]){let{cb:T}=this.outgoing[A];this._removeOutgoingAndStoreMessage(A,()=>{T(new Error("Message removed"))})}return this}reconnect(A){this.log("client reconnect");let T=()=>{A?(this.options.incomingStore=A.incomingStore,this.options.outgoingStore=A.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=T:T(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(A=>{this.outgoing[A].volatile&&typeof this.outgoing[A].cb=="function"&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(A=>{typeof this.outgoing[A].cb=="function"&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_removeTopicAliasAndRecoverTopicName(A){let T;A.properties&&(T=A.properties.topicAlias);let M=A.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",T,M),M.length===0){if(typeof T>"u")return new Error("Unregistered Topic Alias");if(M=this.topicAliasSend.getTopicByAlias(T),typeof M>"u")return new Error("Unregistered Topic Alias");A.topic=M}T&&delete A.properties.topicAlias}_checkDisconnecting(A){return this.disconnecting&&(A&&A!==this.noop?A(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(A,T,M={}){if(T&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",T)),this.log("_cleanUp :: forced? %s",A),A)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let Y=Object.assign({cmd:"disconnect"},M);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(Y,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),y(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),T&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",T),T())}_storeAndSend(A,T,M){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",A.cmd);let Y=A,X;if(Y.cmd==="publish"&&(Y=(0,i.default)(A),X=this._removeTopicAliasAndRecoverTopicName(Y),X))return T&&T(X);this.outgoingStore.put(Y,ae=>{if(ae)return T&&T(ae);M(),this._writePacket(A,T)})}_applyTopicAlias(A){if(this.options.protocolVersion===5&&A.cmd==="publish"){let T;A.properties&&(T=A.properties.topicAlias);let M=A.topic.toString();if(this.topicAliasSend)if(T){if(M.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",M,T),!this.topicAliasSend.put(M,T)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,T),new Error("Sending Topic Alias out of range")}else M.length!==0&&(this.options.autoAssignTopicAlias?(T=this.topicAliasSend.getAliasByTopic(M),T?(A.topic="",A.properties=Object.assign(Object.assign({},A.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",M,T)):(T=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(M,T),A.properties=Object.assign(Object.assign({},A.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",M,T))):this.options.autoUseTopicAlias&&(T=this.topicAliasSend.getAliasByTopic(M),T&&(A.topic="",A.properties=Object.assign(Object.assign({},A.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",M,T))));else if(T)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,T),new Error("Sending Topic Alias out of range")}}_noop(A){this.log("noop ::",A)}_writePacket(A,T){this.log("_writePacket :: packet: %O",A),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",A),this.log("_writePacket :: writing to stream");let M=e.default.writeToStream(A,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",M),!M&&T&&T!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",T)):T&&(this.log("_writePacket :: invoking cb"),T())}_sendPacket(A,T,M,Y){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),M=M||this.noop,T=T||this.noop;let X=this._applyTopicAlias(A);if(X){T(X);return}if(!this.connected){if(A.cmd==="auth"){this._writePacket(A,T);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(A,T,M);return}if(Y){this._writePacket(A,T);return}switch(A.cmd){case"publish":break;case"pubrel":this._storeAndSend(A,T,M);return;default:this._writePacket(A,T);return}switch(A.qos){case 2:case 1:this._storeAndSend(A,T,M);break;case 0:default:this._writePacket(A,T);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(A,T,M){this.log("_storePacket :: packet: %o",A),this.log("_storePacket :: cb? %s",!!T),M=M||this.noop;let Y=A;if(Y.cmd==="publish"){Y=(0,i.default)(A);let ae=this._removeTopicAliasAndRecoverTopicName(Y);if(ae)return T&&T(ae)}let X=Y.qos||0;X===0&&this.queueQoSZero||Y.cmd!=="publish"?this.queue.push({packet:Y,cb:T}):X>0?(T=this.outgoing[Y.messageId]?this.outgoing[Y.messageId].cb:null,this.outgoingStore.put(Y,ae=>{if(ae)return T&&T(ae);M()})):T&&T(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new E.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(A=!1){this.keepaliveManager&&this.options.keepalive&&(A||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let A=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&A.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let T=0;T<A.length;T++){let M={};M[A[T]]=this._resubscribeTopics[A[T]],M.resubscribe=!0,this.subscribe(M,{properties:M[A[T]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(A){if(this.disconnected){this.emit("connect",A);return}this.connackPacket=A,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let T=()=>{let M=this.outgoingStore.createStream(),Y=()=>{M.destroy(),M=null,this._flushStoreProcessingQueue(),X()},X=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",Y),M.on("error",C=>{X(),this._flushStoreProcessingQueue(),this.removeListener("close",Y),this.emit("error",C)});let ae=()=>{if(!M)return;let C=M.read(1),G;if(!C){M.once("readable",ae);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[C.messageId]){ae();return}!this.disconnecting&&!this.reconnectTimer?(G=this.outgoing[C.messageId]?this.outgoing[C.messageId].cb:null,this.outgoing[C.messageId]={volatile:!1,cb(J,W){G&&G(J,W),ae()}},this._packetIdsDuringStoreProcessing[C.messageId]=!0,this.messageIdProvider.register(C.messageId)?this._sendPacket(C,void 0,void 0,!0):this.log("messageId: %d has already used.",C.messageId)):M.destroy&&M.destroy()};M.on("end",()=>{let C=!0;for(let G in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[G]){C=!1;break}this.removeListener("close",Y),C?(X(),this._invokeAllStoreProcessingQueue(),this.emit("connect",A)):T()}),ae()};T()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let A=this._storeProcessingQueue[0];if(A&&A.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let A of this._storeProcessingQueue)A.cbStorePut&&A.cbStorePut(new Error("Connection closed")),A.callback&&A.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(A,T){delete this.outgoing[A],this.outgoingStore.del({messageId:A},(M,Y)=>{T(M,Y),this.messageIdProvider.deallocate(A),this._invokeStoreProcessingQueue()})}};j.VERSION=m.MQTTJS_VERSION,o.default=j}),Da=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0});var c=Ks(),s=class{constructor(){this.numberAllocator=new c.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(l){return this.numberAllocator.use(l)}deallocate(l){this.numberAllocator.free(l)}clear(){this.numberAllocator.clear()}};o.default=s});function Nt(o){throw new RangeError(Ys[o])}function Bi(o,c){let s=o.split("@"),l="";s.length>1&&(l=s[0]+"@",o=s[1]);let f=function(n,e){let r=[],t=n.length;for(;t--;)r[t]=e(n[t]);return r}((o=o.replace(Qs,".")).split("."),c).join(".");return l+f}function Mi(o){let c=[],s=0,l=o.length;for(;s<l;){let f=o.charCodeAt(s++);if(f>=55296&&f<=56319&&s<l){let n=o.charCodeAt(s++);(64512&n)==56320?c.push(((1023&f)<<10)+(1023&n)+65536):(c.push(f),s--)}else c.push(f)}return c}var Li,Ui,Qs,Ys,ut,hr,Dr,Fr,Wr,qr,xt,Fa=tt(()=>{he(),ce(),fe(),Li=/^xn--/,Ui=/[^\0-\x7E]/,Qs=/[\x2E\u3002\uFF0E\uFF61]/g,Ys={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ut=Math.floor,hr=String.fromCharCode,Dr=function(o,c){return o+22+75*(o<26)-((c!=0)<<5)},Fr=function(o,c,s){let l=0;for(o=s?ut(o/700):o>>1,o+=ut(o/c);o>455;l+=36)o=ut(o/35);return ut(l+36*o/(o+38))},Wr=function(o){let c=[],s=o.length,l=0,f=128,n=72,e=o.lastIndexOf("-");e<0&&(e=0);for(let t=0;t<e;++t)o.charCodeAt(t)>=128&&Nt("not-basic"),c.push(o.charCodeAt(t));for(let t=e>0?e+1:0;t<s;){let i=l;for(let d=1,g=36;;g+=36){t>=s&&Nt("invalid-input");let b=(r=o.charCodeAt(t++))-48<10?r-22:r-65<26?r-65:r-97<26?r-97:36;(b>=36||b>ut((2147483647-l)/d))&&Nt("overflow"),l+=b*d;let m=g<=n?1:g>=n+26?26:g-n;if(b<m)break;let _=36-m;d>ut(2147483647/_)&&Nt("overflow"),d*=_}let h=c.length+1;n=Fr(l-i,h,i==0),ut(l/h)>2147483647-f&&Nt("overflow"),f+=ut(l/h),l%=h,c.splice(l++,0,f)}var r;return String.fromCodePoint(...c)},qr=function(o){let c=[],s=(o=Mi(o)).length,l=128,f=0,n=72;for(let t of o)t<128&&c.push(hr(t));let e=c.length,r=e;for(e&&c.push("-");r<s;){let t=2147483647;for(let h of o)h>=l&&h<t&&(t=h);let i=r+1;t-l>ut((2147483647-f)/i)&&Nt("overflow"),f+=(t-l)*i,l=t;for(let h of o)if(h<l&&++f>2147483647&&Nt("overflow"),h==l){let d=f;for(let g=36;;g+=36){let b=g<=n?1:g>=n+26?26:g-n;if(d<b)break;let m=d-b,_=36-b;c.push(hr(Dr(b+m%_,0))),d=ut(m/_)}c.push(hr(Dr(d,0))),n=Fr(f,i,r==e),f=0,++r}++f,++l}return c.join("")},xt={version:"2.1.0",ucs2:{decode:Mi,encode:o=>String.fromCodePoint(...o)},decode:Wr,encode:qr,toASCII:function(o){return Bi(o,function(c){return Ui.test(c)?"xn--"+qr(c):c})},toUnicode:function(o){return Bi(o,function(c){return Li.test(c)?Wr(c.slice(4).toLowerCase()):c})}},xt.decode,xt.encode,xt.toASCII,xt.toUnicode,xt.ucs2,xt.version});function Wa(o,c){return Object.prototype.hasOwnProperty.call(o,c)}var ji,Qt,Ni,ct,qa=tt(()=>{he(),ce(),fe(),ji=function(o,c,s,l){c=c||"&",s=s||"=";var f={};if(typeof o!="string"||o.length===0)return f;var n=/\+/g;o=o.split(c);var e=1e3;l&&typeof l.maxKeys=="number"&&(e=l.maxKeys);var r=o.length;e>0&&r>e&&(r=e);for(var t=0;t<r;++t){var i,h,d,g,b=o[t].replace(n,"%20"),m=b.indexOf(s);m>=0?(i=b.substr(0,m),h=b.substr(m+1)):(i=b,h=""),d=decodeURIComponent(i),g=decodeURIComponent(h),Wa(f,d)?Array.isArray(f[d])?f[d].push(g):f[d]=[f[d],g]:f[d]=g}return f},Qt=function(o){switch(typeof o){case"string":return o;case"boolean":return o?"true":"false";case"number":return isFinite(o)?o:"";default:return""}},Ni=function(o,c,s,l){return c=c||"&",s=s||"=",o===null&&(o=void 0),typeof o=="object"?Object.keys(o).map(function(f){var n=encodeURIComponent(Qt(f))+s;return Array.isArray(o[f])?o[f].map(function(e){return n+encodeURIComponent(Qt(e))}).join(c):n+encodeURIComponent(Qt(o[f]))}).join(c):l?encodeURIComponent(Qt(l))+s+encodeURIComponent(Qt(o)):""},ct={},ct.decode=ct.parse=ji,ct.encode=ct.stringify=Ni,ct.decode,ct.encode,ct.parse,ct.stringify});function oi(){throw new Error("setTimeout has not been defined")}function ai(){throw new Error("clearTimeout has not been defined")}function Js(o){if(wt===setTimeout)return setTimeout(o,0);if((wt===oi||!wt)&&setTimeout)return wt=setTimeout,setTimeout(o,0);try{return wt(o,0)}catch{try{return wt.call(null,o,0)}catch{return wt.call(this||Ht,o,0)}}}function $a(){Vt&&qt&&(Vt=!1,qt.length?pt=qt.concat(pt):or=-1,pt.length&&Xs())}function Xs(){if(!Vt){var o=Js($a);Vt=!0;for(var c=pt.length;c;){for(qt=pt,pt=[];++or<c;)qt&&qt[or].run();or=-1,c=pt.length}qt=null,Vt=!1,function(s){if(_t===clearTimeout)return clearTimeout(s);if((_t===ai||!_t)&&clearTimeout)return _t=clearTimeout,clearTimeout(s);try{_t(s)}catch{try{return _t.call(null,s)}catch{return _t.call(this||Ht,s)}}}(o)}}function Di(o,c){(this||Ht).fun=o,(this||Ht).array=c}function bt(){}var Fi,wt,_t,Ht,ze,qt,pt,Vt,or,He,Ha=tt(()=>{he(),ce(),fe(),Ht=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ze=Fi={},function(){try{wt=typeof setTimeout=="function"?setTimeout:oi}catch{wt=oi}try{_t=typeof clearTimeout=="function"?clearTimeout:ai}catch{_t=ai}}(),pt=[],Vt=!1,or=-1,ze.nextTick=function(o){var c=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)c[s-1]=arguments[s];pt.push(new Di(o,c)),pt.length!==1||Vt||Js(Xs)},Di.prototype.run=function(){(this||Ht).fun.apply(null,(this||Ht).array)},ze.title="browser",ze.browser=!0,ze.env={},ze.argv=[],ze.version="",ze.versions={},ze.on=bt,ze.addListener=bt,ze.once=bt,ze.off=bt,ze.removeListener=bt,ze.removeAllListeners=bt,ze.emit=bt,ze.prependListener=bt,ze.prependOnceListener=bt,ze.listeners=function(o){return[]},ze.binding=function(o){throw new Error("process.binding is not supported")},ze.cwd=function(){return"/"},ze.chdir=function(o){throw new Error("process.chdir is not supported")},ze.umask=function(){return 0},He=Fi,He.addListener,He.argv,He.binding,He.browser,He.chdir,He.cwd,He.emit,He.env,He.listeners,He.nextTick,He.off,He.on,He.once,He.prependListener,He.prependOnceListener,He.removeAllListeners,He.removeListener,He.title,He.umask,He.version,He.versions});function Va(){if(li)return _r;li=!0;var o=_r={},c,s;function l(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?c=setTimeout:c=l}catch{c=l}try{typeof clearTimeout=="function"?s=clearTimeout:s=f}catch{s=f}})();function n(_){if(c===setTimeout)return setTimeout(_,0);if((c===l||!c)&&setTimeout)return c=setTimeout,setTimeout(_,0);try{return c(_,0)}catch{try{return c.call(null,_,0)}catch{return c.call(this||Ft,_,0)}}}function e(_){if(s===clearTimeout)return clearTimeout(_);if((s===f||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(_);try{return s(_)}catch{try{return s.call(null,_)}catch{return s.call(this||Ft,_)}}}var r=[],t=!1,i,h=-1;function d(){!t||!i||(t=!1,i.length?r=i.concat(r):h=-1,r.length&&g())}function g(){if(!t){var _=n(d);t=!0;for(var E=r.length;E;){for(i=r,r=[];++h<E;)i&&i[h].run();h=-1,E=r.length}i=null,t=!1,e(_)}}o.nextTick=function(_){var E=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)E[I-1]=arguments[I];r.push(new b(_,E)),r.length===1&&!t&&n(g)};function b(_,E){(this||Ft).fun=_,(this||Ft).array=E}b.prototype.run=function(){(this||Ft).fun.apply(null,(this||Ft).array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function m(){}return o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(_){return[]},o.binding=function(_){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(_){throw new Error("process.chdir is not supported")},o.umask=function(){return 0},_r}var _r,li,Ft,qe,Zs=tt(()=>{he(),ce(),fe(),_r={},li=!1,Ft=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,qe=Va(),qe.platform="browser",qe.addListener,qe.argv,qe.binding,qe.browser,qe.chdir,qe.cwd,qe.emit,qe.env,qe.listeners,qe.nextTick,qe.off,qe.on,qe.once,qe.prependListener,qe.prependOnceListener,qe.removeAllListeners,qe.removeListener,qe.title,qe.umask,qe.version,qe.versions});function za(){if(ui)return vr;ui=!0;var o=qe;function c(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function s(n,e){for(var r="",t=0,i=-1,h=0,d,g=0;g<=n.length;++g){if(g<n.length)d=n.charCodeAt(g);else{if(d===47)break;d=47}if(d===47){if(!(i===g-1||h===1))if(i!==g-1&&h===2){if(r.length<2||t!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var b=r.lastIndexOf("/");if(b!==r.length-1){b===-1?(r="",t=0):(r=r.slice(0,b),t=r.length-1-r.lastIndexOf("/")),i=g,h=0;continue}}else if(r.length===2||r.length===1){r="",t=0,i=g,h=0;continue}}e&&(r.length>0?r+="/..":r="..",t=2)}else r.length>0?r+="/"+n.slice(i+1,g):r=n.slice(i+1,g),t=g-i-1;i=g,h=0}else d===46&&h!==-1?++h:h=-1}return r}function l(n,e){var r=e.dir||e.root,t=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+t:r+n+t:t}var f={resolve:function(){for(var n="",e=!1,r,t=arguments.length-1;t>=-1&&!e;t--){var i;t>=0?i=arguments[t]:(r===void 0&&(r=o.cwd()),i=r),c(i),i.length!==0&&(n=i+"/"+n,e=i.charCodeAt(0)===47)}return n=s(n,!e),e?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(c(n),n.length===0)return".";var e=n.charCodeAt(0)===47,r=n.charCodeAt(n.length-1)===47;return n=s(n,!e),n.length===0&&!e&&(n="."),n.length>0&&r&&(n+="/"),e?"/"+n:n},isAbsolute:function(n){return c(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,e=0;e<arguments.length;++e){var r=arguments[e];c(r),r.length>0&&(n===void 0?n=r:n+="/"+r)}return n===void 0?".":f.normalize(n)},relative:function(n,e){if(c(n),c(e),n===e||(n=f.resolve(n),e=f.resolve(e),n===e))return"";for(var r=1;r<n.length&&n.charCodeAt(r)===47;++r);for(var t=n.length,i=t-r,h=1;h<e.length&&e.charCodeAt(h)===47;++h);for(var d=e.length,g=d-h,b=i<g?i:g,m=-1,_=0;_<=b;++_){if(_===b){if(g>b){if(e.charCodeAt(h+_)===47)return e.slice(h+_+1);if(_===0)return e.slice(h+_)}else i>b&&(n.charCodeAt(r+_)===47?m=_:_===0&&(m=0));break}var E=n.charCodeAt(r+_),I=e.charCodeAt(h+_);if(E!==I)break;E===47&&(m=_)}var y="";for(_=r+m+1;_<=t;++_)(_===t||n.charCodeAt(_)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+e.slice(h+m):(h+=m,e.charCodeAt(h)===47&&++h,e.slice(h))},_makeLong:function(n){return n},dirname:function(n){if(c(n),n.length===0)return".";for(var e=n.charCodeAt(0),r=e===47,t=-1,i=!0,h=n.length-1;h>=1;--h)if(e=n.charCodeAt(h),e===47){if(!i){t=h;break}}else i=!1;return t===-1?r?"/":".":r&&t===1?"//":n.slice(0,t)},basename:function(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');c(n);var r=0,t=-1,i=!0,h;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";var d=e.length-1,g=-1;for(h=n.length-1;h>=0;--h){var b=n.charCodeAt(h);if(b===47){if(!i){r=h+1;break}}else g===-1&&(i=!1,g=h+1),d>=0&&(b===e.charCodeAt(d)?--d===-1&&(t=h):(d=-1,t=g))}return r===t?t=g:t===-1&&(t=n.length),n.slice(r,t)}else{for(h=n.length-1;h>=0;--h)if(n.charCodeAt(h)===47){if(!i){r=h+1;break}}else t===-1&&(i=!1,t=h+1);return t===-1?"":n.slice(r,t)}},extname:function(n){c(n);for(var e=-1,r=0,t=-1,i=!0,h=0,d=n.length-1;d>=0;--d){var g=n.charCodeAt(d);if(g===47){if(!i){r=d+1;break}continue}t===-1&&(i=!1,t=d+1),g===46?e===-1?e=d:h!==1&&(h=1):e!==-1&&(h=-1)}return e===-1||t===-1||h===0||h===1&&e===t-1&&e===r+1?"":n.slice(e,t)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return l("/",n)},parse:function(n){c(n);var e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;var r=n.charCodeAt(0),t=r===47,i;t?(e.root="/",i=1):i=0;for(var h=-1,d=0,g=-1,b=!0,m=n.length-1,_=0;m>=i;--m){if(r=n.charCodeAt(m),r===47){if(!b){d=m+1;break}continue}g===-1&&(b=!1,g=m+1),r===46?h===-1?h=m:_!==1&&(_=1):h!==-1&&(_=-1)}return h===-1||g===-1||_===0||_===1&&h===g-1&&h===d+1?g!==-1&&(d===0&&t?e.base=e.name=n.slice(1,g):e.base=e.name=n.slice(d,g)):(d===0&&t?(e.name=n.slice(1,h),e.base=n.slice(1,g)):(e.name=n.slice(d,h),e.base=n.slice(d,g)),e.ext=n.slice(h,g)),d>0?e.dir=n.slice(0,d-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};return f.posix=f,vr=f,vr}var vr,ui,hi,Ka=tt(()=>{he(),ce(),fe(),Zs(),vr={},ui=!1,hi=za()}),eo={};Jt(eo,{URL:()=>wo,Url:()=>po,default:()=>Le,fileURLToPath:()=>to,format:()=>go,parse:()=>yo,pathToFileURL:()=>ro,resolve:()=>bo,resolveObject:()=>mo});function lt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function tr(o,c,s){if(o&&ht.isObject(o)&&o instanceof lt)return o;var l=new lt;return l.parse(o,c,s),l}function Ga(){if(fi)return Er;fi=!0;var o=He;function c(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function s(n,e){for(var r="",t=0,i=-1,h=0,d,g=0;g<=n.length;++g){if(g<n.length)d=n.charCodeAt(g);else{if(d===47)break;d=47}if(d===47){if(!(i===g-1||h===1))if(i!==g-1&&h===2){if(r.length<2||t!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var b=r.lastIndexOf("/");if(b!==r.length-1){b===-1?(r="",t=0):(r=r.slice(0,b),t=r.length-1-r.lastIndexOf("/")),i=g,h=0;continue}}else if(r.length===2||r.length===1){r="",t=0,i=g,h=0;continue}}e&&(r.length>0?r+="/..":r="..",t=2)}else r.length>0?r+="/"+n.slice(i+1,g):r=n.slice(i+1,g),t=g-i-1;i=g,h=0}else d===46&&h!==-1?++h:h=-1}return r}function l(n,e){var r=e.dir||e.root,t=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+t:r+n+t:t}var f={resolve:function(){for(var n="",e=!1,r,t=arguments.length-1;t>=-1&&!e;t--){var i;t>=0?i=arguments[t]:(r===void 0&&(r=o.cwd()),i=r),c(i),i.length!==0&&(n=i+"/"+n,e=i.charCodeAt(0)===47)}return n=s(n,!e),e?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(c(n),n.length===0)return".";var e=n.charCodeAt(0)===47,r=n.charCodeAt(n.length-1)===47;return n=s(n,!e),n.length===0&&!e&&(n="."),n.length>0&&r&&(n+="/"),e?"/"+n:n},isAbsolute:function(n){return c(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,e=0;e<arguments.length;++e){var r=arguments[e];c(r),r.length>0&&(n===void 0?n=r:n+="/"+r)}return n===void 0?".":f.normalize(n)},relative:function(n,e){if(c(n),c(e),n===e||(n=f.resolve(n),e=f.resolve(e),n===e))return"";for(var r=1;r<n.length&&n.charCodeAt(r)===47;++r);for(var t=n.length,i=t-r,h=1;h<e.length&&e.charCodeAt(h)===47;++h);for(var d=e.length,g=d-h,b=i<g?i:g,m=-1,_=0;_<=b;++_){if(_===b){if(g>b){if(e.charCodeAt(h+_)===47)return e.slice(h+_+1);if(_===0)return e.slice(h+_)}else i>b&&(n.charCodeAt(r+_)===47?m=_:_===0&&(m=0));break}var E=n.charCodeAt(r+_),I=e.charCodeAt(h+_);if(E!==I)break;E===47&&(m=_)}var y="";for(_=r+m+1;_<=t;++_)(_===t||n.charCodeAt(_)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+e.slice(h+m):(h+=m,e.charCodeAt(h)===47&&++h,e.slice(h))},_makeLong:function(n){return n},dirname:function(n){if(c(n),n.length===0)return".";for(var e=n.charCodeAt(0),r=e===47,t=-1,i=!0,h=n.length-1;h>=1;--h)if(e=n.charCodeAt(h),e===47){if(!i){t=h;break}}else i=!1;return t===-1?r?"/":".":r&&t===1?"//":n.slice(0,t)},basename:function(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');c(n);var r=0,t=-1,i=!0,h;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";var d=e.length-1,g=-1;for(h=n.length-1;h>=0;--h){var b=n.charCodeAt(h);if(b===47){if(!i){r=h+1;break}}else g===-1&&(i=!1,g=h+1),d>=0&&(b===e.charCodeAt(d)?--d===-1&&(t=h):(d=-1,t=g))}return r===t?t=g:t===-1&&(t=n.length),n.slice(r,t)}else{for(h=n.length-1;h>=0;--h)if(n.charCodeAt(h)===47){if(!i){r=h+1;break}}else t===-1&&(i=!1,t=h+1);return t===-1?"":n.slice(r,t)}},extname:function(n){c(n);for(var e=-1,r=0,t=-1,i=!0,h=0,d=n.length-1;d>=0;--d){var g=n.charCodeAt(d);if(g===47){if(!i){r=d+1;break}continue}t===-1&&(i=!1,t=d+1),g===46?e===-1?e=d:h!==1&&(h=1):e!==-1&&(h=-1)}return e===-1||t===-1||h===0||h===1&&e===t-1&&e===r+1?"":n.slice(e,t)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return l("/",n)},parse:function(n){c(n);var e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;var r=n.charCodeAt(0),t=r===47,i;t?(e.root="/",i=1):i=0;for(var h=-1,d=0,g=-1,b=!0,m=n.length-1,_=0;m>=i;--m){if(r=n.charCodeAt(m),r===47){if(!b){d=m+1;break}continue}g===-1&&(b=!1,g=m+1),r===46?h===-1?h=m:_!==1&&(_=1):h!==-1&&(_=-1)}return h===-1||g===-1||_===0||_===1&&h===g-1&&h===d+1?g!==-1&&(d===0&&t?e.base=e.name=n.slice(1,g):e.base=e.name=n.slice(d,g)):(d===0&&t?(e.name=n.slice(1,h),e.base=n.slice(1,g)):(e.name=n.slice(d,h),e.base=n.slice(d,g)),e.ext=n.slice(h,g)),d>0?e.dir=n.slice(0,d-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};return f.posix=f,Er=f,Er}function Qa(o){if(typeof o=="string")o=new URL(o);else if(!(o instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(o.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Ar?Ya(o):Ja(o)}function Ya(o){let c=o.hostname,s=o.pathname;for(let l=0;l<s.length;l++)if(s[l]==="%"){let f=s.codePointAt(l+2)||32;if(s[l+1]==="2"&&f===102||s[l+1]==="5"&&f===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(s=s.replace(ao,"\\"),s=decodeURIComponent(s),c!=="")return`\\\\${c}${s}`;{let l=s.codePointAt(1)|32,f=s[2];if(l<so||l>oo||f!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return s.slice(1)}}function Ja(o){if(o.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let c=o.pathname;for(let s=0;s<c.length;s++)if(c[s]==="%"){let l=c.codePointAt(s+2)||32;if(c[s+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(c)}function Xa(o){let c=ci.resolve(o),s=o.charCodeAt(o.length-1);(s===io||Ar&&s===no)&&c[c.length-1]!==ci.sep&&(c+="/");let l=new URL("file://");return c.includes("%")&&(c=c.replace(lo,"%25")),!Ar&&c.includes("\\")&&(c=c.replace(uo,"%5C")),c.includes(`
`)&&(c=c.replace(ho,"%0A")),c.includes("\r")&&(c=c.replace(fo,"%0D")),c.includes("	")&&(c=c.replace(co,"%09")),l.pathname=c,l}function to(o){if(typeof o=="string")o=new URL(o);else if(!(o instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(o.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Ir?Za(o):el(o)}function Za(o){let c=o.hostname,s=o.pathname;for(let l=0;l<s.length;l++)if(s[l]==="%"){let f=s.codePointAt(l+2)||32;if(s[l+1]==="2"&&f===102||s[l+1]==="5"&&f===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(s=s.replace(Ao,"\\"),s=decodeURIComponent(s),c!=="")return`\\\\${c}${s}`;{let l=s.codePointAt(1)|32,f=s[2];if(l<Eo||l>So||f!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return s.slice(1)}}function el(o){if(o.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let c=o.pathname;for(let s=0;s<c.length;s++)if(c[s]==="%"){let l=c.codePointAt(s+2)||32;if(c[s+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(c)}function ro(o){let c=hi.resolve(o),s=o.charCodeAt(o.length-1);(s===vo||Ir&&s===_o)&&c[c.length-1]!==hi.sep&&(c+="/");let l=new URL("file://");return c.includes("%")&&(c=c.replace(Io,"%25")),!Ir&&c.includes("\\")&&(c=c.replace(ko,"%5C")),c.includes(`
`)&&(c=c.replace(To,"%0A")),c.includes("\r")&&(c=c.replace(Oo,"%0D")),c.includes("	")&&(c=c.replace(Po,"%09")),l.pathname=c,l}var Le,Wi,ht,qi,$i,Hi,Vi,fr,$r,Hr,Vr,zi,Ki,cr,Dt,dr,Er,fi,ci,Gi,no,io,so,oo,Ar,ao,lo,uo,ho,fo,co,Qi,po,go,bo,mo,yo,wo,_o,vo,Eo,So,Ir,Ao,Io,ko,To,Oo,Po,tl=tt(()=>{he(),ce(),fe(),Fa(),qa(),Ha(),Ka(),Zs(),Le={},Wi=xt,ht={isString:function(o){return typeof o=="string"},isObject:function(o){return typeof o=="object"&&o!==null},isNull:function(o){return o===null},isNullOrUndefined:function(o){return o==null}},Le.parse=tr,Le.resolve=function(o,c){return tr(o,!1,!0).resolve(c)},Le.resolveObject=function(o,c){return o?tr(o,!1,!0).resolveObject(c):c},Le.format=function(o){return ht.isString(o)&&(o=tr(o)),o instanceof lt?o.format():lt.prototype.format.call(o)},Le.Url=lt,qi=/^([a-z0-9.+-]+:)/i,$i=/:[0-9]*$/,Hi=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Vi=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),fr=["'"].concat(Vi),$r=["%","/","?",";","#"].concat(fr),Hr=["/","?","#"],Vr=/^[+a-z0-9A-Z_-]{0,63}$/,zi=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ki={javascript:!0,"javascript:":!0},cr={javascript:!0,"javascript:":!0},Dt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},dr=ct,lt.prototype.parse=function(o,c,s){if(!ht.isString(o))throw new TypeError("Parameter 'url' must be a string, not "+typeof o);var l=o.indexOf("?"),f=l!==-1&&l<o.indexOf("#")?"?":"#",n=o.split(f);n[0]=n[0].replace(/\\/g,"/");var e=o=n.join(f);if(e=e.trim(),!s&&o.split("#").length===1){var r=Hi.exec(e);if(r)return this.path=e,this.href=e,this.pathname=r[1],r[2]?(this.search=r[2],this.query=c?dr.parse(this.search.substr(1)):this.search.substr(1)):c&&(this.search="",this.query={}),this}var t=qi.exec(e);if(t){var i=(t=t[0]).toLowerCase();this.protocol=i,e=e.substr(t.length)}if(s||t||e.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=e.substr(0,2)==="//";!h||t&&cr[t]||(e=e.substr(2),this.slashes=!0)}if(!cr[t]&&(h||t&&!Dt[t])){for(var d,g,b=-1,m=0;m<Hr.length;m++)(_=e.indexOf(Hr[m]))!==-1&&(b===-1||_<b)&&(b=_);for((g=b===-1?e.lastIndexOf("@"):e.lastIndexOf("@",b))!==-1&&(d=e.slice(0,g),e=e.slice(g+1),this.auth=decodeURIComponent(d)),b=-1,m=0;m<$r.length;m++){var _;(_=e.indexOf($r[m]))!==-1&&(b===-1||_<b)&&(b=_)}b===-1&&(b=e.length),this.host=e.slice(0,b),e=e.slice(b),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var I=this.hostname.split(/\./),y=(m=0,I.length);m<y;m++){var v=I[m];if(v&&!v.match(Vr)){for(var j="",B=0,A=v.length;B<A;B++)v.charCodeAt(B)>127?j+="x":j+=v[B];if(!j.match(Vr)){var T=I.slice(0,m),M=I.slice(m+1),Y=v.match(zi);Y&&(T.push(Y[1]),M.unshift(Y[2])),M.length&&(e="/"+M.join(".")+e),this.hostname=T.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=Wi.toASCII(this.hostname));var X=this.port?":"+this.port:"",ae=this.hostname||"";this.host=ae+X,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),e[0]!=="/"&&(e="/"+e))}if(!Ki[i])for(m=0,y=fr.length;m<y;m++){var C=fr[m];if(e.indexOf(C)!==-1){var G=encodeURIComponent(C);G===C&&(G=escape(C)),e=e.split(C).join(G)}}var J=e.indexOf("#");J!==-1&&(this.hash=e.substr(J),e=e.slice(0,J));var W=e.indexOf("?");if(W!==-1?(this.search=e.substr(W),this.query=e.substr(W+1),c&&(this.query=dr.parse(this.query)),e=e.slice(0,W)):c&&(this.search="",this.query={}),e&&(this.pathname=e),Dt[i]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){X=this.pathname||"";var ge=this.search||"";this.path=X+ge}return this.href=this.format(),this},lt.prototype.format=function(){var o=this.auth||"";o&&(o=(o=encodeURIComponent(o)).replace(/%3A/i,":"),o+="@");var c=this.protocol||"",s=this.pathname||"",l=this.hash||"",f=!1,n="";this.host?f=o+this.host:this.hostname&&(f=o+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(f+=":"+this.port)),this.query&&ht.isObject(this.query)&&Object.keys(this.query).length&&(n=dr.stringify(this.query));var e=this.search||n&&"?"+n||"";return c&&c.substr(-1)!==":"&&(c+=":"),this.slashes||(!c||Dt[c])&&f!==!1?(f="//"+(f||""),s&&s.charAt(0)!=="/"&&(s="/"+s)):f||(f=""),l&&l.charAt(0)!=="#"&&(l="#"+l),e&&e.charAt(0)!=="?"&&(e="?"+e),c+f+(s=s.replace(/[?#]/g,function(r){return encodeURIComponent(r)}))+(e=e.replace("#","%23"))+l},lt.prototype.resolve=function(o){return this.resolveObject(tr(o,!1,!0)).format()},lt.prototype.resolveObject=function(o){if(ht.isString(o)){var c=new lt;c.parse(o,!1,!0),o=c}for(var s=new lt,l=Object.keys(this),f=0;f<l.length;f++){var n=l[f];s[n]=this[n]}if(s.hash=o.hash,o.href==="")return s.href=s.format(),s;if(o.slashes&&!o.protocol){for(var e=Object.keys(o),r=0;r<e.length;r++){var t=e[r];t!=="protocol"&&(s[t]=o[t])}return Dt[s.protocol]&&s.hostname&&!s.pathname&&(s.path=s.pathname="/"),s.href=s.format(),s}if(o.protocol&&o.protocol!==s.protocol){if(!Dt[o.protocol]){for(var i=Object.keys(o),h=0;h<i.length;h++){var d=i[h];s[d]=o[d]}return s.href=s.format(),s}if(s.protocol=o.protocol,o.host||cr[o.protocol])s.pathname=o.pathname;else{for(var g=(o.pathname||"").split("/");g.length&&!(o.host=g.shift()););o.host||(o.host=""),o.hostname||(o.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),s.pathname=g.join("/")}if(s.search=o.search,s.query=o.query,s.host=o.host||"",s.auth=o.auth,s.hostname=o.hostname||o.host,s.port=o.port,s.pathname||s.search){var b=s.pathname||"",m=s.search||"";s.path=b+m}return s.slashes=s.slashes||o.slashes,s.href=s.format(),s}var _=s.pathname&&s.pathname.charAt(0)==="/",E=o.host||o.pathname&&o.pathname.charAt(0)==="/",I=E||_||s.host&&o.pathname,y=I,v=s.pathname&&s.pathname.split("/")||[],j=(g=o.pathname&&o.pathname.split("/")||[],s.protocol&&!Dt[s.protocol]);if(j&&(s.hostname="",s.port=null,s.host&&(v[0]===""?v[0]=s.host:v.unshift(s.host)),s.host="",o.protocol&&(o.hostname=null,o.port=null,o.host&&(g[0]===""?g[0]=o.host:g.unshift(o.host)),o.host=null),I=I&&(g[0]===""||v[0]==="")),E)s.host=o.host||o.host===""?o.host:s.host,s.hostname=o.hostname||o.hostname===""?o.hostname:s.hostname,s.search=o.search,s.query=o.query,v=g;else if(g.length)v||(v=[]),v.pop(),v=v.concat(g),s.search=o.search,s.query=o.query;else if(!ht.isNullOrUndefined(o.search))return j&&(s.hostname=s.host=v.shift(),(Y=!!(s.host&&s.host.indexOf("@")>0)&&s.host.split("@"))&&(s.auth=Y.shift(),s.host=s.hostname=Y.shift())),s.search=o.search,s.query=o.query,ht.isNull(s.pathname)&&ht.isNull(s.search)||(s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"")),s.href=s.format(),s;if(!v.length)return s.pathname=null,s.search?s.path="/"+s.search:s.path=null,s.href=s.format(),s;for(var B=v.slice(-1)[0],A=(s.host||o.host||v.length>1)&&(B==="."||B==="..")||B==="",T=0,M=v.length;M>=0;M--)(B=v[M])==="."?v.splice(M,1):B===".."?(v.splice(M,1),T++):T&&(v.splice(M,1),T--);if(!I&&!y)for(;T--;T)v.unshift("..");!I||v[0]===""||v[0]&&v[0].charAt(0)==="/"||v.unshift(""),A&&v.join("/").substr(-1)!=="/"&&v.push("");var Y,X=v[0]===""||v[0]&&v[0].charAt(0)==="/";return j&&(s.hostname=s.host=X?"":v.length?v.shift():"",(Y=!!(s.host&&s.host.indexOf("@")>0)&&s.host.split("@"))&&(s.auth=Y.shift(),s.host=s.hostname=Y.shift())),(I=I||s.host&&v.length)&&!X&&v.unshift(""),v.length?s.pathname=v.join("/"):(s.pathname=null,s.path=null),ht.isNull(s.pathname)&&ht.isNull(s.search)||(s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"")),s.auth=o.auth||s.auth,s.slashes=s.slashes||o.slashes,s.href=s.format(),s},lt.prototype.parseHost=function(){var o=this.host,c=$i.exec(o);c&&((c=c[0])!==":"&&(this.port=c.substr(1)),o=o.substr(0,o.length-c.length)),o&&(this.hostname=o)},Le.Url,Le.format,Le.resolve,Le.resolveObject,Er={},fi=!1,ci=Ga(),Gi=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Le.URL=typeof URL<"u"?URL:null,Le.pathToFileURL=Xa,Le.fileURLToPath=Qa,Le.Url,Le.format,Le.resolve,Le.resolveObject,Le.URL,no=92,io=47,so=97,oo=122,Ar=Gi==="win32",ao=/\//g,lo=/%/g,uo=/\\/g,ho=/\n/g,fo=/\r/g,co=/\t/g,Qi=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Le.URL=typeof URL<"u"?URL:null,Le.pathToFileURL=ro,Le.fileURLToPath=to,po=Le.Url,go=Le.format,bo=Le.resolve,mo=Le.resolveObject,yo=Le.parse,wo=Le.URL,_o=92,vo=47,Eo=97,So=122,Ir=Qi==="win32",Ao=/\//g,Io=/%/g,ko=/\\/g,To=/\n/g,Oo=/\r/g,Po=/\t/g}),rl=be((o,c)=>{he(),ce(),fe(),c.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),_i=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0}),o.BufferedDuplex=void 0,o.writev=l;var c=Gt(),s=(Ye(),je(Qe));function l(n,e){let r=new Array(n.length);for(let t=0;t<n.length;t++)typeof n[t].chunk=="string"?r[t]=s.Buffer.from(n[t].chunk,"utf8"):r[t]=n[t].chunk;this._write(s.Buffer.concat(r),"binary",e)}var f=class extends c.Duplex{constructor(n,e,r){super({objectMode:!0}),this.proxy=e,this.socket=r,this.writeQueue=[],n.objectMode||(this._writev=l.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",t=>{!this.destroyed&&this.readable&&this.push(t)})}_read(n){this.proxy.read(n)}_write(n,e,r){this.isSocketOpen?this.writeToProxy(n,e,r):this.writeQueue.push({chunk:n,encoding:e,cb:r})}_final(n){this.writeQueue=[],this.proxy.end(n)}_destroy(n,e){this.writeQueue=[],this.proxy.destroy(),e(n)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(n,e,r){this.proxy.write(n,e)===!1?this.proxy.once("drain",r):r()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:n,encoding:e,cb:r}=this.writeQueue.shift();this.writeToProxy(n,e,r)}}};o.BufferedDuplex=f}),pr=be(o=>{he(),ce(),fe();var c=o&&o.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(o,"__esModule",{value:!0}),o.streamBuilder=o.browserStreamBuilder=void 0;var s=(Ye(),je(Qe)),l=c(rl()),f=c(St()),n=Gt(),e=c(Cr()),r=_i(),t=(0,f.default)("mqttjs:ws"),i=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function h(I,y){let v=`${I.protocol}://${I.hostname}:${I.port}${I.path}`;return typeof I.transformWsUrl=="function"&&(v=I.transformWsUrl(v,I,y)),v}function d(I){let y=I;return I.port||(I.protocol==="wss"?y.port=443:y.port=80),I.path||(y.path="/"),I.wsOptions||(y.wsOptions={}),!e.default&&!I.forceNativeWebSocket&&I.protocol==="wss"&&i.forEach(v=>{Object.prototype.hasOwnProperty.call(I,v)&&!Object.prototype.hasOwnProperty.call(I.wsOptions,v)&&(y.wsOptions[v]=I[v])}),y}function g(I){let y=d(I);if(y.hostname||(y.hostname=y.host),!y.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let v=new URL(document.URL);y.hostname=v.hostname,y.port||(y.port=Number(v.port))}return y.objectMode===void 0&&(y.objectMode=!(y.binary===!0||y.binary===void 0)),y}function b(I,y,v){t("createWebSocket"),t(`protocol: ${v.protocolId} ${v.protocolVersion}`);let j=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";t(`creating new Websocket for url: ${y} and protocol: ${j}`);let B;return v.createWebsocket?B=v.createWebsocket(y,[j],v):B=new l.default(y,[j],v.wsOptions),B}function m(I,y){let v=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt",j=h(y,I),B;return y.createWebsocket?B=y.createWebsocket(j,[v],y):B=new WebSocket(j,[v]),B.binaryType="arraybuffer",B}var _=(I,y)=>{t("streamBuilder");let v=d(y);v.hostname=v.hostname||v.host||"localhost";let j=h(v,I),B=b(I,j,v),A=l.default.createWebSocketStream(B,v.wsOptions);return A.url=j,B.on("close",()=>{A.destroy()}),A};o.streamBuilder=_;var E=(I,y)=>{t("browserStreamBuilder");let v,j=g(y).browserBufferSize||1024*512,B=y.browserBufferTimeout||1e3,A=!y.objectMode,T=m(I,y),M=X(y,W,ge);y.objectMode||(M._writev=r.writev.bind(M)),M.on("close",()=>{T.close()});let Y=typeof T.addEventListener<"u";T.readyState===T.OPEN?(v=M,v.socket=T):(v=new r.BufferedDuplex(y,M,T),Y?T.addEventListener("open",ae):T.onopen=ae),Y?(T.addEventListener("close",C),T.addEventListener("error",G),T.addEventListener("message",J)):(T.onclose=C,T.onerror=G,T.onmessage=J);function X(de,le,Ee){let z=new n.Transform({objectMode:de.objectMode});return z._write=le,z._flush=Ee,z}function ae(){t("WebSocket onOpen"),v instanceof r.BufferedDuplex&&v.socketReady()}function C(de){t("WebSocket onClose",de),v.end(),v.destroy()}function G(de){t("WebSocket onError",de);let le=new Error("WebSocket error");le.event=de,v.destroy(le)}async function J(de){if(!M||M.destroyed||!M.readable)return;let{data:le}=de;le instanceof ArrayBuffer?le=s.Buffer.from(le):le instanceof Blob?le=s.Buffer.from(await new Response(le).arrayBuffer()):le=s.Buffer.from(le,"utf8"),M.push(le)}function W(de,le,Ee){if(T.bufferedAmount>j){setTimeout(W,B,de,le,Ee);return}A&&typeof de=="string"&&(de=s.Buffer.from(de,"utf8"));try{T.send(de)}catch(z){return Ee(z)}Ee()}function ge(de){T.close(),de()}return v};o.browserStreamBuilder=E}),vi={};Jt(vi,{Server:()=>$e,Socket:()=>$e,Stream:()=>$e,_createServerHandle:()=>$e,_normalizeArgs:()=>$e,_setSimultaneousAccepts:()=>$e,connect:()=>$e,createConnection:()=>$e,createServer:()=>$e,default:()=>Co,isIP:()=>$e,isIPv4:()=>$e,isIPv6:()=>$e});function $e(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Co,Ro=tt(()=>{he(),ce(),fe(),Co={_createServerHandle:$e,_normalizeArgs:$e,_setSimultaneousAccepts:$e,connect:$e,createConnection:$e,createServer:$e,isIP:$e,isIPv4:$e,isIPv6:$e,Server:$e,Socket:$e,Stream:$e}}),Yi=be(o=>{he(),ce(),fe();var c=o&&o.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0});var s=c((Ro(),je(vi))),l=c(St()),f=(0,l.default)("mqttjs:tcp"),n=(e,r)=>{r.port=r.port||1883,r.hostname=r.hostname||r.host||"localhost";let{port:t,path:i}=r,h=r.hostname;return f("port %d and host %s",t,h),s.default.createConnection({port:t,host:h,path:i})};o.default=n}),xo={};Jt(xo,{default:()=>Bo});var Bo,nl=tt(()=>{he(),ce(),fe(),Bo={}}),Ji=be(o=>{he(),ce(),fe();var c=o&&o.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(o,"__esModule",{value:!0});var s=c((nl(),je(xo))),l=c((Ro(),je(vi))),f=c(St()),n=(0,f.default)("mqttjs:tls"),e=(r,t)=>{t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",l.default.isIP(t.host)===0&&(t.servername=t.host),t.rejectUnauthorized=t.rejectUnauthorized!==!1,delete t.path,n("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);let i=s.default.connect(t);i.on("secureConnect",()=>{t.rejectUnauthorized&&!i.authorized?i.emit("error",new Error("TLS not authorized")):i.removeListener("error",h)});function h(d){t.rejectUnauthorized&&r.emit("error",d),i.end()}return i.on("error",h),i};o.default=e}),Xi=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0});var c=(Ye(),je(Qe)),s=Gt(),l=_i(),f,n,e;function r(){let g=new s.Transform;return g._write=(b,m,_)=>{f.send({data:b.buffer,success(){_()},fail(E){_(new Error(E))}})},g._flush=b=>{f.close({success(){b()}})},g}function t(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function i(g,b){let m=g.protocol==="wxs"?"wss":"ws",_=`${m}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(_=`${m}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(_=g.transformWsUrl(_,g,b)),_}function h(){f.onOpen(()=>{e.socketReady()}),f.onMessage(g=>{let{data:b}=g;b instanceof ArrayBuffer?b=c.Buffer.from(b):b=c.Buffer.from(b,"utf8"),n.push(b)}),f.onClose(()=>{e.emit("close"),e.end(),e.destroy()}),f.onError(g=>{let b=new Error(g.errMsg);e.destroy(b)})}var d=(g,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let m=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";t(b);let _=i(b,g);f=wx.connectSocket({url:_,protocols:[m]}),n=r(),e=new l.BufferedDuplex(b,n,f),e._destroy=(I,y)=>{f.close({success(){y&&y(I)}})};let E=e.destroy;return e.destroy=(I,y)=>(e.destroy=E,setTimeout(()=>{f.close({fail(){e._destroy(I,y)}})},0),e),h(),e};o.default=d}),Zi=be(o=>{he(),ce(),fe(),Object.defineProperty(o,"__esModule",{value:!0});var c=(Ye(),je(Qe)),s=Gt(),l=_i(),f,n,e,r=!1;function t(){let b=new s.Transform;return b._write=(m,_,E)=>{f.sendSocketMessage({data:m.buffer,success(){E()},fail(){E(new Error)}})},b._flush=m=>{f.closeSocket({success(){m()}})},b}function i(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function h(b,m){let _=b.protocol==="alis"?"wss":"ws",E=`${_}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(E=`${_}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(E=b.transformWsUrl(E,b,m)),E}function d(){r||(r=!0,f.onSocketOpen(()=>{e.socketReady()}),f.onSocketMessage(b=>{if(typeof b.data=="string"){let m=c.Buffer.from(b.data,"base64");n.push(m)}else{let m=new FileReader;m.addEventListener("load",()=>{let _=m.result;_ instanceof ArrayBuffer?_=c.Buffer.from(_):_=c.Buffer.from(_,"utf8"),n.push(_)}),m.readAsArrayBuffer(b.data)}}),f.onSocketClose(()=>{e.end(),e.destroy()}),f.onSocketError(b=>{e.destroy(b)}))}var g=(b,m)=>{if(m.hostname=m.hostname||m.host,!m.hostname)throw new Error("Could not determine host. Specify host manually.");let _=m.protocolId==="MQIsdp"&&m.protocolVersion===3?"mqttv3.1":"mqtt";i(m);let E=h(m,b);return f=m.my,f.connectSocket({url:E,protocols:_}),n=t(),e=new l.BufferedDuplex(m,n,f),d(),e};o.default=g}),il=be(o=>{he(),ce(),fe();var c=o&&o.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(o,"__esModule",{value:!0}),o.connectAsync=h;var s=c(St()),l=c((tl(),je(eo))),f=c(ii()),n=c(Cr());typeof(Me==null?void 0:Me.nextTick)!="function"&&(Me.nextTick=setImmediate);var e=(0,s.default)("mqttjs"),r=null;function t(d){let g;d.auth&&(g=d.auth.match(/^(.+):(.+)$/),g?(d.username=g[1],d.password=g[2]):d.username=d.auth)}function i(d,g){var b,m,_;if(e("connecting to an MQTT broker..."),typeof d=="object"&&!g&&(g=d,d=""),g=g||{},d&&typeof d=="string"){let y=l.default.parse(d,!0),v={};if(y.port!=null&&(v.port=Number(y.port)),v.host=y.hostname,v.query=y.query,v.auth=y.auth,v.protocol=y.protocol,v.path=y.path,g=Object.assign(Object.assign({},v),g),!g.protocol)throw new Error("Missing protocol");g.protocol=g.protocol.replace(/:$/,"")}if(g.unixSocket=g.unixSocket||((b=g.protocol)===null||b===void 0?void 0:b.includes("+unix")),g.unixSocket?g.protocol=g.protocol.replace("+unix",""):!(!((m=g.protocol)===null||m===void 0)&&m.startsWith("ws"))&&!(!((_=g.protocol)===null||_===void 0)&&_.startsWith("wx"))&&delete g.path,t(g),g.query&&typeof g.query.clientId=="string"&&(g.clientId=g.query.clientId),g.cert&&g.key)if(g.protocol){if(["mqtts","wss","wxs","alis"].indexOf(g.protocol)===-1)switch(g.protocol){case"mqtt":g.protocol="mqtts";break;case"ws":g.protocol="wss";break;case"wx":g.protocol="wxs";break;case"ali":g.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${g.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(r||(r={},!n.default&&!g.forceNativeWebSocket?(r.ws=pr().streamBuilder,r.wss=pr().streamBuilder,r.mqtt=Yi().default,r.tcp=Yi().default,r.ssl=Ji().default,r.tls=r.ssl,r.mqtts=Ji().default):(r.ws=pr().browserStreamBuilder,r.wss=pr().browserStreamBuilder,r.wx=Xi().default,r.wxs=Xi().default,r.ali=Zi().default,r.alis=Zi().default)),!r[g.protocol]){let y=["mqtts","wss"].indexOf(g.protocol)!==-1;g.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((v,j)=>y&&j%2===0?!1:typeof r[v]=="function")[0]}if(g.clean===!1&&!g.clientId)throw new Error("Missing clientId for unclean clients");g.protocol&&(g.defaultProtocol=g.protocol);function E(y){return g.servers&&((!y._reconnectCount||y._reconnectCount===g.servers.length)&&(y._reconnectCount=0),g.host=g.servers[y._reconnectCount].host,g.port=g.servers[y._reconnectCount].port,g.protocol=g.servers[y._reconnectCount].protocol?g.servers[y._reconnectCount].protocol:g.defaultProtocol,g.hostname=g.host,y._reconnectCount++),e("calling streambuilder for",g.protocol),r[g.protocol](y,g)}let I=new f.default(E,g);return I.on("error",()=>{}),I}function h(d,g,b=!0){return new Promise((m,_)=>{let E=i(d,g),I={connect:v=>{y(),m(E)},end:()=>{y(),m(E)},error:v=>{y(),E.end(),_(v)}};b===!1&&(I.close=()=>{I.error(new Error("Couldn't connect to server"))});function y(){Object.keys(I).forEach(v=>{E.off(v,I[v])})}Object.keys(I).forEach(v=>{E.on(v,I[v])})})}o.default=i}),es=be(o=>{he(),ce(),fe();var c=o&&o.__createBinding||(Object.create?function(b,m,_,E){E===void 0&&(E=_);var I=Object.getOwnPropertyDescriptor(m,_);(!I||("get"in I?!m.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return m[_]}}),Object.defineProperty(b,E,I)}:function(b,m,_,E){E===void 0&&(E=_),b[E]=m[_]}),s=o&&o.__setModuleDefault||(Object.create?function(b,m){Object.defineProperty(b,"default",{enumerable:!0,value:m})}:function(b,m){b.default=m}),l=o&&o.__importStar||function(){var b=function(m){return b=Object.getOwnPropertyNames||function(_){var E=[];for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&(E[E.length]=I);return E},b(m)};return function(m){if(m&&m.__esModule)return m;var _={};if(m!=null)for(var E=b(m),I=0;I<E.length;I++)E[I]!=="default"&&c(_,m,E[I]);return s(_,m),_}}(),f=o&&o.__exportStar||function(b,m){for(var _ in b)_!=="default"&&!Object.prototype.hasOwnProperty.call(m,_)&&c(m,b,_)},n=o&&o.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(o,"__esModule",{value:!0}),o.ReasonCodes=o.KeepaliveManager=o.UniqueMessageIdProvider=o.DefaultMessageIdProvider=o.Store=o.MqttClient=o.connectAsync=o.connect=o.Client=void 0;var e=n(ii());o.MqttClient=e.default;var r=n(Rs());o.DefaultMessageIdProvider=r.default;var t=n(Da());o.UniqueMessageIdProvider=t.default;var i=n(xs());o.Store=i.default;var h=l(il());o.connect=h.default,Object.defineProperty(o,"connectAsync",{enumerable:!0,get:function(){return h.connectAsync}});var d=n(Gs());o.KeepaliveManager=d.default,o.Client=e.default,f(ii(),o),f(Zt(),o);var g=Pr();Object.defineProperty(o,"ReasonCodes",{enumerable:!0,get:function(){return g.ReasonCodes}})}),sl=be(o=>{he(),ce(),fe();var c=o&&o.__createBinding||(Object.create?function(e,r,t,i){i===void 0&&(i=t);var h=Object.getOwnPropertyDescriptor(r,t);(!h||("get"in h?!r.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,h)}:function(e,r,t,i){i===void 0&&(i=t),e[i]=r[t]}),s=o&&o.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),l=o&&o.__importStar||function(){var e=function(r){return e=Object.getOwnPropertyNames||function(t){var i=[];for(var h in t)Object.prototype.hasOwnProperty.call(t,h)&&(i[i.length]=h);return i},e(r)};return function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var i=e(r),h=0;h<i.length;h++)i[h]!=="default"&&c(t,r,i[h]);return s(t,r),t}}(),f=o&&o.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&c(r,e,t)};Object.defineProperty(o,"__esModule",{value:!0});var n=l(es());o.default=n,f(es(),o)});const al=sl();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/export{al as m};
