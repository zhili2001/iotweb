import{r as a,u as k,c as n,e as v,b as t,t as V,f as b,w as p,v as m,g as f,h as c,i as x,j as _,k as N,o as u}from"./index-BUOmST_B.js";const S={class:"login-container"},B={key:0,class:"error-alert"},C={key:1,class:"loading-overlay"},M={class:"login-container"},T={class:"form-group"},q={class:"form-group"},L={__name:"LoginView",setup(A){const o=a({username:"",password:""}),l=a(!1),s=a(""),i=k(),g=N(),w=async()=>{try{l.value=!0,s.value="",await i.login(o.value),i.isAuthenticated?g.replace("/home"):s.value="认证状态异常，请重新登录"}catch(d){s.value=d.message,setTimeout(()=>s.value="",5e3)}finally{l.value=!1}};return(d,e)=>{const y=_("router-link");return u(),n("div",S,[s.value?(u(),n("div",B,V(s.value),1)):v("",!0),l.value?(u(),n("div",C,e[2]||(e[2]=[t("div",{class:"loader"},null,-1)]))):v("",!0),t("div",M,[e[8]||(e[8]=t("h2",null,"用户登录",-1)),t("form",{onSubmit:b(w,["prevent"])},[t("div",T,[e[3]||(e[3]=t("label",null,"用户名",-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.value.username=r),type:"text",required:""},null,512),[[m,o.value.username]])]),t("div",q,[e[4]||(e[4]=t("label",null,"密码",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.value.password=r),type:"password",required:""},null,512),[[m,o.value.password]])]),e[7]||(e[7]=t("button",{type:"submit"},"登录",-1)),t("p",null,[e[6]||(e[6]=f("没有账号？")),c(y,{to:"/register"},{default:x(()=>e[5]||(e[5]=[f("立即注册")])),_:1})])],32)])])}}};export{L as default};
